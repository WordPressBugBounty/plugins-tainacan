"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[2130],{5021:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(40264)},7387:(t,a,e)=>{e.d(a,{X:()=>_});var i=e(6934);function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return r(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var o={key:1,class:"tainacan-modal-title"},l=["aria-label"],c={class:"sub-header tainacan-sub-header--sticky"},s={class:"media"},d={key:0,class:"media-left"},u=["src"],p={class:"media-content"},b={key:0,class:"control"},m={key:1,class:"section"},h={class:"content has-text-dark has-text-centered"},v={key:2,class:"pagination-area"},g={class:"shown-items"},y={class:"items-per-page"},f=["value"],k={class:"pagination"};function _(t,a,e,r,_,w){var x=(0,i.g2)("tainacan-title"),L=(0,i.g2)("b-input"),A=(0,i.g2)("b-field"),E=(0,i.g2)("b-autocomplete"),P=(0,i.g2)("b-datepicker"),$=(0,i.g2)("b-loading"),C=(0,i.g2)("activities-list"),X=(0,i.g2)("b-select"),F=(0,i.g2)("b-pagination");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"tainacan-repository-level-colors":_.isRepositoryLevel,"page-container":_.isRepositoryLevel,"tainacan-modal-content":_.isItemLevel})},[_.isItemLevel?((0,i.uX)(),(0,i.CE)("header",o,[(0,i.Lk)("h2",null,(0,i.v_)(t.$i18n.get("label_item_activities")),1),_.isItemLevel?((0,i.uX)(),(0,i.CE)("button",{key:0,class:"button is-medium is-white is-align-self-flex-start","aria-label":t.$i18n.get("close"),onClick:a[0]||(a[0]=function(a){return t.$emit("close")})},n(a[10]||(a[10]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,l)):(0,i.Q3)("",!0)])):((0,i.uX)(),(0,i.Wv)(x,{key:0,"is-sticky":!0})),(0,i.Lk)("div",c,[(0,i.bF)(A,{class:"header-item",style:{"margin-right":"auto","margin-left":"0"}},{default:(0,i.k6)((function(){return[(0,i.bF)(L,{modelValue:_.searchQuery,"onUpdate:modelValue":a[1]||(a[1]=function(t){return _.searchQuery=t}),placeholder:t.$i18n.get("instruction_search"),type:"search",size:"is-small","aria-label":t.$i18n.get("instruction_search")+" "+t.$i18n.get("activities"),autocomplete:"on","icon-right":"magnify","icon-right-clickable":"",onKeyup:a[2]||(a[2]=(0,i.jR)((function(t){return w.searchActivities()}),["enter"])),onIconRightClick:a[3]||(a[3]=function(t){return w.searchActivities()})},null,8,["modelValue","placeholder","aria-label"])]})),_:1}),(0,i.bF)(A,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(E,{clearable:"",data:_.users,placeholder:t.$i18n.get("instruction_type_search_users_filter"),"keep-first":"","open-on-focus":"",loading:_.isFetchingUsers,field:"name",icon:"account","check-infinite-scroll":"","onUpdate:modelValue":w.fetchUsersForFiltering,onFocusOnce:a[4]||(a[4]=function(t){return w.fetchUsersForFiltering(t.target.value)}),onSelect:w.filterActivitiesByUser,onInfiniteScroll:w.fetchMoreUsersForFiltering},(0,i.eX)({default:(0,i.k6)((function(t){return[(0,i.Lk)("div",s,[t.option.avatar_urls&&t.option.avatar_urls[24]?((0,i.uX)(),(0,i.CE)("div",d,[(0,i.Lk)("img",{width:"24",src:t.option.avatar_urls[24]},null,8,u)])):(0,i.Q3)("",!0),(0,i.Lk)("div",p,(0,i.v_)(t.option.name),1)])]})),_:2},[_.isFetchingUsers?void 0:{name:"empty",fn:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.$i18n.get("info_no_user_found")),1)]})),key:"0"}]),1032,["data","placeholder","loading","onUpdate:modelValue","onSelect","onInfiniteScroll"])]})),_:1}),(0,i.bF)(A,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(P,{ref:"datepicker",modelValue:_.searchDates,"onUpdate:modelValue":[a[5]||(a[5]=function(t){return _.searchDates=t}),a[6]||(a[6]=function(t){return w.searchActivities()})],"aria-next-label":t.$i18n.get("label_next_month"),"aria-previous-label":t.$i18n.get("label_previous_month"),placeholder:t.$i18n.get("label_range_of_dates"),range:"",position:"is-bottom-left","trap-focus":!1,"date-formatter":function(t){return w.dateFormatter(t)},"date-parser":function(t){return w.dateParser(t)},icon:"calendar-today","years-range":[-50,3],"day-names":[t.$i18n.get("datepicker_short_sunday"),t.$i18n.get("datepicker_short_monday"),t.$i18n.get("datepicker_short_tuesday"),t.$i18n.get("datepicker_short_wednesday"),t.$i18n.get("datepicker_short_thursday"),t.$i18n.get("datepicker_short_friday"),t.$i18n.get("datepicker_short_saturday")],"month-names":[t.$i18n.get("datepicker_month_january"),t.$i18n.get("datepicker_month_february"),t.$i18n.get("datepicker_month_march"),t.$i18n.get("datepicker_month_april"),t.$i18n.get("datepicker_month_may"),t.$i18n.get("datepicker_month_june"),t.$i18n.get("datepicker_month_july"),t.$i18n.get("datepicker_month_august"),t.$i18n.get("datepicker_month_september"),t.$i18n.get("datepicker_month_october"),t.$i18n.get("datepicker_month_november"),t.$i18n.get("datepicker_month_december")]},null,8,["modelValue","aria-next-label","aria-previous-label","placeholder","date-formatter","date-parser","day-names","month-names"]),_.searchDates&&0!=_.searchDates.length?((0,i.uX)(),(0,i.CE)("p",b,[(0,i.Lk)("button",{class:"button",onClick:a[7]||(a[7]=function(t){return w.clearSearchDates()})},n(a[11]||(a[11]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-close"})],-1)])))])):(0,i.Q3)("",!0)]})),_:1})]),(0,i.Lk)("div",{class:(0,i.C4)({"above-subheader":_.isRepositoryLevel})},[(0,i.bF)($,{modelValue:_.isLoading,"onUpdate:modelValue":a[8]||(a[8]=function(t){return _.isLoading=t}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"]),t.$userCaps.hasCapability("tnc_rep_read_logs")?((0,i.uX)(),(0,i.Wv)(C,{key:0,"is-loading":_.isLoading,"total-activities":_.totalActivities,page:_.activitiesPage,"activities-per-page":_.activitiesPerPage,activities:w.activities},null,8,["is-loading","total-activities","page","activities-per-page","activities"])):(0,i.Q3)("",!0),t.$userCaps.hasCapability("tnc_rep_read_logs")?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("section",m,[(0,i.Lk)("div",h,[a[12]||(a[12]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-activities"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_can_not_read_activities")),1)])])),_.totalActivities>0?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",g,(0,i.v_)(t.$i18n.get("info_showing_activities")+" "+(_.activitiesPerPage*(_.activitiesPage-1)+1)+t.$i18n.get("info_to")+w.getLastActivityNumber()+t.$i18n.get("info_of")+_.totalActivities+"."),1),(0,i.Lk)("div",y,[(0,i.bF)(A,{horizontal:"",label:t.$i18n.get("label_activities_per_page")},{default:(0,i.k6)((function(){return[(0,i.bF)(X,{"model-value":_.activitiesPerPage,disabled:w.activities.length<=0||w.activitiesPerPageOptions.length<=1,"onUpdate:modelValue":w.onChangeActivitiesPerPage},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.activitiesPerPageOptions,(function(t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t},(0,i.v_)(t),9,f)})),128))]})),_:1},8,["model-value","disabled","onUpdate:modelValue"])]})),_:1},8,["label"])]),(0,i.Lk)("div",k,[(0,i.bF)(F,{modelValue:_.activitiesPage,"onUpdate:modelValue":a[9]||(a[9]=function(t){return _.activitiesPage=t}),"aria-label":t.$i18n.get("label_pagination"),total:_.totalActivities,order:"is-centered",size:"is-small","per-page":_.activitiesPerPage,"aria-next-label":t.$i18n.get("label_next_page"),"aria-previous-label":t.$i18n.get("label_previous_page"),"aria-page-label":t.$i18n.get("label_page"),"aria-current-label":t.$i18n.get("label_current_page"),onChange:w.onPageChange},null,8,["modelValue","aria-label","total","per-page","aria-next-label","aria-previous-label","aria-page-label","aria-current-label","onChange"])])])):(0,i.Q3)("",!0)],2)],2)}},8237:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(55070)},8565:(t,a,e)=>{e.d(a,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([t.id,'.table-container[data-v-6a3b3c20]{overflow-x:hidden;padding:0 var(--tainacan-one-column);position:relative}.table-container .table-wrapper[data-v-6a3b3c20]{width:100%;height:100%;border-collapse:separate;overflow-x:auto;overflow-y:hidden;margin-bottom:0px !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton.thumbnail-cell[data-v-6a3b3c20]{max-height:52px;max-width:34px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:8px solid #fff !important;border-bottom:8px solid #fff !important;border-left:18px solid #fff !important;border-right:18px solid #fff !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton[data-v-6a3b3c20]:not(.thumbnail-cell){max-height:52px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:18px solid #fff !important;border-bottom:18px solid #fff !important;border-left:8px solid #fff !important;border-right:8px solid #fff !important}.table-container .table-wrapper table.tainacan-table[data-v-6a3b3c20]{animation-name:appear;animation-duration:.5s;width:100%;border-collapse:collapse;border-spacing:0;border-color:rgba(0,0,0,0)}.table-container .table-wrapper table.tainacan-table.is-narrow tbody td[data-v-6a3b3c20]{height:44px}.table-container .table-wrapper table.tainacan-table .checkbox-cell[data-v-6a3b3c20]{min-width:38px;width:38px;padding:0;left:0;top:auto;display:table-cell}.table-container .table-wrapper table.tainacan-table .checkbox-cell label.checkbox[data-v-6a3b3c20],.table-container .table-wrapper table.tainacan-table .checkbox-cell label.radio[data-v-6a3b3c20]{border-top-left-radius:var(--tainacan-item-border-radius, 0px);border-bottom-left-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);padding:0;width:100%;height:100%;display:flex;justify-content:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-checkbox.checkbox[data-v-6a3b3c20] .control-label,.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-radio.radio[data-v-6a3b3c20] .control-label{display:none}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-6a3b3c20]{position:sticky !important;position:-webkit-sticky !important}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-6a3b3c20]::before{visibility:visible !important}.table-container .table-wrapper table.tainacan-table .thumbnail-cell[data-v-6a3b3c20]{width:60px;text-align:center}.table-container .table-wrapper table.tainacan-table .status-cell[data-v-6a3b3c20]{width:2rem;padding-left:1px;padding-right:1px;text-align:center}.table-container .table-wrapper table.tainacan-table .column-small-width[data-v-6a3b3c20]{min-width:80px;max-width:80px}.table-container .table-wrapper table.tainacan-table .column-small-width p[data-v-6a3b3c20]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-default-width[data-v-6a3b3c20]{min-width:80px;max-width:160px}.table-container .table-wrapper table.tainacan-table .column-default-width p[data-v-6a3b3c20]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-medium-width[data-v-6a3b3c20]{min-width:120px;max-width:200px}.table-container .table-wrapper table.tainacan-table .column-medium-width p[data-v-6a3b3c20]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-large-width[data-v-6a3b3c20]{min-width:120px;max-width:250px}.table-container .table-wrapper table.tainacan-table .column-large-width p[data-v-6a3b3c20]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-main-content[data-v-6a3b3c20]{min-width:120px !important;max-width:240px !important}.table-container .table-wrapper table.tainacan-table .column-main-content p[data-v-6a3b3c20]{font-size:.875em !important;line-height:1.125em;color:var(--tainacan-input-color) !important;margin:0px !important}.table-container .table-wrapper table.tainacan-table .column-needed-width[data-v-6a3b3c20]{max-width:unset !important}.table-container .table-wrapper table.tainacan-table .column-align-right[data-v-6a3b3c20]{text-align:right !important}.table-container .table-wrapper table.tainacan-table th[data-v-6a3b3c20]{background-color:var(--tainacan-background-color);border:0px solid rgba(0,0,0,0);border-bottom:1px solid var(--tainacan-input-border-color);top:0px;z-index:9;padding:10px;vertical-align:bottom;text-align:start}.table-container .table-wrapper table.tainacan-table th .th-wrap[data-v-6a3b3c20]{font-size:.75em !important;color:var(--tainacan-info-color);font-weight:normal !important;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-6a3b3c20]{cursor:pointer;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-6a3b3c20]:not(:last-child){border-bottom:1px solid var(--tainacan-lists-separator-color, var(--tainacan-item-hover-background-color))}.table-container .table-wrapper table.tainacan-table tbody tr.selected-row[data-v-6a3b3c20]{--tainacan-item-background-color: var(--tainacan-primary);--tainacan-item-heading-hover-background-color: var(--tainacan-turquoise2);--tainacan-item-heading-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 5%, transparent);--tainacan-item-hover-background-color: var(--tainacan-primary);--tainacan-item-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 20%, transparent)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20]{height:60px;max-height:60px;padding:10px;vertical-align:middle;line-height:.75em;border:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20]:first-child{border-top-left-radius:var(--tainacan-item-border-radius, 0px);border-bottom-left-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20]:last-child{border-top-right-radius:var(--tainacan-item-border-radius, 0px);border-bottom-right-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.thumbnail-cell .skeleton[data-v-6a3b3c20]{height:38px;width:38px;border-radius:0;margin-top:-38px;margin-left:auto;margin-right:auto;position:relative;z-index:-1}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20]{font-size:.875em;margin:0px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group{display:inline-flex;align-items:center}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group>.multivalue-separator{display:inline-block;max-height:unset;margin:0 1.25em;height:2em;width:1px}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum{display:inline-flex;align-items:center;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header{display:inline-flex}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header .label{font-size:1.125em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum{display:inline-flex;align-items:baseline;margin-left:.75em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum .label{margin-top:0;margin-bottom:0;margin-right:.5em;font-size:.95em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-6a3b3c20] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum p{font-size:1em}.table-container .table-wrapper table.tainacan-table tbody tr td a[data-v-6a3b3c20]{text-decoration:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group{display:inline-block;font-size:1.125em;margin-top:-0.25em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100%}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group *{display:inline}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group .label{font-size:1em;color:var(--tainacan-info-color)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group .label:not(:first-child)::before{content:", ";font-size:1em;font-weight:normal;color:var(--tainacan-info-color);display:inline-block;margin-right:.35em;margin-left:-0.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group .label::after{content:": ";font-size:1em;color:var(--tainacan-info-color);display:inline-block;margin-right:.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-6a3b3c20] .tainacan-compound-group p{font-size:1em !important;line-height:1.25em !important}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-6a3b3c20],.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-6a3b3c20]{max-height:38px !important;min-height:38px;max-width:38px;border-radius:var(--tainacan-item-border-radius, 0px);padding-bottom:0px !important;padding-left:0px !important;padding-right:0px !important;padding-top:0px !important;word-wrap:anywhere;word-break:break-all;font-size:.75em;box-sizing:border-box;width:38px;display:inline-block}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-6a3b3c20] img,.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-6a3b3c20] img{border-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell[data-v-6a3b3c20]{padding:0px;position:sticky !important;position:-webkit-sticky !important;right:0px;top:auto;width:100px}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell .actions-container[data-v-6a3b3c20]{border-top-right-radius:var(--tainacan-item-border-radius, 0px);border-bottom-right-radius:var(--tainacan-item-border-radius, 0px);display:flex;position:relative;padding:0;height:100%;width:100px;z-index:9;background-color:var(--tainacan-item-background-color);float:right;justify-content:center;align-items:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell a[data-v-6a3b3c20]{margin:auto;font-size:1.125em !important}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-6a3b3c20]:hover{background-color:var(--tainacan-item-hover-background-color) !important;cursor:pointer}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell[data-v-6a3b3c20]{position:sticky !important;position:-webkit-sticky !important;background-color:var(--tainacan-item-heading-hover-background-color)}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .checkbox[data-v-6a3b3c20]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .radio[data-v-6a3b3c20]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell[data-v-6a3b3c20]{transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell .actions-container[data-v-6a3b3c20]{background:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table.hide-items-selection tr[data-v-6a3b3c20]:hover{background-color:rgba(0,0,0,0) !important;cursor:default}.activities-icon[data-v-6a3b3c20]{height:24px;width:24px}',""]);const l=o},14376:(t,a,e)=>{e.d(a,{A:()=>i.A});var i=e(89715)},19830:(t,a,e)=>{e(27715)},23558:(t,a,e)=>{e.d(a,{A:()=>r});var i=e(31880),n=e(8237);e(19830);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-6c339ce8"]])},27715:(t,a,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),u=e(10540),p=e.n(u),b=e(63494),m=e.n(b),h=e(82474),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},31880:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(54719)},37950:(t,a,e)=>{e.d(a,{X:()=>y});var i=e(6934),n={class:"table-container"},r={class:"table-wrapper"},o={class:"tainacan-table is-narrow"},l={class:"th-wrap"},c={class:"th-wrap"},s={class:"th-wrap"},d=["label","aria-label","onClick"],u=["label","aria-label","onClick"],p=["innerHTML"],b=["label","aria-label","onClick"],m=["innerHTML"],h={key:0},v={class:"section"},g={class:"content has-text-dark has-text-centered"};function y(t,a,e,y,f,k){var _=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",r,[(0,i.Lk)("table",o,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,[(0,i.Lk)("div",l,(0,i.v_)(t.$i18n.get("label_activity_title")),1)]),(0,i.Lk)("th",null,[(0,i.Lk)("div",c,(0,i.v_)(t.$i18n.get("label_created_by")),1)]),(0,i.Lk)("th",null,[(0,i.Lk)("div",s,(0,i.v_)(t.$i18n.get("label_activity_date")),1)])])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.activities,(function(a,e){return(0,i.uX)(),(0,i.CE)("tr",{key:e},[(0,i.Lk)("td",{class:"column-default-width column-main-content",label:t.$i18n.get("label_activity_title"),"aria-label":t.$i18n.get("label_activity_title")+": "+a.title,onClick:function(t){return k.openActivityDetailsModal(a)}},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("p",null,[(0,i.eW)((0,i.v_)(a.title),1)])),[[_,{delay:{show:500,hide:300},content:a.title,autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,d),(0,i.Lk)("td",{class:"table-creation column-small-width",label:t.$i18n.get("label_created_by"),"aria-label":t.$i18n.get("label_created_by")+": "+a.user_name,onClick:function(t){return k.openActivityDetailsModal(a)}},[(0,i.bo)((0,i.Lk)("p",{innerHTML:a.user_name},null,8,p),[[_,{delay:{show:500,hide:300},content:a.user_name,autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,u),(0,i.Lk)("td",{class:"table-creation column-small-width",label:t.$i18n.get("label_activity_date"),"aria-label":t.$i18n.get("label_activity_date")+": "+a.date,onClick:function(t){return k.openActivityDetailsModal(a)}},[(0,i.bo)((0,i.Lk)("p",{innerHTML:a.date},null,8,m),[[_,{delay:{show:500,hide:300},content:a.date,autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,b)])})),128))])])]),!(e.totalActivities<=0)&&e.totalActivities||e.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("section",v,[(0,i.Lk)("div",g,[a[0]||(a[0]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-activities"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_no_activities")),1)])])]))])}},40264:(t,a,e)=>{e.d(a,{A:()=>m});var i=e(88371),n=e(74042),r=e(40834),o=e(95093),l=e.n(o);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function d(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){u(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function u(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==c(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function p(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return b(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?b(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){o=!0,n=t},f:function(){try{r||null==e.return||e.return()}finally{if(o)throw n}}}}function b(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}const m={name:"ActivitiesPage",components:{ActivitiesList:i.A},mixins:[n.$J],emits:["close"],data:function(){return{isLoading:!1,totalActivities:0,activitiesPage:1,activitiesPerPage:12,isRepositoryLevel:!1,isItemLevel:!1,searchQuery:"",searchDates:[],users:[],isFetchingUsers:!1,userIdForFiltering:null,usersForFilteringSearchQuery:"",usersForFilteringSearchPage:1,totalUsers:0,maxActivitiesPerPage:tainacan_plugin.api_max_items_per_page?Number(tainacan_plugin.api_max_items_per_page):96}},computed:{activities:function(){var t,a=this.getActivities(),e=p(a);try{for(e.s();!(t=e.n()).done;){var i=t.value;i.by=this.$i18n.get("info_by")+i.user_name+"<br>"+this.$i18n.get("info_date")+l()(i.date,"YYYY-MM-DD h:mm:ss").format("DD/MM/YYYY, hh:mm:ss")}}catch(t){e.e(t)}finally{e.f()}return a},activitiesPerPageOptions:function(){var t=[];return 12<=this.maxActivitiesPerPage&&t.push(12),24<=this.maxActivitiesPerPage&&t.push(24),48<=this.maxActivitiesPerPage&&t.push(48),t.includes(this.maxActivitiesPerPage)||t.push(this.maxActivitiesPerPage),isNaN(this.activitiesPerPage)||t.includes(this.activitiesPerPage)||t.push(Number(this.activitiesPerPage)),t.sort((function(t,a){return t-a}))}},created:function(){this.activitiesPerPage=this.$userPrefs.get("activities_per_page"),this.isRepositoryLevel=void 0===this.$route.params.collectionId,this.isItemLevel=!this.isRepositoryLevel&&this.$route.params.itemId},mounted:function(){this.activitiesPerPage!=this.$userPrefs.get("activities_per_page")&&(this.activitiesPerPage=this.$userPrefs.get("activities_per_page")),this.activitiesPerPage||(this.activitiesPerPage=12,this.$userPrefs.set("activities_per_page",12)),this.loadActivities()},methods:d(d(d({},(0,r.i0)("activity",["fetchActivities","fetchCollectionActivities","fetchItemActivities","fetchUsers"])),(0,r.L8)("activity",["getActivities"])),{},{onChangeActivitiesPerPage:function(t){var a=this;t!=this.activitiesPerPage&&this.$userPrefs.set("activities_per_page",t).then((function(t){a.activitiesPerPage=t})).catch((function(){a.$console.log("Error settings user prefs for activities per page")})),this.activitiesPerPage=t,this.loadActivities()},onPageChange:function(){this.loadActivities()},loadActivities:function(){var t=this;this.isLoading=!0;var a=this.searchDates&&this.searchDates[0]?l()(this.searchDates[0]).format("YYYY-MM-DD"):null,e=this.searchDates&&this.searchDates[1]?l()(this.searchDates[1]).format("YYYY-MM-DD"):null;this.isRepositoryLevel?this.fetchActivities({page:this.activitiesPage,activitiesPerPage:this.activitiesPerPage,search:this.searchQuery,searchDates:[a,e],authorId:this.userIdForFiltering}).then((function(a){t.isLoading=!1,t.totalActivities=a.total})).catch((function(){t.isLoading=!1})):this.isRepositoryLevel||this.isItemLevel?this.fetchItemActivities({page:this.activitiesPage,activitiesPerPage:this.activitiesPerPage,itemId:this.$route.params.itemId,search:this.searchQuery,searchDates:[a,e],authorId:this.userIdForFiltering}).then((function(a){t.isLoading=!1,t.totalActivities=a.total})).catch((function(){t.isLoading=!1})):this.fetchCollectionActivities({page:this.activitiesPage,activitiesPerPage:this.activitiesPerPage,collectionId:this.$route.params.collectionId,search:this.searchQuery,searchDates:[a,e],authorId:this.userIdForFiltering}).then((function(a){t.isLoading=!1,t.totalActivities=a.total})).catch((function(){t.isLoading=!1}))},clearSearchDates:function(){this.searchDates=null,this.loadActivities()},getLastActivityNumber:function(){var t=Number(this.activitiesPerPage*(this.activitiesPage-1))+Number(this.activitiesPerPage);return t>this.totalActivities?this.totalActivities:t},searchActivities:function(){this.activitiesPage=1,this.loadActivities()},filterActivitiesByUser:function(t){this.userIdForFiltering=null!=t&&null!=t.id?t.id:null,this.loadActivities()},dateFormatter:function(t){return null==t||0==t.length||null==t[0]||null==t[1]?"":l()(t[0],l().ISO_8601).format(this.dateFormat)+" - "+l()(t[1],l().ISO_8601).format(this.dateFormat)},dateParser:function(t){return[l()(t[0],this.dateFormat).toDate(),l()(t[1],this.dateFormat).toDate()]},fetchUsersForFiltering:_.debounce((function(t){var a=this;t!=this.usersForFilteringSearchQuery&&(this.usersForFilteringSearchQuery=t,this.users=[],this.usersForFilteringSearchPage=1),t.length||(this.usersForFilteringSearchQuery=t,this.users=[],this.usersForFilteringSearchPage=1),this.usersForFilteringSearchPage>1&&this.users.length>this.totalUsers||(this.isFetchingUsers=!0,this.fetchUsers({search:this.usersForFilteringSearchQuery,page:this.usersForFilteringSearchPage}).then((function(t){if(t.users){var e,i=p(t.users);try{for(i.s();!(e=i.n()).done;){var n=e.value;a.users.push(n)}}catch(t){i.e(t)}finally{i.f()}}t.totalUsers&&(a.totalUsers=t.totalUsers),a.usersForFilteringSearchPage++,a.isFetchingUsers=!1})).catch((function(t){a.$console.error(t),a.isFetchingUsers=!1})))}),500),fetchMoreUsersForFiltering:_.debounce((function(){this.fetchUsersForFiltering(this.usersForFilteringSearchQuery)}),250)})}},47012:(t,a,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),u=e(10540),p=e.n(u),b=e(63494),m=e.n(b),h=e(8565),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},54702:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(7387)},54719:(t,a,e)=>{e.d(a,{X:()=>ha});var i=e(6934);function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return r(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var o={key:0,class:"tainacan-modal-title"},l=["aria-label"],c={key:1,class:"modal-card-body"},s={class:"content"},d={key:0},u={key:1},p=["innerHTML"],b={key:0},m={class:"column is-6"},h={key:0,class:"content"},v={class:"is-capitalized has-text-weight-bold"},g={class:"has-text-dark has-text-weight-normal"},y=["src","alt"],f={key:1,class:"content"},k={class:"is-capitalized has-text-weight-bold"},_={class:"has-text-dark has-text-weight-normal"},w={key:0,class:"tainacan-attachments-in-modal"},x={key:1},L={key:2,class:"content"},A={class:"is-capitalized has-text-weight-bold"},E={class:"has-text-dark has-text-weight-normal"},P={key:0,class:"tainacan-p-break"},$={key:1,class:"content"},C={key:2,class:"content"},X={key:3,class:"content"},F={class:"tainacan-p-break"},j={key:4,class:"tainacan-p-break"},I={class:"column is-6"},S={key:0,class:"content"},O={class:"is-capitalized has-text-weight-bold"},D={class:"has-text-dark has-text-weight-normal"},T=["src","alt"],z={key:1,class:"content"},M={class:"is-capitalized has-text-weight-bold"},H={class:"has-text-dark has-text-weight-normal"},Q={key:0,class:"tainacan-attachments-in-modal"},U={key:1},W={key:2,class:"content"},K={class:"is-capitalized has-text-weight-bold"},V={class:"has-text-dark has-text-weight-normal"},Y={key:0,class:"tainacan-p-break"},N={key:1,class:"content"},R={key:2,class:"content"},B={key:3,class:"content"},q={class:"tainacan-p-break"},J={key:4,class:"tainacan-p-break"},G={key:1},Z={class:"columns"},tt={class:"column is-6"},at={key:0,class:"content"},et={class:"is-capitalized has-text-weight-bold"},it={class:"has-text-dark has-text-weight-normal"},nt={key:0,class:"tainacan-p-break"},rt=["alt","src"],ot={key:1},lt={key:1,class:"content"},ct={class:"is-capitalized has-text-weight-bold"},st={class:"has-text-dark has-text-weight-normal"},dt={key:0},ut={key:1},pt={key:2,class:"content"},bt={class:"is-capitalized has-text-weight-bold"},mt={class:"has-text-dark has-text-weight-normal"},ht={key:0,class:"tainacan-p-break"},vt=["alt","src"],gt=["innerHTML"],yt={key:3,class:"content"},ft={class:"is-capitalized has-text-weight-bold"},kt={class:"has-text-dark has-text-weight-normal"},_t={class:"content"},wt=["innerHTML"],xt={key:4,class:"content"},Lt={class:"is-capitalized has-text-weight-bold"},At={class:"has-text-dark has-text-weight-normal"},Et={key:0,class:"tainacan-p-break"},Pt={key:1,class:"content"},$t=["innerHTML"],Ct={key:5,class:"content"},Xt={class:"is-capitalized has-text-weight-bold"},Ft={class:"has-text-dark has-text-weight-normal"},jt=["innerHTML"],It={class:"column is-6"},St={key:0,class:"content"},Ot={class:"is-capitalized has-text-weight-bold"},Dt={class:"has-text-dark has-text-weight-normal"},Tt={key:0,class:"tainacan-p-break"},zt=["alt","src"],Mt={key:1},Ht={key:1,class:"content"},Qt={class:"is-capitalized has-text-weight-bold"},Ut={class:"has-text-dark has-text-weight-normal"},Wt={key:0},Kt={key:1},Vt={key:2,class:"content"},Yt={class:"is-capitalized has-text-weight-bold"},Nt={class:"has-text-dark has-text-weight-normal"},Rt={key:0,class:"tainacan-p-break"},Bt=["alt","src"],qt=["innerHTML"],Jt={key:3,class:"content"},Gt={class:"is-capitalized has-text-weight-bold"},Zt={class:"has-text-dark has-text-weight-normal"},ta={class:"content"},aa=["innerHTML"],ea={key:0,class:"content"},ia={class:"is-capitalized has-text-weight-bold"},na={class:"has-text-dark has-text-weight-normal"},ra={key:0,class:"content"},oa={key:1,class:"content"},la={class:"tainacan-p-break"},ca=["alt","src"],sa=["innerHTML"],da={key:4,class:"content"},ua={class:"is-capitalized has-text-weight-bold"},pa={class:"has-text-dark has-text-weight-normal"},ba=["innerHTML"],ma={class:"control"};function ha(t,a,e,r,ha,va){var ga=(0,i.g2)("b-loading"),ya=(0,i.g2)("file-item");return(0,i.uX)(),(0,i.CE)("div",{ref:"activityDetailsModal",autofocus:"",role:"dialog",class:(0,i.C4)(["tainacan-modal-content",{"tainacan-repository-level-colors":ha.isRepositoryLevel}]),tabindex:"-1","aria-modal":""},[ha.isLoadingActivity?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("header",o,[(0,i.Lk)("h2",null,(0,i.v_)(t.activity.title?t.activity.title:t.$i18n.get("activity")),1),(0,i.Lk)("button",{class:"button is-medium is-white is-align-self-flex-start","aria-label":t.$i18n.get("close"),onClick:a[0]||(a[0]=function(a){return t.$emit("close")})},n(a[3]||(a[3]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,l),(0,i.Lk)("p",null,[(0,i.eW)((0,i.v_)(ha.activityCreationDate+", "+t.$i18n.get("info_by_inner"))+" ",1),(0,i.Lk)("strong",null,(0,i.v_)(t.activity.user_name),1)])])),(0,i.bF)(ga,{modelValue:ha.isLoadingActivity,"onUpdate:modelValue":a[1]||(a[1]=function(t){return ha.isLoadingActivity=t}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"]),ha.isLoadingActivity?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",s,[t.activity.description?((0,i.uX)(),(0,i.CE)("p",d,[(0,i.Lk)("strong",null,(0,i.v_)(t.$i18n.get("label_activity_description"))+":",1),(0,i.eW)(" "+(0,i.v_)(t.activity.description),1)])):(0,i.Q3)("",!0),t.activity.object?((0,i.uX)(),(0,i.CE)("p",u,[(0,i.Lk)("strong",null,(0,i.v_)(t.$i18n.get("label_related_to"))+": ",1),(0,i.Lk)("span",{innerHTML:va.relatedToLink},null,8,p)])):(0,i.Q3)("",!0)]),null!=t.activity.legacy&&1==t.activity.legacy?((0,i.uX)(),(0,i.CE)("div",b,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.log_diffs,(function(a,e,n){return(0,i.uX)(),(0,i.CE)("div",{key:n,class:"columns"},[(0,i.Lk)("div",m,["thumbnail"==e?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("p",v,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",g,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),(0,i.Lk)("div",null,[(0,i.Lk)("picture",null,[(0,i.Lk)("img",{width:"150px",src:a.old?a.old:t.$thumbHelper.getEmptyThumbnailPlaceholder(),alt:e},null,8,y)])])])):(0,i.Q3)("",!0),"attachments"==e?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("p",k,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",_,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),a.old.length?((0,i.uX)(),(0,i.CE)("div",w,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.old,(function(t,a){return(0,i.uX)(),(0,i.Wv)(ya,{key:a,"modal-on-click":!1,"show-name":!0,file:{title:t.title,thumbnails:{"tainacan-medium":[t.url]},mime_type:t.mime_type,media_type:t.mime_type.includes("image")?"image":"other"}},null,8,["file"])})),128))])):((0,i.uX)(),(0,i.CE)("div",x,[(0,i.Lk)("p",null,(0,i.v_)(ha.infoEmpty),1)]))])):(0,i.Q3)("",!0),["thumbnail","attachments"].includes(e)?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",L,[(0,i.Lk)("p",A,[(0,i.eW)((0,i.v_)(e.replace(/_/g," "))+" ",1),(0,i.Lk)("small",E,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),a.old instanceof Array&&1==a.old.length&&!(a.old[0]instanceof Object)?((0,i.uX)(),(0,i.CE)("p",P,(0,i.v_)(a.old.toString()),1)):"metadata_order"==e?((0,i.uX)(),(0,i.CE)("div",$,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.old,(function(t,e){return(0,i.uX)(),(0,i.CE)("p",{key:e,class:"tainacan-p-break"},(0,i.v_)(a.old?"ID: ".concat(t.id," | Enabled: ").concat(t.enabled):ha.infoEmpty),1)})),128))])):"filters_order"==e?((0,i.uX)(),(0,i.CE)("div",C,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.old,(function(t,e){return(0,i.uX)(),(0,i.CE)("p",{key:e,class:"tainacan-p-break"},(0,i.v_)(a.old?"ID: ".concat(t.id," | Enabled: ").concat(t.enabled):ha.infoEmpty),1)})),128))])):"metadata_type_options"==e?((0,i.uX)(),(0,i.CE)("div",X,[(0,i.Lk)("p",F,(0,i.v_)(a.old?"Taxonomy ID: ".concat(a.old.taxonomy_id,";\n                                    Input type: ").concat(a.old.input_type,";\n                                    Allow new terms: ").concat(a.old.allow_new_terms):ha.infoEmpty),1)])):((0,i.uX)(),(0,i.CE)("p",j,(0,i.v_)(a.old?a.old instanceof Array&&!a.old.length?ha.infoEmpty:a.old.toString().replace(/,/g," "):ha.infoEmpty),1))]))]),(0,i.Lk)("div",I,["thumbnail"==e?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.Lk)("p",O,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",D,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),(0,i.Lk)("div",null,[(0,i.Lk)("picture",null,[(0,i.Lk)("img",{width:"150px",src:a.new?a.new:t.$thumbHelper.getEmptyThumbnailPlaceholder(),alt:e},null,8,T)])])])):(0,i.Q3)("",!0),"attachments"==e?((0,i.uX)(),(0,i.CE)("div",z,[(0,i.Lk)("p",M,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",H,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),a.new.length?((0,i.uX)(),(0,i.CE)("div",Q,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.new,(function(t,a){return(0,i.uX)(),(0,i.Wv)(ya,{key:a,"modal-on-click":!1,"show-name":!0,file:{title:t.title,thumbnails:{"tainacan-medium":[t.url]},mime_type:t.mime_type,media_type:t.mime_type.includes("image")?"image":"other"}},null,8,["file"])})),128))])):((0,i.uX)(),(0,i.CE)("div",U,[(0,i.Lk)("p",null,(0,i.v_)(ha.infoEmpty),1)]))])):(0,i.Q3)("",!0),["thumbnail","attachments"].includes(e)?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",W,[(0,i.Lk)("p",K,[(0,i.eW)((0,i.v_)(e.replace(/_/g," "))+" ",1),(0,i.Lk)("small",V,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),a.new instanceof Array&&1==a.new.length&&!(a.new[0]instanceof Object)?((0,i.uX)(),(0,i.CE)("p",Y,(0,i.v_)(a.new.toString()),1)):"metadata_order"==e?((0,i.uX)(),(0,i.CE)("div",N,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.new,(function(t,a){return(0,i.uX)(),(0,i.CE)("p",{key:a,class:"tainacan-p-break"},(0,i.v_)("ID: ".concat(t.id," | Enabled: ").concat(t.enabled)),1)})),128))])):"filters_order"==e?((0,i.uX)(),(0,i.CE)("div",R,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.new,(function(t,a){return(0,i.uX)(),(0,i.CE)("p",{key:a,class:"tainacan-p-break"},(0,i.v_)("ID: ".concat(t.id," | Enabled: ").concat(t.enabled)),1)})),128))])):"metadata_type_options"==e?((0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("p",q,(0,i.v_)("Taxonomy ID: ".concat(a.new.taxonomy_id,";\n                                        Input type: ").concat(a.new.input_type,";\n                                        Allow new terms: ").concat(a.new.allow_new_terms)),1)])):((0,i.uX)(),(0,i.CE)("p",J,(0,i.v_)(a.new?a.new instanceof Array&&!a.new.length?ha.infoEmpty:a.new.toString().replace(/,/g," "):ha.infoEmpty),1))]))])])})),128))])):((0,i.uX)(),(0,i.CE)("div",G,[(0,i.Lk)("div",Z,[(0,i.Lk)("div",tt,["update-thumbnail"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",at,[(0,i.Lk)("p",et,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_thumbnail"))+" ",1),(0,i.Lk)("small",it,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),t.activity.old_value&&t.activity.old_value.thumb&&t.activity.old_value.thumb[0]?((0,i.uX)(),(0,i.CE)("p",nt,[(0,i.Lk)("img",{style:{margin:"12px 0","max-width":"150px"},alt:t.$i18n.get("label_thumbnail"),src:t.activity.old_value.thumb[0]},null,8,rt)])):((0,i.uX)(),(0,i.CE)("p",ot,(0,i.v_)(ha.infoEmpty),1))])):(0,i.Q3)("",!0),"new-attachment"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",lt,[(0,i.Lk)("p",ct,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_attachment"))+" ",1),(0,i.Lk)("small",st,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),t.activity.old_value.url?((0,i.uX)(),(0,i.CE)("div",dt,[(0,i.bF)(ya,{"modal-on-click":!1,"show-name":!0,file:{title:t.activity.old_value.title,thumbnails:{"tainacan-medium":[t.activity.old_value.url]},mime_type:t.activity.old_value.mime_type,media_type:t.activity.old_value.mime_type.includes("image")?"image":"other"}},null,8,["file"])])):((0,i.uX)(),(0,i.CE)("div",ut,[(0,i.Lk)("p",null,(0,i.v_)(ha.infoEmpty),1)]))])):(0,i.Q3)("",!0),"update-document"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",pt,[(0,i.Lk)("p",bt,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_document"))+" ",1),(0,i.Lk)("small",mt,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.old_value,(function(a,e,n){return(0,i.uX)(),(0,i.CE)("div",{key:n},["thumb"==e&&a[0]?((0,i.uX)(),(0,i.CE)("p",ht,[(0,i.Lk)("img",{style:{margin:"12px 0","max-width":"150px"},alt:t.$i18n.get("label_document"),src:a[0]},null,8,vt)])):((0,i.uX)(),(0,i.CE)("p",{key:1,class:"tainacan-p-break",innerHTML:"<strong>"+e+": </strong>"+(a||ha.infoEmpty)},null,8,gt))])})),128))])):(0,i.Q3)("",!0),"update-metadata-order"==t.activity.action||"update-filters-order"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",yt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.old_value,(function(a,e,n){return(0,i.uX)(),(0,i.CE)("div",{key:n},[(0,i.Lk)("p",ft,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",kt,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),(0,i.Lk)("div",_t,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a,(function(e,n){return(0,i.uX)(),(0,i.CE)("p",{key:n,class:"tainacan-p-break",innerHTML:a?"ID: ".concat(e.id," <span class='is-italic'>(").concat(e.enabled?t.$i18n.get("label_enabled"):t.$i18n.get("label_disabled"),")</span>"):ha.infoEmpty},null,8,wt)})),128))])])})),128))])):(0,i.Q3)("",!0),"update"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",xt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.old_value,(function(e,n,r){return(0,i.uX)(),(0,i.CE)("div",{key:r},[(0,i.Lk)("p",Lt,[(0,i.eW)((0,i.v_)(n)+" ",1),(0,i.Lk)("small",At,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),e instanceof Array&&1==e.length&&!(e[0]instanceof Object)?((0,i.uX)(),(0,i.CE)("p",Et,(0,i.v_)(e.toString()),1)):"metadata_type_options"==n?((0,i.uX)(),(0,i.CE)("div",Pt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e,(function(t,e,n){return(0,i.uX)(),(0,i.CE)("p",{key:n,class:"tainacan-p-break"},[(0,i.Lk)("strong",null,(0,i.v_)(e+": "),1),(0,i.eW)((0,i.v_)(t||ha.infoEmpty)+" ",1),a[4]||(a[4]=(0,i.Lk)("br",null,null,-1))])})),128))])):((0,i.uX)(),(0,i.CE)("p",{key:2,class:"tainacan-p-break",innerHTML:!e||e instanceof Array&&!e.length?ha.infoEmpty:e instanceof Array?e.join("<span class='multivalue-separator'>|</span>"):e},null,8,$t))])})),128))])):(0,i.Q3)("",!0),"update-metadata-value"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",Ct,[(0,i.Lk)("p",Xt,[(0,i.eW)((0,i.v_)(t.activity.metadata&&t.activity.metadata.name?t.activity.metadata.name:t.$i18n.get("metadatum"))+" ",1),(0,i.Lk)("small",Ft,(0,i.v_)("(".concat(t.$i18n.get("info_logs_before"),")")),1)]),(0,i.Lk)("p",{class:"tainacan-p-break",innerHTML:t.activity.old_value?t.activity.old_value instanceof Array?t.activity.old_value.join("<span class='multivalue-separator'>|</span>"):t.activity.old_value:ha.infoEmpty},null,8,jt)])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",It,["update-thumbnail"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",St,[(0,i.Lk)("p",Ot,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_thumbnail"))+" ",1),(0,i.Lk)("small",Dt,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),t.activity.new_value&&t.activity.new_value.thumb&&t.activity.new_value.thumb[0]?((0,i.uX)(),(0,i.CE)("p",Tt,[(0,i.Lk)("img",{style:{margin:"12px 0","max-width":"150px"},alt:t.$i18n.get("label_thumbnail"),src:t.activity.new_value.thumb[0]},null,8,zt)])):((0,i.uX)(),(0,i.CE)("p",Mt,(0,i.v_)(ha.infoEmpty),1))])):(0,i.Q3)("",!0),"new-attachment"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",Ht,[(0,i.Lk)("p",Qt,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_attachment"))+" ",1),(0,i.Lk)("small",Ut,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),t.activity.new_value.url?((0,i.uX)(),(0,i.CE)("div",Wt,[(0,i.bF)(ya,{"modal-on-click":!1,"show-name":!0,file:{title:t.activity.new_value.title,thumbnails:{"tainacan-medium":[t.activity.new_value.url]},mime_type:t.activity.new_value.mime_type,media_type:t.activity.new_value.mime_type.includes("image")?"image":"other"}},null,8,["file"])])):((0,i.uX)(),(0,i.CE)("div",Kt,[(0,i.Lk)("p",null,(0,i.v_)(ha.infoEmpty),1)]))])):(0,i.Q3)("",!0),"update-document"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",Vt,[(0,i.Lk)("p",Yt,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_document"))+" ",1),(0,i.Lk)("small",Nt,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.new_value,(function(a,e,n){return(0,i.uX)(),(0,i.CE)("div",{key:n},["thumb"==e&&a[0]?((0,i.uX)(),(0,i.CE)("p",Rt,[(0,i.Lk)("img",{style:{margin:"12px 0","max-width":"150px"},alt:t.$i18n.get("label_document"),src:a[0]},null,8,Bt)])):((0,i.uX)(),(0,i.CE)("p",{key:1,class:"tainacan-p-break",innerHTML:"<strong>"+e+": </strong>"+(a||ha.infoEmpty)},null,8,qt))])})),128))])):(0,i.Q3)("",!0),"update-metadata-order"==t.activity.action||"update-filters-order"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",Jt,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.new_value,(function(a,e,n){return(0,i.uX)(),(0,i.CE)("div",{key:n},[(0,i.Lk)("p",Gt,[(0,i.eW)((0,i.v_)(e)+" ",1),(0,i.Lk)("small",Zt,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),(0,i.Lk)("div",ta,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a,(function(e,n){return(0,i.uX)(),(0,i.CE)("p",{key:n,class:"tainacan-p-break",innerHTML:a?"ID: ".concat(e.id," <span class='is-italic'>(").concat(e.enabled?t.$i18n.get("label_enabled"):t.$i18n.get("label_disabled"),")</span>"):ha.infoEmpty},null,8,aa)})),128))])])})),128))])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activity.new_value,(function(e,n,r){return(0,i.uX)(),(0,i.CE)("div",{key:r},["update"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",ea,[(0,i.Lk)("p",ia,[(0,i.eW)((0,i.v_)(n)+" ",1),(0,i.Lk)("small",na,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),"metadata_type_options"==n?((0,i.uX)(),(0,i.CE)("div",ra,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e,(function(t,e,n){return(0,i.uX)(),(0,i.CE)("p",{key:n,class:"tainacan-p-break"},[(0,i.Lk)("strong",null,(0,i.v_)(e+": "),1),(0,i.eW)((0,i.v_)(t||ha.infoEmpty)+" ",1),a[5]||(a[5]=(0,i.Lk)("br",null,null,-1))])})),128))])):"header_image_id"==n?((0,i.uX)(),(0,i.CE)("div",oa,[(0,i.Lk)("p",la,[(0,i.eW)((0,i.v_)(e||ha.infoEmpty)+" ",1),a[6]||(a[6]=(0,i.Lk)("br",null,null,-1)),t.activity.terms&&t.activity.terms.header_image?((0,i.uX)(),(0,i.CE)("img",{key:0,style:{margin:"12px 0","max-width":"160px"},alt:t.$i18n.get("label_header_image"),src:t.activity.terms.header_image},null,8,ca)):(0,i.Q3)("",!0)])])):((0,i.uX)(),(0,i.CE)("p",{key:2,class:"tainacan-p-break",innerHTML:!e||e instanceof Array&&!e.length?ha.infoEmpty:e instanceof Array?e.join("<span class='multivalue-separator'>|</span>"):e},null,8,sa))])):(0,i.Q3)("",!0)])})),128)),"update-metadata-value"==t.activity.action?((0,i.uX)(),(0,i.CE)("div",da,[(0,i.Lk)("p",ua,[(0,i.eW)((0,i.v_)(t.activity.metadata&&t.activity.metadata.name?t.activity.metadata.name:t.$i18n.get("metadatum"))+" ",1),(0,i.Lk)("small",pa,(0,i.v_)("(".concat(t.$i18n.get("info_logs_after"),")")),1)]),(0,i.Lk)("p",{class:"tainacan-p-break",innerHTML:t.activity.new_value?t.activity.new_value instanceof Array?t.activity.new_value.join("<span class='multivalue-separator'>|</span>"):t.activity.new_value:ha.infoEmpty},null,8,ba)])):(0,i.Q3)("",!0)])])]))])),(0,i.Lk)("footer",null,[(0,i.Lk)("div",ma,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:a[2]||(a[2]=function(a){return t.$emit("close")})},(0,i.v_)(t.$i18n.get("close")),1)])])],2)}},55070:(t,a,e)=>{e.d(a,{A:()=>d});var i=e(40834),n=e(95093),r=e.n(n);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?l(Object(e),!0).forEach((function(a){s(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function s(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==o(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const d={name:"ActivityDetailsModal",components:{FileItem:e(1580).A},props:{activityId:Number},emits:["approveActivity","notApproveActivity","close"],data:function(){return{infoEmpty:"[ ".concat(this.$i18n.get("info_empty").toLowerCase()," ]"),dateFormat:"",activityCreationDate:"",isLoadingActivity:!1,isRepositoryLevel:!1}},computed:c(c({},(0,i.L8)("activity",{activity:"getActivity"})),{},{relatedToLink:function(){switch(this.activity.object_type){case"Tainacan\\Entities\\Collection":return"".concat(this.$i18n.get("collection"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+this.$routerHelper.getCollectionPath(this.activity.object_id),'">').concat(this.activity.object.name,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-collections"/></span>');case"Tainacan\\Entities\\Taxonomy":return"".concat(this.$i18n.get("taxonomy"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+this.$routerHelper.getTaxonomyPath(this.activity.object_id),'">').concat(this.activity.object.name,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-taxonomies"/></span>');case"Tainacan\\Entities\\Metadatum":return"".concat(this.$i18n.get("metadatum"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+("default"==this.activity.object.collection_id?this.$routerHelper.getMetadataEditPath(this.activity.object_id):this.$routerHelper.getCollectionMetadataEditPath(this.activity.object.collection_id,this.activity.object_id)),'">').concat(this.activity.object.name,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-metadata"/></span>');case"Tainacan\\Entities\\Filter":return"".concat(this.$i18n.get("filter"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+("default"==this.activity.object.collection_id?this.$routerHelper.getFilterEditPath(this.activity.object_id):this.$routerHelper.getCollectionFilterEditPath(this.activity.object.collection_id,this.activity.object_id)),'">').concat(this.activity.object.name,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-filters"/></span>');case"Tainacan\\Entities\\Term":return"".concat(this.$i18n.get("term"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+this.$routerHelper.getTermEditPath(this.activity.object.taxonomy.replace(/^\D+/g,""),this.activity.object_id),'">').concat(this.activity.object.name,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-terms"/></span>');case"Tainacan\\Entities\\Item":return"".concat(this.$i18n.get("item"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+this.$routerHelper.getItemEditPath(this.activity.object.collection_id,this.activity.object_id),'">').concat(this.activity.object.title,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-items"/></span>');case"Tainacan\\Entities\\Item_Metadata_Entity":return"".concat(this.$i18n.get("item"),' \n                                <a href="').concat(this.$routerHelper.getAbsoluteAdminPath()+this.$routerHelper.getItemEditPath(this.activity.item.collection_id,this.activity.item.id),'">').concat(this.activity.item.title,'</a>\n                                <span class="icon has-text-grey">&nbsp;<i class="tainacan-icon tainacan-icon-1-25em tainacan-icon-items"/></span>');default:return""}}}),watch:{$route:{handler:function(t,a){t!==a&&this.$emit("close")},deep:!0}},created:function(){this.loadActivity(),this.isRepositoryLevel=void 0===this.$route.params.collectionId},mounted:function(){this.$refs.activityDetailsModal&&this.$refs.activityDetailsModal.focus()},methods:c(c({},(0,i.i0)("activity",["fetchActivity"])),{},{approveActivity:function(){this.$emit("approveActivity",this.activity.id)},notApproveActivity:function(){this.$emit("notApproveActivity",this.activity.id)},loadActivity:function(){var t=this;this.isLoadingActivity=!0,this.fetchActivity(this.activityId).then((function(){t.isLoadingActivity=!1;var a=navigator.language;r().locale(a);var e=r().localeData();t.dateFormat=e.longDateFormat("LLL");var i=t.activity.date,n=r()(i).format(t.dateFormat);t.activityCreationDate="Invalid date"!=n?n:t.$i18n.get("info_unknown_date")})).catch((function(){return t.isLoadingActivity=!1}))}})}},57609:(t,a,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),u=e(10540),p=e.n(u),b=e(63494),m=e.n(b),h=e(71090),v={};v.styleTagTransform=m(),v.setAttributes=d(),v.insert=c().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=p();n()(h.A,v),h.A&&h.A.locals&&h.A.locals},61414:(t,a,e)=>{e(57609)},71090:(t,a,e)=>{e.d(a,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([t.id,".sub-header .header-item[data-v-0da53fef]{margin-bottom:0 !important;min-height:1.875em;display:flex;align-items:center}.sub-header .header-item[data-v-0da53fef]:not(:last-child){padding-right:.5em}.sub-header .header-item .label[data-v-0da53fef]{font-size:.875em;font-weight:normal;margin-top:3px;margin-bottom:2px;cursor:default}.sub-header .header-item .button[data-v-0da53fef]{display:flex;align-items:center;border-radius:var(--tainacan-button-border-radius, 4px) !important;height:100% !important}.sub-header .header-item .field[data-v-0da53fef]{align-items:center}.sub-header .header-item .gray-icon[data-v-0da53fef],.sub-header .header-item .gray-icon .icon[data-v-0da53fef]{color:var(--tainacan-info-color) !important;padding-right:10px;height:1.125em !important}.sub-header .header-item .gray-icon .icon i[data-v-0da53fef]::before,.sub-header .header-item .gray-icon i[data-v-0da53fef]::before{max-width:1.25em}.sub-header .header-item .icon[data-v-0da53fef]{pointer-events:all;cursor:pointer;color:var(--tainacan-blue5);height:27px;font-size:1.125em !important;height:1.75em}@media screen and (max-width: 768px){.sub-header[data-v-0da53fef]{height:60px;margin-top:-0.5em;padding-top:.9em}.sub-header .header-item[data-v-0da53fef]:not(:last-child){padding-right:.2em}}.tainacan-modal-content .table-container[data-v-0da53fef]{max-height:calc(100vh - 412px);max-height:calc(100dvh - 412px);min-height:320px;overflow-y:scroll;margin-bottom:0;padding-bottom:1.5rem}.above-subheader[data-v-0da53fef]{margin-bottom:0;margin-top:0;min-height:100%;height:auto}",""]);const l=o},72130:(t,a,e)=>{e.r(a),e.d(a,{default:()=>r});var i=e(54702),n=e(5021);e(61414);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-0da53fef"]])},75177:(t,a,e)=>{e.d(a,{X:()=>i.X});var i=e(37950)},79737:(t,a,e)=>{e(47012)},82474:(t,a,e)=>{e.d(a,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([t.id,".tainacan-modal-title p[data-v-6c339ce8]{margin-right:auto}.tainacan-modal-content[data-v-6c339ce8]{width:auto;min-height:100px}.tainacan-modal-content p[data-v-6c339ce8]{font-size:.875em}.modal-card-body[data-v-6c339ce8]{min-height:42px;padding:0}.modal-card-body .columns[data-v-6c339ce8]{margin:6px var(--tainacan-one-column) 0 var(--tainacan-one-column)}.tainacan-attachments-in-modal[data-v-6c339ce8]{display:flex;flex-wrap:wrap;flex-direction:row;align-content:baseline;resize:vertical;overflow-y:auto;overflow-x:hidden;height:200px;border:1px solid var(--tainacan-gray3)}.tainacan-attachments-in-modal>div[data-v-6c339ce8]{margin:.5em}.tainacan-p-overflow[data-v-6c339ce8]{text-overflow:ellipsis;white-space:nowrap;max-width:150px;overflow:hidden}p.is-capitalized[data-v-6c339ce8]{margin-bottom:.125em}.tainacan-p-break[data-v-6c339ce8]{word-break:break-word;margin-bottom:.5em}.tainacan-figure[data-v-6c339ce8]{width:150px;height:150px;overflow:auto}",""]);const l=o},88371:(t,a,e)=>{e.d(a,{A:()=>r});var i=e(75177),n=e(14376);e(79737);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-6a3b3c20"]])},89715:(t,a,e)=>{e.d(a,{A:()=>s});var i=e(40834),n=e(23558);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function l(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){c(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function c(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==r(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const s={name:"ActivitiesList",props:{isLoading:!1,totalActivities:0,page:1,activitiesPerPage:12,activities:Array},data:function(){var t=this;return{selectedActivities:[],stateEvents:{yes_3tgbtn:function(a){return t.approveActivity(a)},no_3tgbtn:function(a){return t.notApproveActivity(a)}}}},methods:l(l({},(0,i.i0)("activity",["approve","notApprove"])),{},{approveActivity:function(t){var a=this;this.approve(t.id).then((function(t){a.$console.info("approved!",t)})).catch((function(t){return a.$console.error(t)}))},notApproveActivity:function(t){this.notApprove(t.id)},openActivityDetailsModal:function(t){var a=this;this.$buefy.modal.open({component:n.A,props:{activityId:t.id},events:{approveActivity:function(t){return a.approveActivity(t)},notApproveActivity:function(t){return a.notApproveActivity(t)}},width:840,trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})}})}}}]);