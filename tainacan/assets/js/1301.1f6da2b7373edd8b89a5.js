"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[1301],{8926(e,t,a){a.d(t,{F:()=>m,s:()=>d});var n=a(55373),i=a.n(n),o=a(75552),c=a(40834);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var d={data:function(){return{collectionId:"",metadatumId:"",metadatumType:"",metadatumName:"",filterTypeOptions:[],shouldAddOptions:!1}},props:{filter:Object,query:Object,isRepositoryLevel:Boolean,isUsingElasticSearch:Boolean,isLoadingItems:Boolean,currentCollectionId:[Number,String]},created:function(){this.collectionId=this.filter.collection_id?this.filter.collection_id:this.collectionId,this.metadatumId=this.filter.metadatum.metadatum_id?this.filter.metadatum.metadatum_id:this.metadatumId,this.metadatumName=this.filter.metadatum&&this.filter.metadatum.metadatum_name?this.filter.metadatum.metadatum_name:this.metadatumName,this.filterTypeOptions=this.filter.filter_type_options?this.filter.filter_type_options:this.filterTypeOptions,this.metadatumType=this.filter.metadatum.metadata_type_object&&this.filter.metadatum.metadata_type_object.className?this.filter.metadatum.metadata_type_object.className:this.metadatumType},methods:{resetPage:function(){this.$eventBusSearch.resetPageOnStore()}}},m={data:function(){return{getOptionsValuesCancel:void 0,isLoadingOptions:!1,facetSearchPage:1}},emits:["update-parent-collapse"],computed:function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},(0,c.L8)("search",{facetsFromItemSearch:"getFacets"})),watch:{isLoadingItems:{handler:function(){this.isUsingElasticSearch&&(this.isLoadingOptions=this.isLoadingItems)},immediate:!0}},methods:{getValuesPlainText:function(e){var t=this,a=e.metadatumId,n=e.search,c=e.isRepositoryLevel,s=e.valuesToIgnore,l=e.offset,r=e.number,u=e.isInCheckboxModal,h=e.getSelected,d=void 0===h?"0":h,m=e.countItems,p=void 0===m||m;if(u||n||!this.isUsingElasticSearch){var f=o.Ay.CancelToken.source(),b=JSON.parse(JSON.stringify(this.query));null!=b.fetch_only&&delete b.fetch_only;var g={current_query:b},v="";return v=c?"/facets/".concat(a,"?getSelected=").concat(d,"&"):"default"==this.filter.collection_id&&this.currentCollectionId?"/collection/".concat(this.currentCollectionId,"/facets/").concat(a,"?getSelected=").concat(d,"&"):"/collection/".concat(this.filter.collection_id,"/facets/").concat(a,"?getSelected=").concat(d,"&"),null!=l&&null!=r&&(this.isUsingElasticSearch?v+="last_term=".concat(l,"&number=").concat(r,"&"):v+="offset=".concat(l,"&number=").concat(r,"&")),v+=n&&null!=l&&null!=r||n?"search=".concat(n,"&")+i().stringify(g):i().stringify(g),null!=p&&!1===p&&(v+="&count_items=0"),this.isLoadingOptions=!0,new Object({request:new Promise((function(e,a){o.Ay.tainacanApi.get(v,{cancelToken:f.token}).then((function(a){t.isLoadingOptions=!1,a.data.values?t.prepareOptionsForPlainText(a.data.values,n,s,u):t.prepareOptionsForPlainText(a.data,n,s,u),e(a)})).catch((function(e){o.Ay.isCancel(e)?console.log("Request canceled: ",e.message):t.isLoadingOptions=!1,a(e)}))})),source:f})}var y=new Promise((function(e){for(var a in t.facetsFromItemSearch)a==t.filter.id&&(t.prepareOptionsForPlainText(t.facetsFromItemSearch[a],n,s,u),t.$emit("update-parent-collapse",t.facetsFromItemSearch[a].length>0));e()}));return new Object({request:y})},getValuesRelationship:function(e){var t=this,a=e.search,n=e.isRepositoryLevel,c=e.valuesToIgnore,s=e.offset,l=e.number,r=e.isInCheckboxModal,u=e.getSelected,h=void 0===u?"0":u,d=e.countItems,m=void 0===d||d;if(r||a||!this.facetsFromItemSearch||Object.values(this.facetsFromItemSearch).length<=0){var p=o.Ay.CancelToken.source(),f=JSON.parse(JSON.stringify(this.query));null!=f.fetch_only&&delete f.fetch_only;var b={current_query:f},g="";return g=n?"/facets/".concat(this.filter.metadatum.metadatum_id,"?getSelected=").concat(h,"&"):"default"==this.filter.collection_id&&this.currentCollectionId?"/collection/".concat(this.currentCollectionId,"/facets/").concat(this.filter.metadatum.metadatum_id,"?getSelected=").concat(h,"&"):"/collection/".concat(this.filter.collection_id,"/facets/").concat(this.filter.metadatum.metadatum_id,"?getSelected=").concat(h,"&"),g+=null!=s&&null!=l?"offset=".concat(s,"&number=").concat(l):"nopaging=1",a&&(g+="&search=".concat(a)),null!=m&&!1===m&&(g+="&count_items=0"),this.isLoadingOptions=!0,new Object({request:new Promise((function(e,n){o.Ay.tainacanApi.get(g+"&"+i().stringify(b)).then((function(n){t.isLoadingOptions=!1,n.data.values?t.prepareOptionsForRelationship(n.data.values,a,c,r):t.prepareOptionsForRelationship(n.data,a,c,r),e(n)})).catch((function(e){o.Ay.isCancel(e)?console.log("Request canceled: ",e.message):t.isLoadingOptions=!1,n(e)}))})),source:p})}var v=new Promise((function(e){for(var n in t.facetsFromItemSearch)n==t.filter.id&&(t.prepareOptionsForRelationship(t.facetsFromItemSearch[n],a,c,r),t.$emit("update-parent-collapse",t.facetsFromItemSearch[n].length>0));e()}));return new Object({request:v})},prepareOptionsForPlainText:function(e,t,a,n){var i=[],o=[];Array.isArray(e)||(e=Object.values(e));var c,s=l(e);try{var r=function(){var e=c.value;if(null!=a&&a.length>0){var s=a.findIndex((function(t){return t==e.value}));t&&n?i.push({label:e.label,value:e.value,total_items:e.total_items}):s<0&&o.push({label:e.label,value:e.value,total_items:e.total_items})}else t&&n?i.push({label:e.label,value:e.value,total_items:e.total_items}):o.push({label:e.label,value:e.value,total_items:e.total_items})};for(s.s();!(c=s.n()).done;)r()}catch(e){s.e(e)}finally{s.f()}if(!0===this.shouldAddOptions&&this.searchResults&&this.searchResults.length?this.searchResults=this.searchResults.concat(i):this.searchResults=i,o?!0===this.shouldAddOptions&&this.options&&this.options.length?this.options=this.options.concat(o):this.options=o:t||(this.noMorePage=1),this.options.length<this.maxNumOptionsCheckboxList&&!t&&(this.noMorePage=1),this.filter.filter_type_object&&1==this.filter.filter_type_object.use_max_options&&this.filter.max_options&&this.options.length>=this.filter.max_options){var u=!0;this.options.length===this.filter.max_options?this.options[this.filter.max_options-1].showViewAllButton=u:this.options[this.options.length-1].showViewAllButton=u}},prepareOptionsForRelationship:function(e,t,a,n){var i=this,o=[],c=[];if(e.length>0){var s,r=l(e);try{var u=function(){var e=s.value;if(null!=a&&a.length>0){var l=a.findIndex((function(t){return t==e.value}));t&&n?o.push({label:e.label,value:e.value,img:e.thumbnail?i.$thumbHelper.getSrc(e.thumbnail,"tainacan-small"):e.img?e.img:"",total_items:e.total_items}):l<0&&c.push({label:e.label,value:e.value,img:e.thumbnail?i.$thumbHelper.getSrc(e.thumbnail,"tainacan-small"):e.img?e.img:"",total_items:e.total_items})}else t&&n?o.push({label:e.label,value:e.value,img:e.thumbnail?i.$thumbHelper.getSrc(e.thumbnail,"tainacan-small"):e.img?e.img:"",total_items:e.total_items}):c.push({label:e.label,value:e.value,img:e.thumbnail?i.$thumbHelper.getSrc(e.thumbnail,"tainacan-small"):e.img?e.img:"",total_items:e.total_items})};for(r.s();!(s=r.n()).done;)u()}catch(e){r.e(e)}finally{r.f()}}if(!0===this.shouldAddOptions&&this.searchResults&&this.searchResults.length?this.searchResults=this.searchResults.concat(o):this.searchResults=o,c?!0===this.shouldAddOptions&&this.options&&this.options.length?this.options=this.options.concat(c):this.options=c:t||(this.noMorePage=1),this.options.length<this.maxNumOptionsCheckboxList&&(this.noMorePage=1),this.filter.filter_type_object&&1==this.filter.filter_type_object.use_max_options&&this.filter.max_options&&this.options.length>=this.filter.max_options){var h=!0;this.options.length===this.filter.max_options?this.options[this.filter.max_options-1].showViewAllButton=h:this.options[this.options.length-1].showViewAllButton=h}}},beforeUnmount:function(){null!=this.getOptionsValuesCancel&&this.getOptionsValuesCancel.cancel("Facet search Canceled.")}}},12934(e,t,a){var n=a(85072),i=a.n(n),o=a(97825),c=a.n(o),s=a(77659),l=a.n(s),r=a(55056),u=a.n(r),h=a(10540),d=a.n(h),m=a(63494),p=a.n(m),f=a(79115),b={};b.styleTagTransform=p(),b.setAttributes=u(),b.insert=l().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=d();i()(f.A,b),f.A&&f.A.locals&&f.A.locals},20097(e,t,a){a.d(t,{A:()=>d});var n=a(55373),i=a.n(n),o=a(75552);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,i,o,c,s=[],l=!0,r=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(n=o.call(a)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(e){r=!0,i=e}finally{try{if(!l&&null!=a.return&&(c=a.return(),Object(c)!==c))return}finally{if(r)throw i}}return s}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=u(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,n=function(){};return{s:n,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return h(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}const d={name:"CheckboxRadioFilterInput",mixins:[a(8926).F],props:{filter:"",parent:[Number,String],taxonomyId:[Number,String],taxonomy:String,collectionId:[String,Number],metadatumId:[Number,String],metadatum:Object,selected:Array,currentCollectionId:[Number,String],isTaxonomy:{type:Boolean,default:!1},metadatumType:String,query:Object,isRepositoryLevel:Boolean,isModal:{type:Boolean,default:!0}},emits:["input","close","appliedCheckBoxModal"],data:function(){return{finderColumns:[],itemActive:!1,isColumnLoading:!1,loadingComponent:void 0,totalRemaining:{},hierarchicalPath:[],searchResults:[],optionName:"",isSearching:!1,options:[],maxNumSearchResultsShow:20,maxNumOptionsCheckboxList:20,maxNumOptionsCheckboxFinderColumns:100,checkboxListOffset:0,isCheckboxListLoading:!1,isLoadingSearch:!1,noMorePage:!1,noMoreSearchPage:!1,activeTab:0,selectedTagsName:{},isSelectedTermsLoading:!1,isUsingElasticSearch:"1"==tainacan_plugin.wp_elasticpress,previousLastTerms:[],hasToDisplaySearchBar:!1}},computed:{shouldShowTabs:function(){return this.isModal&&this.hasToDisplaySearchBar},tabs:function(){return[{label:this.isTaxonomy?this.$i18n.get("label_all_terms"):this.$i18n.get("label_all_metadatum_values"),id:"all-items"},{label:(this.isTaxonomy?this.$i18n.get("label_selected_terms"):this.$i18n.get("label_selected_metadatum_values"))+(Array.isArray(this.selected)&&this.selected.length?" ("+this.selected.length+")":""),id:"selected-items"}]}},watch:{optionName:function(e,t){e!=t&&(this.noMoreSearchPage=!1,this.checkboxListOffset=this.isUsingElasticSearch?"":0,this.previousLastTerms=[])}},updated:function(){!this.isSearching&&this.isTaxonomy&&this.highlightHierarchyPath()},created:function(){var e=this;this.initializeValues(),this.isTaxonomy?this.getOptionChildren():this.isCheckboxListLoading=!0,this.$emitter.on("updateTaxonomyInputs",(function(t){t.taxonomyId==e.taxonomyId&&t.metadatumId==e.metadatumId&&(e.finderColumns=[],e.optionName="",e.hierarchicalPath=[],e.isSearching=!1,e.searchResults=[],e.initializeValues())}))},mounted:function(){this.isModal&&this.$refs.CheckboxRadioFilterInput&&this.$refs.CheckboxRadioFilterInput.focus()},beforeUnmount:function(){null!=this.getOptionsValuesCancel&&this.getOptionsValuesCancel.cancel("Get options request canceled.")},methods:{setActiveTab:function(e){this.activeTab=e,this.fetchSelectedLabels()},initializeValues:function(){this.isModal||(this.maxNumOptionsCheckboxFinderColumns=24),this.isTaxonomy?this.getOptionChildren():(this.isCheckboxListLoading=!0,this.getOptions(0))},shouldShowMoreButton:function(e){return!0===this.totalRemaining[e].remaining||this.finderColumns[e].children.length<this.totalRemaining[e].remaining},fetchSelectedLabels:function(){var e=this,t=this.selected instanceof Array?this.selected:[this.selected];this.taxonomyId&&t.length?(this.isSelectedTermsLoading=!0,o.UY.get("/taxonomy/".concat(this.taxonomyId,"/terms/?").concat(i().stringify({hideempty:0,include:t}))).then((function(t){var a,n=r(t.data);try{for(n.s();!(a=n.n()).done;){var i=a.value;e.saveSelectedTagName(i.id,i.name,i.url)}}catch(e){n.e(e)}finally{n.f()}e.isSelectedTermsLoading=!1})).catch((function(t){e.$console.log(t),e.isSelectedTermsLoading=!1}))):"Tainacan\\Metadata_Types\\Relationship"===this.metadatumType&&t.length&&(this.isSelectedTermsLoading=!0,o.UY.get("/items/?".concat(i().stringify({fetch_only:"title",postin:t}))).then((function(t){var a,n=r(t.data.items);try{for(n.s();!(a=n.n()).done;){var i=a.value;e.saveSelectedTagName(i.id,i.title,i.url)}}catch(e){n.e(e)}finally{n.f()}e.isSelectedTermsLoading=!1})).catch((function(t){e.$console.log(t),e.isSelectedTermsLoading=!1})))},saveSelectedTagName:function(e,t,a){this.selectedTagsName[e]||Object.assign(this.selectedTagsName,l({},"".concat(e),a?"<a href="+a+' target="_blank">'+t+"</a>":t))},previousPage:function(){this.noMorePage=!1,this.isCheckboxListLoading=!0,this.isUsingElasticSearch?(this.previousLastTerms.pop(),this.previousLastTerms.length>0?this.getOptions(this.previousLastTerms[this.previousLastTerms.length-1]):this.getOptions(0)):(this.checkboxListOffset-=this.maxNumOptionsCheckboxList,this.checkboxListOffset<0&&(this.checkboxListOffset=0),this.getOptions(this.checkboxListOffset))},previousSearchPage:function(){this.noMoreSearchPage=!1,this.isUsingElasticSearch?(this.previousLastTerms.pop(),this.previousLastTerms.length>0?this.checkboxListOffset=this.previousLastTerms[this.previousLastTerms.length-1]:this.checkboxListOffset=""):(this.checkboxListOffset-=this.maxNumSearchResultsShow,this.checkboxListOffset<0&&(this.checkboxListOffset=0)),this.autoComplete()},nextPage:function(){this.isUsingElasticSearch&&this.checkboxListOffset&&this.previousLastTerms.push(this.checkboxListOffset),this.noMorePage||this.isUsingElasticSearch||(this.checkboxListOffset===this.maxNumOptionsCheckboxList?this.checkboxListOffset+=this.maxNumOptionsCheckboxList-1:this.checkboxListOffset+=this.maxNumOptionsCheckboxList),this.isCheckboxListLoading=!0,this.getOptions(this.checkboxListOffset)},nextSearchPage:function(){this.isUsingElasticSearch&&this.checkboxListOffset&&this.previousLastTerms.push(this.checkboxListOffset),this.noMoreSearchPage||this.isUsingElasticSearch||(this.checkboxListOffset===this.maxNumSearchResultsShow?this.checkboxListOffset+=this.maxNumSearchResultsShow-1:this.checkboxListOffset+=this.maxNumSearchResultsShow),this.autoComplete()},getOptions:function(e){var t=this,a="";null!=this.getOptionsValuesCancel&&this.getOptionsValuesCancel.cancel("Facet search Canceled."),(a="Tainacan\\Metadata_Types\\Relationship"===this.metadatumType?this.getValuesRelationship({search:this.optionName,isRepositoryLevel:this.isRepositoryLevel,valuesToIgnore:[],offset:e,number:this.maxNumOptionsCheckboxList,isInCheckboxModal:!0}):this.getValuesPlainText({metadatumId:this.metadatumId,search:this.optionName,isRepositoryLevel:this.isRepositoryLevel,valuesToIgnore:[],offset:e,number:this.maxNumOptionsCheckboxList,isInCheckboxModal:!0})).request.then((function(e){t.isCheckboxListLoading=!1,t.isLoadingSearch=!1,t.hasToDisplaySearchBar=!t.isSearching&&(t.isUsingElasticSearch||t.hasToDisplaySearchBar||e.headers["x-wp-totalpages"]>1),!t.isUsingElasticSearch&&e.headers&&e.headers["x-wp-total"]&&(t.noMorePage=e.headers["x-wp-total"]<=t.checkboxListOffset+e.data.values.length),t.isUsingElasticSearch&&(t.checkboxListOffset=e.data.last_term.es_term,t.noMorePage=!e.data.last_term||!e.data.last_term.es_term)})).catch((function(e){(0,o.FZ)(e)?t.$console.log("Request canceled: "+e.message):t.$console.error(e)})),this.getOptionsValuesCancel=a.source},autoComplete:_.debounce((function(){var e=this;if(this.isSearching=!!this.optionName.length,this.isSearching){this.isLoadingSearch=!0;var t={current_query:this.query},a="?order=asc&number=".concat(this.maxNumSearchResultsShow,"&search=").concat(this.optionName,"&").concat(i().stringify(t),"&").concat(this.isUsingElasticSearch?"last_term":"offset","=").concat(this.checkboxListOffset),n="/collection/".concat(this.collectionId,"/facets/").concat(this.metadatumId).concat(a);"default"==this.collectionId&&(n="/facets/".concat(this.metadatumId).concat(a)),o.UY.get(n).then((function(t){e.searchResults=t.data.values,e.isLoadingSearch=!1,!e.isUsingElasticSearch&&t.headers&&t.headers["x-wp-total"]&&(e.noMoreSearchPage=t.headers["x-wp-total"]<=e.checkboxListOffset+e.searchResults.length),e.isUsingElasticSearch&&(e.checkboxListOffset=t.data.last_term.es_term,e.noMoreSearchPage=!t.data.last_term||!t.data.last_term.es_term)})).catch((function(t){e.$console.log(t)}))}}),500),highlightHierarchyPath:function(){var e,t=r(this.hierarchicalPath.entries());try{for(t.s();!(e=t.n()).done;){var a=s(e.value,2),n=a[0],i=a[1],o=this.$refs["".concat(i.column,".").concat(i.element,"-tainacan-li-checkbox-model")];if(o&&o[0]&&o[0].$el){var c=o[0].$el;n==this.hierarchicalPath.length-1?c.classList.add("tainacan-li-checkbox-last-active"):c.classList.add("tainacan-li-checkbox-parent-active")}}}catch(e){t.e(e)}finally{t.f()}},addToHierarchicalPath:function(e,t,a){var n=void 0,i={column:e,element:t,option:a};for(var o in this.hierarchicalPath)if(this.hierarchicalPath[o].column==e){n=o;break}null!=n?(this.removeHighlightNotSelectedLevels(),this.hierarchicalPath.splice(n),this.hierarchicalPath.splice(n,1,i)):this.hierarchicalPath.push(i),this.highlightHierarchyPath()},removeHighlightNotSelectedLevels:function(){var e,t=r(this.hierarchicalPath);try{for(t.s();!(e=t.n()).done;){var a=e.value;if(this.$refs["".concat(a.column,".").concat(a.element,"-tainacan-li-checkbox-model")][0]){var n=this.$refs["".concat(a.column,".").concat(a.element,"-tainacan-li-checkbox-model")][0].$el;n.classList.remove("tainacan-li-checkbox-last-active"),n.classList.remove("tainacan-li-checkbox-parent-active")}}}catch(e){t.e(e)}finally{t.f()}},removeLevelsAfter:function(e){null!=e&&(this.finderColumns.length=e+1)},createColumn:function(e,t,a){var n=this,i=e.data.values;this.totalRemaining=Object.assign({},this.totalRemaining,l({},"".concat(null==t?0:t+1),{remaining:this.isUsingElasticSearch?i.length>0&&e.data.last_term.value==i[i.length-1].value:e.headers["x-wp-total"]}));var o=void 0;if(i.length>0)for(var c in this.finderColumns)if(this.finderColumns[c].children[0].value==i[0].value){o=c;break}var s=void 0===o,r=void 0!==o?o:this.finderColumns.length;null!=o?this.finderColumns.splice(o,1,{label:a,children:i,lastTerm:e.data.last_term.es_term}):this.finderColumns.push({label:a,children:i,lastTerm:e.data.last_term.es_term});var u=void 0!==t;s&&i.length>0&&u&&this.$nextTick((function(){var e="".concat(r,".0-tainacan-li-checkbox-model");if(n.$refs[e]&&n.$refs[e][0]){var t=n.$refs[e][0].$el.querySelector('input[type="checkbox"]');t&&setTimeout((function(){t.focus()}),100)}}))},appendMore:function(e,t,a){var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;this.finderColumns[t].children.push(o)}}catch(e){i.e(e)}finally{i.f()}this.finderColumns[t].lastTerm=a},getOptionChildren:function(e,t,a){var n=this,c={current_query:this.query};null!=t&&this.addToHierarchicalPath(t,a,e);var s=0;e&&(s=e.value);var l="?order=asc&parent=".concat(s,"&number=").concat(this.maxNumOptionsCheckboxFinderColumns,"&offset=0&").concat(i().stringify(c));this.isColumnLoading=!0;var r="/collection/".concat(this.collectionId,"/facets/").concat(this.metadatumId).concat(l);"default"==this.collectionId&&(r="/facets/".concat(this.metadatumId).concat(l)),o.UY.get(r).then((function(a){n.hasToDisplaySearchBar=!n.isSearching&&(n.isUsingElasticSearch||n.hasToDisplaySearchBar||a.headers["x-wp-totalpages"]>1||a.data.values.some((function(e){return null!=e.total_children&&0!=e.total_children}))),n.removeLevelsAfter(t),n.createColumn(a,t,e?e.label:null),n.isColumnLoading=!1})).catch((function(e){n.$console.log(e),n.isColumnLoading=!1}))},getMoreOptions:function(e,t){var a=this;if(e.children&&e.children.length>0){var n=e.children[0].parent,c=e.children.length,s={current_query:this.query},r="?order=asc&parent=".concat(n,"&number=").concat(this.maxNumOptionsCheckboxFinderColumns,"&offset=").concat(c,"&").concat(i().stringify(s));e.lastTerm&&(r+="&last_term="+encodeURIComponent(e.lastTerm)),this.isColumnLoading=!0;var u="/collection/".concat(this.collectionId,"/facets/").concat(this.metadatumId).concat(r);"default"==this.collectionId&&(u="/facets/".concat(this.metadatumId).concat(r)),o.UY.get(u).then((function(e){a.appendMore(e.data.values,t,e.data.last_term.es_term),a.hasToDisplaySearchBar=!a.isSearching&&(a.isUsingElasticSearch||a.hasToDisplaySearchBar||e.headers["x-wp-totalpages"]>1||e.data.values.some((function(e){return null!=e.total_children&&0!=e.total_children}))),a.totalRemaining=Object.assign({},a.totalRemaining,l({},"".concat(t),{remaining:a.isUsingElasticSearch?e.data.values.length>0&&e.data.last_term.value==e.data.values[e.data.values.length-1].value:e.headers["x-wp-total"]})),a.isColumnLoading=!1})).catch((function(e){a.$console.log(e),a.isColumnLoading=!1}))}},isOptionSelected:function(e){return Array.isArray(this.selected)?this.selected.find((function(t){return t==e})):e==this.selected},applyFilter:function(){this.isModal?this.$emit("close"):this.initializeValues(),this.$eventBusSearch.resetPageOnStore(),this.isTaxonomy?this.$eventBusSearchEmitter.emit("input",{filter:"checkbox",taxonomy:this.taxonomy,compare:"IN",metadatum_id:this.metadatumId?this.metadatumId:this.filter.metatadum_id,collection_id:this.collectionId?this.collectionId:this.filter.collection_id,terms:this.selected}):this.$eventBusSearchEmitter.emit("input",{filter:"checkbox",compare:"IN",metadatum_id:this.metadatumId?this.metadatumId:this.filter.metatadum_id,collection_id:this.collectionId?this.collectionId:this.filter.collection_id,value:this.selected}),this.$emit("appliedCheckBoxModal")},renderHierarchicalPath:function(e,t){return'<span style="color: var(--tainacan-info-color);">'+e.replace(/>/g,'&nbsp;<span class="hierarchy-separator"> &gt; </span>&nbsp;')+"</span>"+t}}}},30623(e,t,a){a(12934)},45232(e,t,a){a.d(t,{X:()=>ne});var n=a(6934);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var c=["role","tabindex","aria-modal","aria-labelledby"],s={key:0,class:"tainacan-modal-title"},l=["id"],r={key:0,class:"tabs is-small"},u={"aria-orientation":"horizontal",role:"tablist"},h=["id","aria-controls","aria-selected","tabindex","onClick","onKeydown"],d={class:"tab-content"},m=["role","aria-labelledby"],p={key:1,class:"modal-card-body tainacan-checkbox-list-container"},f=["aria-label"],b={class:"tainacan-modal-checkbox-list-body"},g={class:"b-checkbox checkbox"},v=["value","checked"],y={class:"control-label"},x=["innerHTML"],k={key:0,class:"has-text-dark"},S={key:1,class:"tainacan-li-checkbox-list result-info"},_=["aria-label"],L={key:2,class:"modal-card-body tainacan-checkbox-list-container"},C=["aria-label"],w={class:"b-checkbox checkbox"},O=["value","checked"],T={class:"control-label"},I={class:"checkbox-label-text"},P={key:0,class:"has-text-dark"},$={key:1,class:"tainacan-li-checkbox-list result-info warning-no-more-terms"},E=["aria-label"],A=["aria-label"],N=["id"],R={key:1},j=["onClick"],M=["value","checked"],X={class:"control-label"},F={class:"checkbox-label-text"},U={key:0,class:"has-text-dark"},V=["onClick","onKeydown"],z={key:0,class:"is-hidden-mobile"},B={key:1},D={class:"sr-only"},Q={key:0},q=["aria-label","onClick"],H={key:1,class:"warning-no-more-terms"},K=["role","aria-labelledby"],W={key:0,class:"modal-card-body tainacan-tags-container"},Y={class:"tainacan-tags-container--list"},J=["innerHTML"],G={key:0,class:"section"},Z={class:"content has-text-dark has-text-centered"},ee={class:"icon is-medium"},te={key:0,class:"control"},ae={class:"control"};function ne(e,t,a,o,ne,ie){var oe=(0,n.g2)("b-input"),ce=(0,n.g2)("b-field"),se=(0,n.g2)("b-loading"),le=(0,n.g2)("b-tag"),re=(0,n.gN)("a11y-tabs"),ue=(0,n.gN)("tooltip");return(0,n.uX)(),(0,n.CE)("div",{ref:"CheckboxRadioFilterInput",role:a.isModal?"dialog":"",class:(0,n.C4)({"tainacan-modal-content":a.isModal}),tabindex:a.isModal?-1:0,"aria-modal":a.isModal,"aria-labelledby":"checkbox-radio-filter--title-"+a.filter.id},[a.isModal?((0,n.uX)(),(0,n.CE)("header",s,[(0,n.Lk)("h2",{id:"checkbox-radio-filter--title-"+a.filter.id},[(0,n.eW)((0,n.v_)(e.$i18n.get("filter"))+" ",1),(0,n.Lk)("em",null,(0,n.v_)(a.filter.name),1)],8,l)])):(0,n.Q3)("",!0),(0,n.Lk)("div",{style:(0,n.Tr)(a.isModal?"":"margin-top: 12px"),class:"tainacan-form"},[(0,n.Lk)("div",{class:(0,n.C4)([{"hidden-tabs-section":!ie.shouldShowTabs},"b-tabs is-small"])},[ie.shouldShowTabs?((0,n.uX)(),(0,n.CE)("nav",r,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("ul",u,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ie.tabs,(function(e,t){return(0,n.uX)(),(0,n.CE)("li",{key:t,tabindex:"-1",class:(0,n.C4)({"is-active":ne.activeTab===t})},[(0,n.Lk)("a",{id:"".concat(e.id,"-label"),role:"tab","aria-controls":"".concat(e.id,"-content"),"aria-selected":ne.activeTab===t,tabindex:ne.activeTab===t?0:-1,onClick:function(e){return ie.setActiveTab(t)},onKeydown:[(0,n.jR)((0,n.D$)((function(e){return ie.setActiveTab(t)}),["prevent"]),["enter"]),(0,n.jR)((0,n.D$)((function(e){return ie.setActiveTab(t)}),["prevent"]),["space"])]},[(0,n.Lk)("span",null,(0,n.v_)(e.label),1)],40,h)],2)})),128))])),[[re]])])):(0,n.Q3)("",!0),(0,n.Lk)("section",d,[0===ne.activeTab?((0,n.uX)(),(0,n.CE)("div",{key:0,id:"all-items-content",class:"tab-item",role:ie.shouldShowTabs?"tabpanel":void 0,"aria-labelledby":ie.shouldShowTabs?"all-items-label":void 0,style:(0,n.Tr)({margin:a.isModal?"0":"0 0 1rem 0"})},[ne.hasToDisplaySearchBar?((0,n.uX)(),(0,n.Wv)(ce,{key:0,class:"is-clearfix tainacan-checkbox-search-section"},{default:(0,n.k6)((function(){return[(0,n.bF)(oe,{modelValue:ne.optionName,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return ne.optionName=e}),ie.autoComplete],expanded:"",autocomplete:"on",placeholder:e.$i18n.get("instruction_search"),"aria-label":e.$i18n.get("instruction_search"),"icon-right":"magnify",type:"search"},null,8,["modelValue","placeholder","aria-label","onUpdate:modelValue"])]})),_:1})):(0,n.Q3)("",!0),ne.isSearching?((0,n.uX)(),(0,n.CE)("div",p,[(ne.isUsingElasticSearch?ne.previousLastTerms.length&&ne.previousLastTerms[0]!=ne.checkboxListOffset:ne.checkboxListOffset)?((0,n.uX)(),(0,n.CE)("a",{key:0,role:"button",tabindex:"0","aria-label":e.$i18n.get("previous"),class:"tainacan-checkbox-list-page-changer",onClick:t[1]||(t[1]=function(){return ie.previousSearchPage&&ie.previousSearchPage.apply(ie,arguments)}),onKeydown:[t[2]||(t[2]=(0,n.jR)((0,n.D$)((function(){return ie.previousSearchPage&&ie.previousSearchPage.apply(ie,arguments)}),["prevent"]),["enter"])),t[3]||(t[3]=(0,n.jR)((0,n.D$)((function(){return ie.previousSearchPage&&ie.previousSearchPage.apply(ie,arguments)}),["prevent"]),["space"]))]},i(t[22]||(t[22]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-is-rtl-mirrored"})],-1)])),40,f)):(0,n.Q3)("",!0),(0,n.Lk)("ul",b,[ne.searchResults.length?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ne.searchResults,(function(a,i){return(0,n.uX)(),(0,n.CE)("li",{key:i,class:"tainacan-li-checkbox-list"},[(0,n.Lk)("label",g,[(0,n.Lk)("input",{value:a.id?isNaN(Number(a.id))?a.id:Number(a.id):isNaN(Number(a.value))?a.value:Number(a.value),checked:ie.isOptionSelected(a.value),type:"checkbox",onInput:t[4]||(t[4]=function(t){return e.$emit("input",t.target.value)})},null,40,v),t[23]||(t[23]=(0,n.Lk)("span",{class:"check"},null,-1)),(0,n.Lk)("span",y,[(0,n.Lk)("span",{class:"checkbox-label-text",innerHTML:"".concat(a.name?a.name:a.label?a.hierarchy_path?ie.renderHierarchicalPath(a.hierarchy_path,a.label):a.label:"")},null,8,x),null!=a.total_items?((0,n.uX)(),(0,n.CE)("span",k,"  "+(0,n.v_)("("+a.total_items+")"),1)):(0,n.Q3)("",!0)])])])})),128)):(0,n.Q3)("",!0),ne.isLoadingSearch||ne.searchResults.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",S,(0,n.v_)(e.$i18n.get("info_no_terms_found")),1)),(0,n.bF)(se,{modelValue:ne.isLoadingSearch,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ne.isLoadingSearch=e}),"is-full-page":!1},null,8,["modelValue"])]),ne.noMoreSearchPage?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("a",{key:1,role:"button",tabindex:"0","aria-label":e.$i18n.get("next"),class:"tainacan-checkbox-list-page-changer",onClick:t[6]||(t[6]=function(){return ie.nextSearchPage&&ie.nextSearchPage.apply(ie,arguments)}),onKeydown:[t[7]||(t[7]=(0,n.jR)((0,n.D$)((function(){return ie.nextSearchPage&&ie.nextSearchPage.apply(ie,arguments)}),["prevent"]),["enter"])),t[8]||(t[8]=(0,n.jR)((0,n.D$)((function(){return ie.nextSearchPage&&ie.nextSearchPage.apply(ie,arguments)}),["prevent"]),["space"]))]},i(t[24]||(t[24]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-is-rtl-mirrored"})],-1)])),40,_))])):(0,n.Q3)("",!0),ne.isSearching||a.isTaxonomy?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",L,[(ne.isUsingElasticSearch?ne.previousLastTerms.length&&ne.previousLastTerms[0]!=ne.checkboxListOffset:ne.checkboxListOffset)?((0,n.uX)(),(0,n.CE)("a",{key:0,role:"button",tabindex:"0","aria-label":e.$i18n.get("previous"),class:"tainacan-checkbox-list-page-changer",onClick:t[9]||(t[9]=function(){return ie.previousPage&&ie.previousPage.apply(ie,arguments)}),onKeydown:[t[10]||(t[10]=(0,n.jR)((0,n.D$)((function(){return ie.previousPage&&ie.previousPage.apply(ie,arguments)}),["prevent"]),["enter"])),t[11]||(t[11]=(0,n.jR)((0,n.D$)((function(){return ie.previousPage&&ie.previousPage.apply(ie,arguments)}),["prevent"]),["space"]))]},i(t[25]||(t[25]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-is-rtl-mirrored"})],-1)])),40,C)):(0,n.Q3)("",!0),(0,n.Lk)("ul",{style:(0,n.Tr)(ne.isCheckboxListLoading?"min-height: 84px":""),class:"tainacan-modal-checkbox-list-body",role:"listbox"},[ne.options.length?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(ne.options,(function(a,i){return(0,n.uX)(),(0,n.CE)("li",{key:i,class:"tainacan-li-checkbox-list"},[(0,n.Lk)("label",w,[(0,n.Lk)("input",{value:a.value,checked:ie.isOptionSelected(a.value),type:"checkbox",onInput:t[12]||(t[12]=function(t){return e.$emit("input",t.target.value)})},null,40,O),t[26]||(t[26]=(0,n.Lk)("span",{class:"check"},null,-1)),(0,n.Lk)("span",T,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",I,[(0,n.eW)((0,n.v_)("".concat(a.label?a.label:"")),1)])),[[ue,{content:a.label+(null!=a.total_items?"("+a.total_items+" "+e.$i18n.get("items")+")":""),autoHide:!1,popperClass:["tainacan-tooltip","tooltip"]}]]),null!=a.total_items?((0,n.uX)(),(0,n.CE)("span",P," "+(0,n.v_)("("+a.total_items+")"),1)):(0,n.Q3)("",!0)])])])})),128)):(0,n.Q3)("",!0),ne.isCheckboxListLoading||ne.options.length?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("li",$,(0,n.v_)(e.$i18n.get("info_no_terms_found")),1)),(0,n.bF)(se,{modelValue:ne.isCheckboxListLoading,"onUpdate:modelValue":t[13]||(t[13]=function(e){return ne.isCheckboxListLoading=e}),"is-full-page":!1},null,8,["modelValue"])],4),ne.noMorePage?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("a",{key:1,role:"button",tabindex:"0","aria-label":e.$i18n.get("next"),class:"tainacan-checkbox-list-page-changer",onClick:t[14]||(t[14]=function(){return ie.nextPage&&ie.nextPage.apply(ie,arguments)}),onKeydown:[t[15]||(t[15]=(0,n.jR)((0,n.D$)((function(){return ie.nextPage&&ie.nextPage.apply(ie,arguments)}),["prevent"]),["enter"])),t[16]||(t[16]=(0,n.jR)((0,n.D$)((function(){return ie.nextPage&&ie.nextPage.apply(ie,arguments)}),["prevent"]),["space"]))]},i(t[27]||(t[27]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-is-rtl-mirrored"})],-1)])),40,E))])),!ne.isSearching&&a.isTaxonomy?((0,n.uX)(),(0,n.Wv)(n.F,{key:3,class:"modal-card-body tainacan-finder-columns-container",name:"page-left",tag:"div"},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(ne.finderColumns,(function(a,o){return(0,n.uX)(),(0,n.CE)("div",{key:a.label+"-"+o,class:(0,n.C4)(["tainacan-finder-column",ne.hasToDisplaySearchBar?"":"has-only-one-column"]),"aria-label":a.label?a.label:e.$i18n.get("label_root_terms"),role:"group"},[ne.hasToDisplaySearchBar?((0,n.uX)(),(0,n.CE)("p",{key:0,id:"column-label-".concat(o),class:"column-label"},(0,n.v_)(a.label?a.label:e.$i18n.get("label_root_terms")),9,N)):(0,n.Q3)("",!0),a.children.length?((0,n.uX)(),(0,n.CE)("ul",R,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.children,(function(a,i){return(0,n.uX)(),(0,n.Wv)(ce,{id:"".concat(o,".").concat(i,"-tainacan-li-checkbox-model"),ref_for:!0,ref:"".concat(o,".").concat(i,"-tainacan-li-checkbox-model"),key:i,addons:!1,class:"tainacan-li-checkbox-modal"},{default:(0,n.k6)((function(){return[(0,n.Lk)("label",{class:"b-checkbox checkbox",onClick:function(e){return a.total_children>0&&(!ne.finderColumns[o+1]||ne.finderColumns[o+1].label!==a.label)?ie.getOptionChildren(a,o,i):null}},[(0,n.Lk)("input",{value:isNaN(Number(a.value))?a.value:Number(a.value),checked:ie.isOptionSelected(a.value),type:"checkbox",onInput:t[17]||(t[17]=function(t){return e.$emit("input",t.target.value)})},null,40,M),t[28]||(t[28]=(0,n.Lk)("span",{class:"check"},null,-1)),(0,n.Lk)("span",X,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",F,[(0,n.eW)((0,n.v_)("".concat(a.label)),1)])),[[ue,{content:a.label+(null!=a.total_items?"("+a.total_items+" "+e.$i18n.get("items")+")":""),autoHide:!1,popperClass:["tainacan-tooltip","tooltip"]}]]),null!=a.total_items?((0,n.uX)(),(0,n.CE)("span",U,"  "+(0,n.v_)("("+a.total_items+")"),1)):(0,n.Q3)("",!0)])],8,j),a.total_children>0?((0,n.uX)(),(0,n.CE)("a",{key:0,tabindex:0,role:"button",onClick:function(e){return ie.getOptionChildren(a,o,i)},onKeydown:[(0,n.jR)((0,n.D$)((function(e){return ie.getOptionChildren(a,o,i)}),["prevent"]),["enter"]),(0,n.jR)((0,n.D$)((function(e){return ie.getOptionChildren(a,o,i)}),["prevent"]),["space"])]},[ne.finderColumns.length<=1?((0,n.uX)(),(0,n.CE)("span",z,(0,n.v_)(a.total_children+" "+e.$i18n.get("label_children_terms")),1)):(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",B,[(0,n.eW)((0,n.v_)(a.total_children)+" ",1),(0,n.Lk)("span",D,(0,n.v_)(e.$i18n.get("label_children_terms")),1)])),[[ue,{content:a.total_children+" "+e.$i18n.get("label_children_terms"),autoHide:!1,popperClass:["tainacan-tooltip","tooltip"]}]]),t[29]||(t[29]=(0,n.Lk)("span",{"aria-hidden":"true",class:"icon is-pulled-right"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowright tainacan-icon-is-rtl-mirrored"})],-1))],40,V)):(0,n.Q3)("",!0)]})),_:2},1032,["id"])})),128)),a.children.length?((0,n.uX)(),(0,n.CE)("li",Q,[ie.shouldShowMoreButton(o)?((0,n.uX)(),(0,n.CE)("button",{key:0,"aria-label":e.$i18n.get("label_show_more_options"),class:"tainacan-show-more",type:"button",onClick:function(e){return ie.getMoreOptions(a,o)}},i(t[30]||(t[30]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-showmore"})],-1)])),8,q)):((0,n.uX)(),(0,n.CE)("div",H,(0,n.v_)(ne.isUsingElasticSearch?e.$i18n.get("info_no_more_terms_found"):""),1))])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)],10,A)})),128))]})),_:1})):(0,n.Q3)("",!0),(0,n.bF)(se,{modelValue:ne.isColumnLoading,"onUpdate:modelValue":t[18]||(t[18]=function(e){return ne.isColumnLoading=e}),"is-full-page":!1},null,8,["modelValue"])],12,m)):(0,n.Q3)("",!0),1===ne.activeTab?((0,n.uX)(),(0,n.CE)("div",{key:1,id:"selected-items-content",class:"tab-item",role:ie.shouldShowTabs?"tabpanel":void 0,"aria-labelledby":ie.shouldShowTabs?"selected-items-label":void 0,style:{"min-height":"56px"}},[(a.selected instanceof Array?a.selected.length>0:a.selected)&&!ne.isSelectedTermsLoading?((0,n.uX)(),(0,n.CE)("div",W,[(0,n.Lk)("div",Y,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.selected instanceof Array?a.selected:[a.selected],(function(t,i){return(0,n.uX)(),(0,n.CE)(n.FK,{key:i},[a.selected instanceof Array||""!=a.selected?((0,n.uX)(),(0,n.Wv)(le,{key:0,attached:"",closable:"",class:(0,n.C4)(a.isModal?"":"is-small"),onClose:function(a){return e.$emit("input",t)}},{default:(0,n.k6)((function(){return[(0,n.Lk)("span",{innerHTML:a.isTaxonomy||"Tainacan\\Metadata_Types\\Relationship"===a.metadatumType?ne.selectedTagsName[t]:t},null,8,J)]})),_:2},1032,["class","onClose"])):(0,n.Q3)("",!0)],64)})),128))]),(a.selected instanceof Array?a.selected.length<=0:!a.selected)&&!ne.isSelectedTermsLoading?((0,n.uX)(),(0,n.CE)("section",G,[(0,n.Lk)("div",Z,[(0,n.Lk)("p",null,[(0,n.Lk)("span",ee,[(0,n.Lk)("i",{class:(0,n.C4)(["tainacan-icon tainacan-icon-30px",{"tainacan-icon-terms":a.isTaxonomy,"tainacan-icon-metadata":!a.isTaxonomy}])},null,2)])]),(0,n.Lk)("p",null,(0,n.v_)(a.isTaxonomy?e.$i18n.get("label_no_terms_selected"):e.$i18n.get("label_nothing_selected")),1)])])):(0,n.Q3)("",!0),(0,n.bF)(se,{modelValue:ne.isSelectedTermsLoading,"onUpdate:modelValue":t[19]||(t[19]=function(e){return ne.isSelectedTermsLoading=e}),"is-full-page":!1},null,8,["modelValue"])])):(0,n.Q3)("",!0)],8,K)):(0,n.Q3)("",!0)])],2),(0,n.Lk)("footer",{class:(0,n.C4)(["field is-grouped",{"form-submit":a.isModal}])},[a.isModal?((0,n.uX)(),(0,n.CE)("div",te,[(0,n.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[20]||(t[20]=function(t){return e.$emit("close")})},(0,n.v_)(e.$i18n.get("cancel")),1)])):(0,n.Q3)("",!0),(0,n.Lk)("div",ae,[(0,n.Lk)("button",{type:"button",class:"button is-success",onClick:t[21]||(t[21]=function(){return ie.applyFilter&&ie.applyFilter.apply(ie,arguments)})},(0,n.v_)(e.$i18n.get("apply")),1)])],2)],4)],10,c)}},47302(e,t,a){a.d(t,{A:()=>n.A});var n=a(20097)},79115(e,t,a){a.d(t,{A:()=>s});var n=a(31601),i=a.n(n),o=a(76314),c=a.n(o)()(i());c.push([e.id,'.tainacan-modal-content[data-v-7c10a16e]{width:auto}[data-v-7c10a16e] .tabs{margin-bottom:0 !important}[data-v-7c10a16e] .tabs ul{padding:0}.hidden-tabs-section .tab-content[data-v-7c10a16e]{display:block}.tab-content[data-v-7c10a16e]{transition:height .2s ease;padding:0px !important;min-height:86px}.tainacan-modal-title[data-v-7c10a16e]{align-self:baseline;margin-bottom:1rem;width:100%}.tainacan-form[data-v-7c10a16e]{max-width:100%}.tainacan-form .form-submit[data-v-7c10a16e]{padding-top:16px !important}.tainacan-show-more[data-v-7c10a16e]{width:100%;display:flex;justify-content:center;cursor:pointer;border:1px solid var(--tainacan-input-border-color);box-shadow:none;margin-top:10px;margin-bottom:.1em}.tainacan-show-more[data-v-7c10a16e]:hover,.tainacan-show-more[data-v-7c10a16e]:focus{outline:none;box-shadow:none;background-color:var(--tainacan-item-hover-background-color)}.tainacan-show-more[data-v-7c10a16e]:focus-visible{outline:2px solid var(--tainacan-secondary);outline-offset:2px;box-shadow:none}.tainacan-li-checkbox-modal[data-v-7c10a16e]{display:flex;justify-content:space-between;align-items:center;padding:0;-webkit-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.tainacan-li-checkbox-modal .b-checkbox[data-v-7c10a16e]{-moz-column-break-inside:avoid;break-inside:avoid;max-width:100%;min-height:1.75em;margin-inline-start:.7em;margin-inline-end:2em !important;margin-bottom:0px !important}@media screen and (max-width: 768px){.tainacan-li-checkbox-modal .control-label[data-v-7c10a16e]{padding-top:.45em;padding-bottom:.45em}}.tainacan-li-checkbox-modal[data-v-7c10a16e]:hover{background-color:var(--tainacan-input-border-color)}.tainacan-li-checkbox-list[data-v-7c10a16e]{flex-grow:0;flex-shrink:1;max-width:calc(100% - .5em);padding-inline-start:.5em;margin:0;-webkit-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.tainacan-li-checkbox-list .b-checkbox[data-v-7c10a16e]{-webkit-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;margin-inline-end:0px;margin-bottom:0}.tainacan-li-checkbox-list[data-v-7c10a16e]:hover{background-color:var(--tainacan-item-hover-background-color)}.tainacan-li-checkbox-list.result-info[data-v-7c10a16e]{padding:.5rem .25rem .25rem .25rem;width:100%;max-width:100%;-moz-column-span:all;column-span:all;font-size:.75em;color:var(--tainacan-info-color);text-align:center}.tainacan-finder-columns-container[data-v-7c10a16e]{background-color:var(--tainacan-background-color);border:1px solid var(--tainacan-input-border-color);border-bottom-left-radius:var(--tainacan-dropdownmenu-border-radius);border-bottom-right-radius:var(--tainacan-dropdownmenu-border-radius);border-top-right-radius:0px;border-top-left-radius:0px;border-top:0px;margin-top:-1px;height:auto;display:flex;overflow:auto;padding:0 !important;max-height:40vh;transition:heigth .5s ease,min-height .5s ease}.tainacan-finder-columns-container[data-v-7c10a16e]:focus{outline:none}.tainacan-finder-column[data-v-7c10a16e]{border-right:solid 1px var(--tainacan-input-border-color);flex-basis:auto;flex-grow:1;max-width:600px;min-width:200px;margin:0;padding:0em;transition:width .2s ease}.tainacan-finder-column.has-only-one-column[data-v-7c10a16e]{max-width:100%}.tainacan-finder-column.has-only-one-column ul[data-v-7c10a16e]{-moz-column-count:3;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:3;-webkit-column-gap:0;-webkit-column-rule:none;column-count:3;-moz-column-gap:2em;column-gap:2em;column-rule:none;overflow-y:hidden;overflow-x:auto}@media screen and (max-width: 1366px){.tainacan-finder-column.has-only-one-column ul[data-v-7c10a16e]{-moz-column-count:2;column-count:2}}.tainacan-finder-column ul[data-v-7c10a16e]{max-height:calc(233px - .7em);min-height:inherit;overflow-y:auto;overflow-x:hidden;list-style:none;margin:0;padding-inline-start:0}.tainacan-finder-column a[data-v-7c10a16e]{font-size:.75em;white-space:nowrap;display:flex;align-items:center}.tainacan-finder-column a .tainacan-icon[data-v-7c10a16e]{font-size:1.5em}.tainacan-finder-column .column-label[data-v-7c10a16e]{color:var(--tainacan-label-color);display:block;font-size:.75em;font-weight:bold;padding:.45em .75em;margin:0;position:relative;border-bottom:1px solid var(--tainacan-input-border-color)}.tainacan-finder-column:not(:first-child) .column-label[data-v-7c10a16e]{padding-left:calc(.75em + 12px)}.tainacan-finder-column:not(:first-child) .column-label[data-v-7c10a16e]::after,.tainacan-finder-column:not(:first-child) .column-label[data-v-7c10a16e]::before{content:"";display:block;position:absolute;inset-inline-end:100%;width:0;height:0;border-style:solid}.tainacan-finder-column:not(:first-child) .column-label[data-v-7c10a16e]::after{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #fff;border-inline-start-width:12px;border-top-width:calc(1.2em + 1px);border-bottom-width:calc(1.2em + 0px);inset-inline-start:-3px}.tainacan-finder-column:not(:first-child) .column-label[data-v-7c10a16e]::before{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) var(--tainacan-input-border-color);border-inline-start-width:12px;border-top-width:calc(1.2em + 1px);border-bottom-width:calc(1.2em + 0px);inset-inline-start:-1px}ul[data-v-7c10a16e]{-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-margin-before:0}.field[data-v-7c10a16e]:not(:last-child){margin-bottom:0 !important}.tainacan-checkbox-search-section[data-v-7c10a16e]{margin-bottom:0}.tainacan-checkbox-search-section .control[data-v-7c10a16e]{margin:0}.tainacan-checkbox-search-section .input .icon .mdi[data-v-7c10a16e]::before{color:var(--tainacan-input-color)}.tainacan-checkbox-search-section .button[data-v-7c10a16e]{border-radius:0 !important;min-height:100%;border:1px solid var(--tainacan-input-border-color);background-color:var(--tainacan-input-background-color);transition:background .2s ease}.tainacan-checkbox-search-section .button.is-active[data-v-7c10a16e]{background-color:var(--tainacan-primary)}.tainacan-checkbox-search-section .button.is-active .tainacan-icon[data-v-7c10a16e]::before{color:var(--tainacan-secondary)}.tainacan-checkbox-list-container[data-v-7c10a16e]{height:auto;display:flex;align-items:center;position:relative;padding:6px 20px !important}.tainacan-checkbox-list-container>ul+.tainacan-checkbox-list-page-changer[data-v-7c10a16e]{inset-inline-end:0;inset-inline-start:auto}.tainacan-finder-columns-container[data-v-7c10a16e] .b-checkbox.checkbox,.tainacan-checkbox-list-container[data-v-7c10a16e] .b-checkbox.checkbox{font-size:1em}.tainacan-checkbox-list-page-changer[data-v-7c10a16e]{height:100%;position:absolute;inset-inline-start:0;inset-inline-end:auto;align-items:center;display:flex;background-color:var(--tainacan-item-hover-background-color)}.tainacan-checkbox-list-page-changer[data-v-7c10a16e]:hover{background-color:var(--tainacan-primary)}.tainacan-modal-checkbox-list-body[data-v-7c10a16e]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;-moz-column-gap:2em;column-gap:2em;column-rule:none;list-style:none;width:100%;max-height:253px;padding:0 !important;margin:0;overflow:auto}.tainacan-search-results-container[data-v-7c10a16e]{padding:.25em !important}.tainacan-tags-container[data-v-7c10a16e]{min-height:64px;padding:6px 20px !important;display:block}.tainacan-tags-container .tainacan-tags-container--list[data-v-7c10a16e]{display:flex;flex-wrap:wrap;gap:0}.tainacan-tags-container .tags[data-v-7c10a16e]{font-size:.875em}.tainacan-tags-container section p[data-v-7c10a16e]{font-size:.875em}.tainacan-modal-checkbox-search-results-body[data-v-7c10a16e]{list-style:none;-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;-moz-column-gap:2em;column-gap:2em;column-rule:none}.tainacan-li-no-children[data-v-7c10a16e]{padding:3em 1.5em 3em .5em}.tainacan-li-checkbox-last-active[data-v-7c10a16e]{background-color:var(--tainacan-primary)}.tainacan-li-checkbox-parent-active[data-v-7c10a16e]{background-color:var(--tainacan-primary)}.b-checkbox .control-label[data-v-7c10a16e]{display:flex;flex-wrap:nowrap;align-items:center;width:100%;overflow:visible !important;white-space:normal !important}.b-checkbox .control-label .checkbox-label-text[data-v-7c10a16e]{line-height:1.25em;padding-right:3px;-moz-column-break-inside:avoid;break-inside:avoid}.warning-no-more-terms[data-v-7c10a16e]{color:var(--tainacan-info-color);font-size:.75em;padding:.5em;text-align:center}@media screen and (max-width: 768px){.tainacan-modal-content[data-v-7c10a16e]{flex-direction:column;display:flex;align-items:center;justify-content:space-around}.tainacan-modal-checkbox-list-body[data-v-7c10a16e],.tainacan-finder-column.has-only-one-column[data-v-7c10a16e],.tainacan-modal-checkbox-search-results-body[data-v-7c10a16e]{-moz-column-count:auto !important;column-count:auto !important}.tainacan-modal-checkbox-search-results-body[data-v-7c10a16e],.tainacan-checkbox-list-container[data-v-7c10a16e],.tainacan-finder-columns-container[data-v-7c10a16e]{font-size:1.125em}.tainacan-finder-columns-container[data-v-7c10a16e]{max-height:48vh}.tainacan-finder-columns-container .tainacan-finder-column[data-v-7c10a16e],.tainacan-finder-columns-container .tainacan-finder-column ul[data-v-7c10a16e]{max-height:100%}.tainacan-finder-columns-container .tainacan-finder-column .column-label+ul[data-v-7c10a16e]{max-height:calc(100% - .75em - .45em - .45em)}.tainacan-li-checkbox-list[data-v-7c10a16e]{max-width:calc(100% - 2*var(--tainacan-one-column)) !important}}',""]);const s=c},89547(e,t,a){a.d(t,{X:()=>n.X});var n=a(45232)},91301(e,t,a){a.d(t,{A:()=>o});var n=a(89547),i=a(47302);a(30623);const o=(0,a(66262).A)(i.A,[["render",n.X],["__scopeId","data-v-7c10a16e"]])}}]);