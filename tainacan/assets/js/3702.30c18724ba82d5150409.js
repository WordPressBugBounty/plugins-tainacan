(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[3702],{761:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(57496),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},1622:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a={name:"TermDeletionDialog",props:{title:String,message:String,showDescendantsDeleteButton:{type:Boolean,default:!1},onConfirm:{type:Function,default:function(){}},hideCancel:{type:Boolean,default:!1},amountOfTerms:{type:Number,default:1}},emits:["close"],data:function(){return{typeOfDelete:"selected"}},mounted:function(){this.$refs.termDeletionDialog&&this.$refs.termDeletionDialog.focus()}}},2046:(e,t,n)=>{"use strict";n(28799)},2178:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,'.search-and-selection-control[data-v-294282d0]{margin:0 0 .5em 0;padding:0px;display:flex;align-items:center;justify-content:space-between}.search-and-selection-control .terms-search[data-v-294282d0]{margin:0px .5em 0px 0px !important;padding:0px !important}.search-and-selection-control .terms-search .control[data-v-294282d0]{margin:0}.search-and-selection-control .terms-search .input .icon .mdi[data-v-294282d0]::before{color:var(--tainacan-input-color)}.search-and-selection-control .terms-search .button[data-v-294282d0]{border-radius:0 !important;min-height:100%;background-color:var(--tainacan-input-background-color);border:1px solid var(--tainacan-input-border-color);transition:background .2s ease}.search-and-selection-control .terms-search .button.is-active[data-v-294282d0]{background-color:var(--tainacan-blue5)}.search-and-selection-control .terms-search .button.is-active .tainacan-icon[data-v-294282d0]::before{color:var(--tainacan-secondary)}.search-and-selection-control .terms-search[data-v-294282d0] .field-body>.field{padding:0px !important;margin-left:0px !important}.search-and-selection-control .selected-terms-info[data-v-294282d0]{margin:0 .5em 0 auto;font-size:.875em;color:var(--tainacan-info-color)}.search-and-selection-control .selected-terms-info .link-style[data-v-294282d0]{border-radius:36px}.search-and-selection-control .selected-terms-info .link-style[data-v-294282d0]:hover{background-color:var(--tainacan-gray1) !important}.search-and-selection-control .selected-terms-info #selected-terms-dropdown[data-v-294282d0] .dropdown-trigger{font-size:1.125em !important}.search-and-selection-control .selected-terms-info #selected-terms-dropdown[data-v-294282d0] .dropdown-menu{width:-moz-max-content;width:max-content;max-width:380px}.search-and-selection-control .selected-terms-info #selected-terms-dropdown .checkbox-name-text[data-v-294282d0]{font-size:1.375em !important}.search-and-selection-control .selected-terms-info[data-v-294282d0]:not(.field){border:1px solid var(--tainacan-input-border-color);padding:.2rem .5rem}.tainacan-form[data-v-294282d0]{margin-top:0px;max-width:100%}.tainacan-form a[data-v-294282d0]:not(:disabled),.tainacan-form button[data-v-294282d0]:not(:disabled){color:var(--tainacan-blue5);cursor:pointer}.tainacan-form .form-submit[data-v-294282d0]{padding-top:16px !important}.tainacan-li-checkbox-list[data-v-294282d0]{flex-grow:0;flex-shrink:1;max-width:100%;padding-left:.5em;margin:0;-webkit-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;display:flex;justify-content:space-between;align-items:stretch;min-height:1.5em}.tainacan-li-checkbox-list[data-v-294282d0] .b-checkbox,.tainacan-li-checkbox-list[data-v-294282d0] .b-radio{margin-right:0px;margin-bottom:0;-webkit-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}.tainacan-li-checkbox-list[data-v-294282d0] .b-checkbox .control-label,.tainacan-li-checkbox-list[data-v-294282d0] .b-radio .control-label{white-space:normal;overflow:visible;padding-top:.125em;padding-bottom:.125em;word-break:break-word}.tainacan-li-checkbox-list[data-v-294282d0] .b-checkbox input:disabled+.check,.tainacan-li-checkbox-list[data-v-294282d0] .b-radio input:disabled+.check{cursor:not-allowed;opacity:.5}@media screen and (max-width: 768px){.tainacan-li-checkbox-list[data-v-294282d0] .b-checkbox .control-label,.tainacan-li-checkbox-list[data-v-294282d0] .b-radio .control-label{padding-top:.8125em;padding-bottom:.8125em;padding-left:calc(.875em - 1px);width:100%;border-bottom:1px solid var(--tainacan-gray1)}}.tainacan-li-checkbox-list>a[data-v-294282d0]:not(.add-link),.tainacan-li-checkbox-list>button[data-v-294282d0]:not(.add-link){opacity:0;transition:opacity .2s ease}.tainacan-li-checkbox-list button.load-children-button[data-v-294282d0]{opacity:.95;border-left:1px dashed var(--tainacan-gray1)}.tainacan-li-checkbox-list[data-v-294282d0]:hover:not(.result-info){background-color:var(--tainacan-gray1)}.tainacan-li-checkbox-list:hover:not(.result-info)>a[data-v-294282d0]:not(.add-link),.tainacan-li-checkbox-list:hover:not(.result-info)>button[data-v-294282d0]:not(.add-link){opacity:1;background-color:var(--tainacan-gray2)}.tainacan-li-checkbox-list.result-info[data-v-294282d0]{padding:.5rem .25rem .25rem .25rem;width:100%;max-width:100%;-moz-column-span:all;column-span:all;font-size:.75em;color:var(--tainacan-info-color);text-align:center}.tainacan-hierarchical-list-columns-container[data-v-294282d0]{background-color:var(--tainacan-background-color);border:1px solid var(--tainacan-gray2);border-radius:var(--tainacan-dropdownmenu-border-radius);margin-top:0px;display:flex;height:auto;overflow:auto;scroll-snap-type:x mandatory;scroll-snap-align:start;padding:0 !important;transition:heigth .5s ease,min-height .5s ease}.tainacan-hierarchical-list-columns-container[data-v-294282d0]:focus{outline:none}.tainacan-hierarchical-list-container[data-v-294282d0]{position:relative}.tainacan-hierarchical-list-container .scroll-back-to-root-button[data-v-294282d0]{position:absolute;top:0;left:0;z-index:9;background-color:var(--tainacan-background-color);border:1px solid var(--tainacan-gray2);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:4px;padding:.55rem .8rem;white-space:nowrap;display:block;font-weight:bold;color:var(--tainacan-label-color);font-size:.8rem}.tainacan-hierarchical-list-column[data-v-294282d0]{border-right:solid 1px var(--tainacan-gray2);flex-basis:auto;flex-grow:1;min-width:268px;margin:0;padding:0em;transition:width .2s ease}.tainacan-hierarchical-list-column[data-v-294282d0]:only-child{max-width:100%;border-right:none}.tainacan-hierarchical-list-column[data-v-294282d0]:last-child{border-right:none}.tainacan-hierarchical-list-column.has-only-one-column[data-v-294282d0]{max-width:100%;border-right:none}.tainacan-hierarchical-list-column.has-only-one-column ul[data-v-294282d0]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;-moz-column-gap:2em;column-gap:2em;column-rule:none;overflow-y:hidden;overflow-x:auto}.tainacan-hierarchical-list-column ul[data-v-294282d0]{max-height:calc(50vh - 20px - .7em);min-height:inherit;overflow-y:auto;overflow-x:hidden;list-style:none;margin:0;padding-left:0;box-shadow:inset 0px 4px 10px -12px #000}.tainacan-hierarchical-list-column a[data-v-294282d0]:not(.add-link),.tainacan-hierarchical-list-column button[data-v-294282d0]:not(.add-link){border:none;background:rgba(0,0,0,0);font-size:.75em;white-space:nowrap;display:flex;align-items:center;padding:8px .5rem;opacity:0;transition:opacity .2s ease}.tainacan-hierarchical-list-column a:not(.add-link) .tainacan-icon[data-v-294282d0],.tainacan-hierarchical-list-column button:not(.add-link) .tainacan-icon[data-v-294282d0]{font-size:1.5em}.tainacan-hierarchical-list-column button.load-children-button[data-v-294282d0]{opacity:.95;border-left:1px solid var(--tainacan-gray2)}.tainacan-hierarchical-list-column .column-header[data-v-294282d0]{color:var(--tainacan-label-color);padding:.45em .75em;margin:0;position:relative;border-bottom:1px solid var(--tainacan-gray2);display:flex;flex-direction:column}.tainacan-hierarchical-list-column .column-header .column-name[data-v-294282d0]{display:flex;font-weight:bold;flex-wrap:nowrap;justify-content:space-between;align-items:baseline;margin-bottom:.5em}.tainacan-hierarchical-list-column .column-header .add-link[data-v-294282d0]{font-weight:normal;margin:0 0 auto 0;font-size:.9375em;overflow:initial}.tainacan-hierarchical-list-column .column-header .column-subheader[data-v-294282d0]{display:flex;flex-wrap:nowrap;justify-content:space-between}.tainacan-hierarchical-list-column .column-header .column-subheader .checkbox[data-v-294282d0]{margin-bottom:0;margin-top:.25;font-size:1.25em;width:auto}.tainacan-hierarchical-list-column:not(:first-child) .column-header .column-name[data-v-294282d0]{padding-left:calc(.75em + 12px)}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-294282d0]::after,.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-294282d0]::before{content:"";display:block;position:absolute;right:100%;width:0;height:0;border-style:solid}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-294282d0]::after{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #fff;border-left-width:12px;border-top-width:calc(1em + 1px);border-bottom-width:calc(1em + 0px);left:-2px}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-294282d0]::before{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) var(--tainacan-gray2);border-left-width:12px;border-top-width:calc(1em + 1px);border-bottom-width:calc(1em + 0px);left:-1px}ul[data-v-294282d0]{-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-margin-before:0}.field[data-v-294282d0]:not(:last-child){margin-bottom:0 !important}.b-checkbox .control-label[data-v-294282d0]{display:flex;flex-wrap:nowrap;align-items:center;width:100%;overflow:visible !important;white-space:normal !important}.b-checkbox .control-label .checkbox-name-text[data-v-294282d0]{line-height:1.25em;padding-right:3px;-moz-column-break-inside:avoid;break-inside:avoid}',""]);const l=r},2242:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(29557)},2699:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(74812),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},3595:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(12938),i=n(48444);n(2046);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-32b106de"]])},5823:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var a=n(6934),i=n(40834),o=n(58024),r=n(50533),l=n(39202),s=n(75552);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw i}}}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=c(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={name:"TermsListHierarchical",components:{TermEditionForm:(0,a.$V)((function(){return n.e(9376).then(n.bind(n,19376))}))},props:{taxonomyId:[String,Number],currentUserCanEditTaxonomy:Boolean,selected:Array,selectedColumnIndex:Number,searchString:String,isHierarchical:Boolean},emits:["on-update-selected-column-index","on-update-selected-terms"],data:function(){return{termColumns:[],isColumnLoading:!1,maxTermsPerColumn:100,totalRemaining:{},isEditingTerm:!1,editTerm:null}},computed:{amountOfTermsSelected:function(){return this.selectedColumnIndex>=0?this.termColumns[this.selectedColumnIndex].total_children:this.selected.length?this.selected.length:0}},watch:{searchString:{handler:function(e,t){e!=t&&this.resetTermsListUI()},immediate:!0},isHierarchical:function(e,t){e!=t&&this.resetTermsListUI()}},created:function(){this.fetchTerms(),this.$emitter.on("deleteSelectedTerms",this.deleteSelectedTerms),this.$emitter.on("updateSelectedTermsParent",this.updateSelectedTermsParent)},beforeUnmount:function(){this.$emitter.off("deleteSelectedTerms",this.deleteSelectedTerms),this.$emitter.off("updateSelectedTermsParent",this.updateSelectedTermsParent)},methods:h(h({},(0,i.i0)("taxonomy",["updateTerm","deleteTerm","deleteTerms","changeTermsParent","multipleTermsInsertion"])),{},{renderTermHierarchyLabel:function(e){return e.hierarchy_path?'<span style="color: var(--tainacan-info-color);">'+e.hierarchy_path.replace(/>/g,'&nbsp;<span class="hierarchy-separator"> &gt; </span>&nbsp;')+"</span>"+e.name:e.name},isTermSelected:function(e){return this.selected.findIndex((function(t){return t.id==e}))>=0},getTermIdAsNumber:function(e){return isNaN(Number(e))?e:Number(e)},onEditTerm:function(e){this.editTerm=e,this.isEditingTerm=!0},shouldShowMoreButton:function(e){return!0===this.totalRemaining[e].remaining||this.termColumns[e].children.length<this.totalRemaining[e].remaining},removeLevelsAfterIndex:function(e){this.termColumns.length=null!=e?e+1:0},removeLevelsAfterTerm:function(e){for(var t=0;t<this.termColumns.length;t++)if(this.termColumns[t].id==e.id){this.termColumns.splice(t,this.termColumns.length-t);break}},createColumn:function(e,t,n,i){var o=this,r=e.data,l=void 0;if(r.length>0)for(var s in this.termColumns)if(this.termColumns[s].children[0].id==r[0].id){l=s;break}null!=l?this.termColumns.splice(l,1,{name:n,id:i,children:r,total_children:e.headers["x-wp-total"]}):this.termColumns.push({name:n,id:i,children:r,total_children:e.headers["x-wp-total"]}),(0,a.dY)((function(){setTimeout((function(){o.$refs&&o.$refs["".concat(t,".0-tainacan-li-checkbox-model")]&&o.$refs["".concat(t,".0-tainacan-li-checkbox-model")][0]&&o.$refs["".concat(t,".0-tainacan-li-checkbox-model")][0].$el&&o.$refs["tainacan-finder-scrolling-container"]&&o.$refs["tainacan-finder-scrolling-container"].$el&&o.$refs["tainacan-finder-scrolling-container"].$el.scrollTo({top:0,left:null!=l?0:o.$refs["".concat(t,".0-tainacan-li-checkbox-model")][0].$el.offsetLeft,behavior:"smooth"})}),500)}))},scrollBackToRoot:function(){this.$refs&&this.$refs["tainacan-finder-scrolling-container"]&&this.$refs["tainacan-finder-scrolling-container"].$el&&this.$refs["tainacan-finder-scrolling-container"].$el.scrollTo({top:0,left:0,behavior:"smooth"})},appendMoreTermsToColumn:function(e,t){var n,a=d(e);try{for(a.s();!(n=a.n()).done;){var i=n.value;this.termColumns[t].children.push(i)}}catch(e){a.e(e)}finally{a.f()}},fetchTerms:function(e,t){var n=this;this.isColumnLoading=!0;var a=e?e.id:0,i="/taxonomy/".concat(this.taxonomyId,"/terms?order=asc&number=").concat(this.maxTermsPerColumn,"&offset=0&hideempty=0");this.isHierarchical&&!this.searchString.length&&(i+="&parent="+a),this.searchString.length&&(i+="&searchterm="+this.searchString),s.UY.get(i).then((function(i){n.totalRemaining=Object.assign({},n.totalRemaining,f({},"".concat(null==t?0:t+1),{remaining:i.headers["x-wp-total"]})),n.removeLevelsAfterIndex(t),n.createColumn(i,t,e?e.name:null,a),n.isColumnLoading=!1})).catch((function(e){n.$console.log(e),n.isColumnLoading=!1}))},fetchMoreTerms:function(e,t){var n=this;if(e.children&&e.children.length>0){var a=e.children[0].parent,i=e.children.length;this.isColumnLoading=!0;var o="/taxonomy/".concat(this.taxonomyId,"/terms/?order=asc&number=").concat(this.maxTermsPerColumn,"&offset=").concat(i,"&hideempty=");this.isHierarchical&&!this.searchString.length&&(o+="&parent="+a),this.searchString.length&&(o+="&searchterm="+this.searchString),s.UY.get(o).then((function(e){n.totalRemaining=Object.assign({},n.totalRemaining,f({},"".concat(t),{remaining:e.headers["x-wp-total"]})),n.appendMoreTermsToColumn(e.data,t),n.isColumnLoading=!1})).catch((function(e){n.$console.log(e),n.isColumnLoading=!1}))}},selectColumn:function(e){var t=this.selectedColumnIndex!=e?e:-1;this.$emit("on-update-selected-column-index",{index:t,object:this.termColumns[t]?this.termColumns[t]:null})},removeTerm:function(e){var t=this;this.$buefy.modal.open({component:o.A,props:{message:e.total_children&&"0"!=e.total_children?this.$i18n.get("info_warning_term_with_child"):this.$i18n.get("info_warning_selected_term_delete"),showDescendantsDeleteButton:e.total_children&&"0"!=e.total_children,amountOfTerms:1,onConfirm:function(n){t.deleteTerm({taxonomyId:t.taxonomyId,termId:e.id,parent:e.parent,deleteChildTerms:"descendants"==n||!t.isHierarchical}).then((function(){t.onTermRemovalFinished(e)})).catch((function(e){t.$console.log(e)}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},deleteSelectedTerms:function(){var e=this;this.$buefy.modal.open({component:o.A,props:{message:this.$i18n.get("info_warning_some_terms_with_child"),showDescendantsDeleteButton:!0,amountOfTerms:this.amountOfTermsSelected,onConfirm:function(t){e.deleteTerms({taxonomyId:e.taxonomyId,terms:e.selectedColumnIndex>=0?[]:e.selected.map((function(e){return e.id})),parent:e.selectedColumnIndex>=0?e.termColumns[e.selectedColumnIndex].id:void 0,deleteChildTerms:"descendants"===t||!e.isHierarchical}).then((function(){e.resetTermsListUI()})).catch((function(t){e.$console.log(t)}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},updateSelectedTermsParent:function(){var e=this;this.$buefy.modal.open({component:r.A,props:{amountOfTerms:this.amountOfTermsSelected,excludeTree:this.selectedColumnIndex>=0?this.termColumns[this.selectedColumnIndex].id:this.selected.map((function(e){return e.id})),taxonomyId:this.taxonomyId,onConfirm:function(t){e.changeTermsParent({taxonomyId:e.taxonomyId,newParentTerm:t,terms:e.selectedColumnIndex>=0?[]:e.selected.map((function(e){return e.id})),parent:e.selectedColumnIndex>=0?e.termColumns[e.selectedColumnIndex].id:void 0}).then((function(){e.resetTermsListUI()})).catch((function(t){e.$console.log(t)}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},updateSelectedTerms:function(e){this.$emit("on-update-selected-column-index",{index:-1,object:null});var t=JSON.parse(JSON.stringify(this.selected)),n=this.selected.findIndex((function(t){return t.id==e.id}));n>=0?t.splice(n,1):t.push(e),this.$emit("on-update-selected-terms",t)},onTermRemovalFinished:function(e){var t=this.termColumns.findIndex((function(t){return t.id==e.parent}));if(t>=0){var n=this.termColumns[t].children.findIndex((function(t){return t.id==e.id}));if(n>=0){if(this.totalRemaining[t].remaining=Number(this.totalRemaining[t].remaining)-1,this.termColumns[t].children.splice(n,1),this.termColumns[t].total_children=Number(this.termColumns[t].total_children)-1,this.termColumns[t-1]){var a=this.termColumns[t-1].children.findIndex((function(t){return t.id==e.parent}));a>=0&&(this.termColumns[t-1].children[a].total_children=Number(this.termColumns[t].total_children))}t>1?this.removeLevelsAfterIndex(t-1):this.resetTermsListUI()}}},onTermEditionFinished:function(e,t,n){var a=this.termColumns.findIndex((function(t){return t.id==e.parent}));if(a>=0){var i=this.termColumns[a].children.findIndex((function(t){return t.id==e.id}));if(i>=0)this.termColumns[a].children.splice(i,1,e),e.total_children>0&&this.termColumns[a+1]&&(this.termColumns[a+1].name=e.name);else{var o=this.termColumns[a].children.findIndex((function(t){return t.name.toLowerCase()>e.name.toLowerCase()}));if(o>=0?this.termColumns[a].children.splice(o,0,e):this.termColumns[a].children.push(e),this.termColumns[a].total_children=Number(this.termColumns[a].total_children)+1,this.totalRemaining[a].remaining=Number(this.totalRemaining[a].remaining)+1,this.termColumns[a-1]){var r=this.termColumns[a-1].children.findIndex((function(t){return t.id==e.parent}));r>=0&&(this.termColumns[a-1].children[r].total_children=Number(this.termColumns[a].total_children))}}}if(t){var l=this.termColumns.findIndex((function(e){return e.id==n}));if(l>=a){if(l>=0){var s=this.termColumns[l].children.findIndex((function(t){return t.id==e.id}));s>=0&&(this.termColumns[l].children.splice(s,1),this.totalRemaining[l].remaining=Number(this.totalRemaining[l].remaining)-1)}if(this.termColumns[l-1]){var c=this.termColumns[l-1].children.findIndex((function(t){return t.id==e.parent}));c>=0&&(this.termColumns[l-1].children[c].total_children=Number(this.termColumns[l-1].children[c].total_children)+1);var d=this.termColumns[l-1].children.findIndex((function(e){return e.id==n}));d>=0&&(this.termColumns[l-1].children[d].total_children=Number(this.termColumns[l-1].children[d].total_children)-1)}}else for(var m=0;m<this.termColumns.length;m++)if(this.termColumns[m].id==e.id){this.removeLevelsAfterIndex(m);break}}},onAddNewChildTerm:function(e){var t={taxonomyId:this.taxonomyId,name:"",description:"",parent:e,id:"new",saved:!1};this.onEditTerm(t),this.removeLevelsAfterTerm(t)},multipleInsertion:function(e){var t=this,n=e.parentId,a=e.parentName;this.$buefy.modal.open({component:l.A,props:{excludeTree:this.selectedColumnIndex>=0&&this.termColumns[this.selectedColumnIndex].id,taxonomyId:this.taxonomyId,isHierarchical:this.isHierarchical,initialTermParent:n,initialTermParentName:a,onConfirm:function(e){var n=e.parent,a=e.termNames;t.multipleTermsInsertion({taxonomyId:t.taxonomyId,parent:n,termNames:a}).then((function(e){t.resetTermsListUI(),t.$buefy.snackbar.open({message:t.$i18n.getWithVariables("info_%s_terms_created",[e.length]),type:"is-success",position:"is-bottom-right",pauseOnHover:!0,queue:!1})})).catch((function(e){for(var n="",a=0;a<e.length;a++)n+=e[a].term_name,a<e.length-1&&(n+=", ");var i=e.length>1?t.$i18n.getWithVariables("info_terms_creation_failed_due_to_values_%s",[n]):t.$i18n.getWithVariables("info_terms_creation_failed_due_to_value_%s",[n]);i+=" "+e[0].errors[0].name,t.$buefy.snackbar.open({message:t.$htmlSanitizer.sanitize(i),type:"is-danger",position:"is-bottom-right",pauseOnHover:!0,queue:!1})}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},resetTermsListUI:function(){this.$emit("on-update-selected-terms",[]),this.$emit("on-update-selected-column-index",{index:-1,object:null}),this.removeLevelsAfterIndex(-1),this.fetchTerms()}})}},6005:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(73418),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},9328:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(40834);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={name:"TermMultipleInsertionDialog",props:{title:String,onConfirm:{type:Function,default:function(){}},hideCancel:{type:Boolean,default:!1},taxonomyId:"",excludeTree:"",isHierarchical:Boolean,initialTermParent:[String,Number],initialTermParentName:String},emits:["close"],data:function(){return{hasParent:!1,termNames:[],termNamesSeparator:[",","Enter"],parentTerms:[],isFetchingParentTerms:!1,parentTermSearchQuery:"",parentTermSearchOffset:0,selectedParentTerm:void 0,parentTermName:"",totalTerms:void 0}},created:function(){this.initialTermParent&&this.initialTermParentName&&(this.parentTermName=this.initialTermParentName,this.selectedParentTerm=this.initialTermParent,this.hasParent=!0)},mounted:function(){this.$refs.termMultipleInsertionDialog&&this.$refs.termMultipleInsertionDialog.focus()},methods:s(s({},(0,a.i0)("taxonomy",["fetchPossibleParentTerms"])),{},{fetchParentTerms:_.debounce((function(e){var t=this;e!=this.parentTermSearchQuery&&(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),e.length||(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),this.parentTermSearchOffset>0&&void 0!==this.totalTerms&&this.parentTerms.length>=this.totalTerms||(this.isFetchingParentTerms=!0,this.fetchPossibleParentTerms({taxonomyId:this.taxonomyId,termId:this.excludeTree,search:this.parentTermSearchQuery,offset:this.parentTermSearchOffset}).then((function(e){var n,a=o(e.parentTerms);try{for(a.s();!(n=a.n()).done;){var i=n.value;t.parentTerms.push(i)}}catch(e){a.e(e)}finally{a.f()}t.parentTermSearchOffset+=12,t.totalTerms=e.totalTerms,t.isFetchingParentTerms=!1})).catch((function(e){t.$console.error(e),t.isFetchingParentTerms=!1})))}),500),fetchMoreParentTerms:_.debounce((function(){this.fetchParentTerms(this.parentTermSearchQuery)}),250),onSelectParentTerm:function(e){e?(this.selectedParentTerm=e.id,this.parentTermName=e.name):(this.selectedParentTerm=void 0,this.parentTermName="")}})}},12938:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(76245)},17308:(e,t,n)=>{"use strict";n.d(t,{X:()=>b});var a=n(6934),i={ref:"termParentSelectionDialog","aria-labelledby":"alert-dialog-title","aria-modal":"",autofocus:"",role:"alertdialog",class:"tainacan-form tainacan-dialog dialog tainacan-repository-level-colors"},o={class:"modal-card",style:{width:"auto"}},r={tabindex:"1",class:"modal-card-body"},l={class:"modal-card-head"},s={id:"alert-dialog-title",class:"modal-card-title"},c={class:"parent-term-options"},d={class:"media"},m={key:0,class:"media-left"},u=["src"],h={class:"media-content"},f={class:"modal-card-foot form-submit"},p=["disabled"];function b(e,t,n,b,g,v){var y=(0,a.g2)("b-radio"),x=(0,a.g2)("b-autocomplete");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",o,[t[6]||(t[6]=(0,a.Lk)("div",{class:"modal-custom-icon"},[(0,a.Lk)("span",{class:"icon is-large"},[(0,a.Lk)("i",{style:{color:"var(--tainacan-blue5)"},class:"tainacan-icon tainacan-icon-taxonomies"})])],-1)),(0,a.Lk)("section",r,[(0,a.Lk)("header",l,[(0,a.Lk)("h1",s,(0,a.v_)(e.$i18n.get("label_update_parent")),1)]),(0,a.Lk)("div",c,[(0,a.bF)(y,{modelValue:g.hasParent,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.hasParent=e}),"native-value":!1},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("label_no_parent_root_term")),1)]})),_:1},8,["modelValue"]),(0,a.bF)(y,{modelValue:g.hasParent,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.hasParent=e}),"native-value":!0},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("instruction_select_a_parent_term")),1)]})),_:1},8,["modelValue"]),(0,a.bF)(x,{id:"tainacan-add-parent-field",modelValue:g.parentTermName,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return g.parentTermName=e}),v.fetchParentTerms],placeholder:e.$i18n.get("instruction_parent_term"),data:g.parentTerms,field:"name",clearable:"",loading:g.isFetchingParentTerms,disabled:!g.hasParent,"check-infinite-scroll":"","append-to-body":!0,onSelect:t[3]||(t[3]=function(e){return v.onSelectParentTerm(e)}),onInfiniteScroll:v.fetchMoreParentTerms},{default:(0,a.k6)((function(e){return[(0,a.Lk)("div",d,[e.option.header_image_id?((0,a.uX)(),(0,a.CE)("div",m,[(0,a.Lk)("img",{width:"28",src:e.option.thumbnail&&e.option.thumbnail.thumbnail&&e.option.thumbnail.thumbnail[0]?e.option.thumbnail.thumbnail[0]:e.option.header_image},null,8,u)])):(0,a.Q3)("",!0),(0,a.Lk)("div",h,(0,a.v_)(e.option.name),1)])]})),empty:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("info_no_parent_term_found")),1)]})),_:1},8,["modelValue","placeholder","data","loading","disabled","onUpdate:modelValue","onInfiniteScroll"])])]),(0,a.Lk)("footer",f,[n.hideCancel?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,class:"button is-outlined",type:"button",onClick:t[4]||(t[4]=function(t){return e.$emit("close")})},(0,a.v_)(e.$i18n.get("cancel")),1)),(0,a.Lk)("button",{type:"submit",class:"button is-success",disabled:!!g.hasParent&&!g.selectedParentTerm,onClick:t[5]||(t[5]=function(t){n.onConfirm(g.hasParent?g.selectedParentTerm:0),e.$emit("close")})},(0,a.v_)(e.$i18n.get("continue")),9,p)])])],512)}},23423:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});var a=n(6934),i={ref:"termDeletionDialog","aria-labelledby":"alert-dialog-title","aria-modal":"",autofocus:"",role:"alertdialog",class:"tainacan-form tainacan-dialog dialog tainacan-repository-level-colors"},o={class:"modal-card",style:{width:"auto","max-width":"560px"}},r={tabindex:"1",class:"modal-card-body"},l={class:"modal-card-head"},s={id:"alert-dialog-title",class:"modal-card-title"},c=["innerHTML"],d={key:0,class:"type-of-deletion-options"},m={class:"modal-card-foot form-submit"};function u(e,t,n,u,h,f){var p=(0,a.g2)("b-radio");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",o,[t[4]||(t[4]=(0,a.Lk)("div",{class:"modal-custom-icon"},[(0,a.Lk)("span",{class:"icon is-large"},[(0,a.Lk)("i",{style:{color:"var(--tainacan-red2)"},class:"tainacan-icon tainacan-icon-alert"})])],-1)),(0,a.Lk)("section",r,[(0,a.Lk)("header",l,[(0,a.Lk)("h1",s,(0,a.v_)(e.$i18n.get("label_warning")),1)]),(0,a.Lk)("span",{innerHTML:n.message},null,8,c),n.showDescendantsDeleteButton?((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(p,{modelValue:h.typeOfDelete,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h.typeOfDelete=e}),"native-value":"selected"},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(n.amountOfTerms>1?e.$i18n.get("label_remove_selected_terms"):e.$i18n.get("label_remove_selected_term")),1)]})),_:1},8,["modelValue"]),(0,a.bF)(p,{modelValue:h.typeOfDelete,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h.typeOfDelete=e}),"native-value":"descendants"},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(n.amountOfTerms>1?e.$i18n.get("label_remove_terms_and_descendants"):e.$i18n.get("label_remove_term_and_descendants")),1)]})),_:1},8,["modelValue"])])):(0,a.Q3)("",!0)]),(0,a.Lk)("footer",m,[n.hideCancel?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,class:"button is-outlined",type:"button",onClick:t[2]||(t[2]=function(t){return e.$emit("close")})},(0,a.v_)(e.$i18n.get("cancel")),1)),(0,a.Lk)("button",{type:"submit",class:"button is-success",onClick:t[3]||(t[3]=function(t){n.onConfirm(h.typeOfDelete),e.$emit("close")})},(0,a.v_)(e.$i18n.get("continue")),1)])])],512)}},24164:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(60553)},24205:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(9328)},25161:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var a=n(45332),i=n(2242);n(96116);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-4fea1d35"]])},26945:(e,t,n)=>{"use strict";n(73045)},28799:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(31274),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},29557:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var a=n(6934),i=n(74042),o=n(40834),r=n(94063),l=n(3012);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return d(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=s(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={name:"TaxonomyEditionForm",components:{TermsList:r.A},mixins:[i.lg,i.X3],beforeRouteLeave:function(e,t,n){var a=!1;this.taxonomy&&(this.taxonomy.name!=this.form.name&&(a=!0),this.taxonomy.description!=this.form.description&&(a=!0),this.taxonomy.slug!=this.form.slug&&(a=!0),this.taxonomy.allow_insert!=this.form.allowInsert&&(a=!0),this.taxonomy.hierarchical!=this.form.hierarchical&&(a=!0),this.taxonomy.status!=this.form.status&&(a=!0),this.taxonomy.enabled_post_types!=this.form.enabledPostTypes&&(a=!0)),a&&this.taxonomy?this.$buefy.modal.open({component:l.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_taxonomy_not_saved"),onConfirm:function(){n()}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]}):n()},data:function(){return{taxonomyId:String,tabIndex:0,taxonomy:null,isLoadingTaxonomy:!1,isUpdatingSlug:!1,form:{name:String,status:String,description:String,slug:String,allowInsert:String,hierarchical:String,enabledPostTypes:Array},wpPostTypes:tainacan_plugin.wp_post_types,editFormErrors:{},formErrorMessage:"",entityName:"taxonomy",updatedAt:void 0,shouldReloadTermsList:!1,themeTaxonomiesURL:tainacan_plugin.theme_taxonomy_list_url}},mounted:function(){var e=this;"terms"==this.$route.query.tab&&(this.tabIndex=1),"TaxonomyCreationForm"==this.$route.name?this.createNewTaxonomy():"TaxonomyEditionForm"==this.$route.name&&(this.isLoadingTaxonomy=!0,this.pathArray=this.$route.fullPath.split("/").reverse(),this.taxonomyId=this.pathArray[1],this.fetchTaxonomy({taxonomyId:this.taxonomyId,isContextEdit:!0}).then((function(t){e.taxonomy=JSON.parse(JSON.stringify(t.taxonomy)),e.$routerHelper.appendToPageTitle(e.taxonomy.name),wp.hooks.doAction("tainacan_navigation_path_updated",{currentRoute:e.$route,adminOptions:e.$adminOptions,parentEntity:{rootLink:"taxonomies",name:e.taxonomy.name,defaultLink:"taxonomies/".concat(e.taxonomyId,"/edit"),label:e.$i18n.get("taxonomies")}}),(0,a.dY)().then((function(){e.updateExtraFormData(e.taxonomy)})),e.form.name=e.taxonomy.name,e.form.description=e.taxonomy.description,e.form.slug=e.taxonomy.slug,e.form.status=e.taxonomy.status,e.form.allowInsert=e.taxonomy.allow_insert,e.form.hierarchical=e.taxonomy.hierarchical,e.form.enabledPostTypes=e.taxonomy.enabled_post_types,e.isLoadingTaxonomy=!1})).catch((function(){return e.isLoadingTaxonomy=!1})))},methods:u(u({},(0,o.i0)("taxonomy",["createTaxonomy","updateTaxonomy","fetchTaxonomy","fetchOnlySlug"])),{},{onChangeTab:function(e){this.tabIndex=e,1==this.tabIndex?this.$router.push({query:{tab:"terms"}}):this.$router.push({query:{}})},onSubmit:function(){var e=this;this.isLoadingTaxonomy=!0;var t={taxonomyId:this.taxonomyId,name:this.form.name,description:this.form.description,slug:this.form.slug?this.form.slug:"",status:this.form.status,allow_insert:this.form.allowInsert,hierarchical:this.form.hierarchical,enabled_post_types:this.form.enabledPostTypes,context:"edit"};this.fillExtraFormData(t),this.updateTaxonomy(t).then((function(t){e.taxonomy=JSON.parse(JSON.stringify(t)),wp.hooks.doAction("tainacan_navigation_path_updated",{currentRoute:e.$route,adminOptions:e.$adminOptions,parentEntity:{rootLink:"taxonomies",name:e.taxonomy.name,defaultLink:"taxonomies/".concat(e.taxonomyId,"/edit"),label:e.$i18n.get("taxonomies")}}),e.updateExtraFormData(e.taxonomy),e.form.name=e.taxonomy.name,e.form.slug=e.taxonomy.slug,e.form.description=e.taxonomy.description,e.form.status=e.taxonomy.status,e.form.allowInsert=e.taxonomy.allow_insert,e.form.hierarchical=e.taxonomy.hierarchical,e.form.enabledPostTypes=e.taxonomy.enabled_post_types,e.isLoadingTaxonomy=!1,e.formErrorMessage="",e.editFormErrors={};var n=new Date;e.updatedAt=n.toLocaleString(),"TaxonomyCreationForm"==e.$route.name&&e.$router.push(e.$routerHelper.getTaxonomyEditPath(e.taxonomyId,!0))})).catch((function(t){var n,a=c(t.errors);try{for(a.s();!(n=a.n()).done;)for(var i=n.value,o=0,r=Object.keys(i);o<r.length;o++){var l=r[o];e.editFormErrors[l]=i[l]}}catch(e){a.e(e)}finally{a.f()}e.formErrorMessage=t.error_message,e.isLoadingTaxonomy=!1}))},updateSlug:_.debounce((function(){var e=this;!this.form.name||this.form.name.length<=0||(this.isUpdatingSlug=!0,this.getSamplePermalink(this.taxonomyId,this.form.name,this.form.slug).then((function(t){e.form.slug=t.data.slug,e.isUpdatingSlug=!1,e.formErrorMessage="",e.editFormErrors={}})).catch((function(t){e.$console.error(t),e.isUpdatingSlug=!1})))}),500),createNewTaxonomy:function(){var e=this;this.isLoadingTaxonomy=!0;var t={name:"",description:"",status:"auto-draft",slug:"",allow_insert:"yes",hierarchical:"yes"};this.fillExtraFormData(t),this.createTaxonomy(t).then((function(t){e.taxonomyId=t.id,e.taxonomy=t,e.form.name=e.taxonomy.name,e.form.description=e.taxonomy.description,e.form.slug=e.taxonomy.slug,e.form.allowInsert=e.taxonomy.allow_insert,e.form.hierarchical=e.taxonomy.hierarchical,e.form.status="publish",e.isLoadingTaxonomy=!1,e.shouldReloadTermsList=!1})).catch((function(t){e.$console.error(t),e.isLoadingTaxonomy=!1}))},clearErrors:function(e){this.editFormErrors[e]=void 0},cancelBack:function(){this.$router.go(-1)},goToCreateAnotherTaxonomy:function(){this.$router.push(this.$routerHelper.getNewTaxonomyPath()),this.taxonomyId=void 0,this.taxonomy=null,this.isUpdatingSlug=!1,this.form={name:String,status:String,description:String,slug:String,allowInsert:String,hierarchical:String,enabledPostTypes:Array},this.editFormErrors={},this.formErrorMessage="",this.updatedAt=void 0,this.shouldReloadTermsList=!0,this.createNewTaxonomy()}})}},31274:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,'.tainacan-show-more[data-v-32b106de]{width:100%;display:flex;justify-content:center;box-shadow:none;cursor:pointer;border:1px solid var(--tainacan-gray1);margin-top:10px;margin-bottom:-0.2em}.tainacan-show-more[data-v-32b106de]:hover,.tainacan-show-more[data-v-32b106de]:focus{outline:none;box-shadow:none;background-color:var(--tainacan-item-hover-background-color)}.tainacan-show-more[data-v-32b106de]:focus-visible{outline:2px solid var(--tainacan-secondary);outline-offset:2px;box-shadow:none}.tainacan-li-checkbox[data-v-32b106de]{display:flex;justify-content:space-between;align-items:stretch;margin-left:0px !important;padding:0 !important}.tainacan-li-checkbox[data-v-32b106de] .b-checkbox,.tainacan-li-checkbox[data-v-32b106de] .b-radio{max-width:100%;min-height:1.875em;margin-left:.7em;margin-bottom:0px !important;height:auto;padding-top:0px;padding-bottom:0px}.tainacan-li-checkbox[data-v-32b106de] .b-checkbox .control-label,.tainacan-li-checkbox[data-v-32b106de] .b-radio .control-label{white-space:normal;overflow:visible;padding-top:.125em;padding-bottom:.125em;word-break:break-word}.tainacan-li-checkbox[data-v-32b106de] .b-checkbox input:disabled+.check,.tainacan-li-checkbox[data-v-32b106de] .b-radio input:disabled+.check{cursor:not-allowed;opacity:.5}@media screen and (max-width: 768px){.tainacan-li-checkbox[data-v-32b106de] .b-checkbox .control-label,.tainacan-li-checkbox[data-v-32b106de] .b-radio .control-label{padding-top:.8125em;padding-bottom:.8125em;padding-left:calc(.875em - 1px);width:100%;border-bottom:1px solid var(--tainacan-gray1)}}.tainacan-li-checkbox[data-v-32b106de] .b-checkbox input:disabled+.check,.tainacan-li-checkbox[data-v-32b106de] .b-radio input:disabled+.check{cursor:not-allowed;opacity:.5}.tainacan-li-checkbox button[data-v-32b106de]{cursor:pointer}.tainacan-li-checkbox button .tainacan-icon[data-v-32b106de]{color:var(--tainacan-blue5)}.tainacan-li-checkbox .actions-container[data-v-32b106de]{position:absolute;display:flex;right:-0.5em;opacity:0;height:100%}.tainacan-li-checkbox[data-v-32b106de]:hover,.tainacan-li-checkbox[data-v-32b106de]:focus,.tainacan-li-checkbox[data-v-32b106de]:focus-within,.tainacan-li-checkbox[data-v-32b106de]:focus-visible{background-color:var(--tainacan-gray1)}.tainacan-li-checkbox:hover>a[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:hover>button[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:hover .actions-container[data-v-32b106de],.tainacan-li-checkbox:focus>a[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus>button[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus .actions-container[data-v-32b106de],.tainacan-li-checkbox:focus-within>a[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus-within>button[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus-within .actions-container[data-v-32b106de],.tainacan-li-checkbox:focus-visible>a[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus-visible>button[data-v-32b106de]:not(.add-link),.tainacan-li-checkbox:focus-visible .actions-container[data-v-32b106de]{opacity:1;background-color:var(--tainacan-gray2)}.tainacan-hierarchical-list-columns-container[data-v-32b106de]{background-color:var(--tainacan-background-color);border:1px solid var(--tainacan-gray2);border-radius:var(--tainacan-dropdownmenu-border-radius);margin-top:0px;display:flex;height:auto;overflow:auto;scroll-snap-type:x mandatory;scroll-snap-align:start;padding:0 !important;transition:heigth .5s ease,min-height .5s ease}.tainacan-hierarchical-list-columns-container[data-v-32b106de]:focus{outline:none}.tainacan-hierarchical-list-container[data-v-32b106de]{position:relative}.tainacan-hierarchical-list-container .scroll-back-to-root-button[data-v-32b106de]{position:absolute;top:0;left:0;z-index:9;background-color:var(--tainacan-background-color);border:1px solid var(--tainacan-gray2);border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:4px;padding:.55rem .8rem;white-space:nowrap;display:block;font-weight:bold;color:var(--tainacan-label-color);font-size:.8rem}.tainacan-hierarchical-list-column[data-v-32b106de]{border-right:solid 1px var(--tainacan-gray2);flex-basis:auto;flex-grow:1;min-width:290px;margin:0;padding:0em;transition:width .2s ease}.tainacan-hierarchical-list-column[data-v-32b106de]:only-child{max-width:100%;border-right:none}.tainacan-hierarchical-list-column[data-v-32b106de]:last-child{border-right:none}.tainacan-hierarchical-list-column ul[data-v-32b106de]{max-height:calc(50vh - 20px - .7em);min-height:inherit;overflow-y:auto;overflow-x:hidden;list-style:none;margin:0;padding-left:0;box-shadow:inset 0px 4px 10px -12px #000}.tainacan-hierarchical-list-column a[data-v-32b106de]:not(.add-link),.tainacan-hierarchical-list-column button[data-v-32b106de]:not(.add-link){border:none;background:rgba(0,0,0,0);font-size:.75em;white-space:nowrap;display:flex;align-items:center;padding:8px .5rem;transition:opacity .2s ease}.tainacan-hierarchical-list-column a:not(.add-link) .tainacan-icon[data-v-32b106de],.tainacan-hierarchical-list-column button:not(.add-link) .tainacan-icon[data-v-32b106de]{font-size:1.5em}.tainacan-hierarchical-list-column button.load-children-button[data-v-32b106de]{opacity:.95;border-left:1px solid var(--tainacan-gray2)}.tainacan-hierarchical-list-column .column-header[data-v-32b106de]{color:var(--tainacan-label-color);padding:.45em .75em;margin:0;position:relative;border-bottom:1px solid var(--tainacan-gray2);display:flex;flex-direction:column}.tainacan-hierarchical-list-column .column-header .column-name[data-v-32b106de]{display:flex;font-weight:bold;flex-wrap:nowrap;justify-content:space-between;align-items:baseline;margin-bottom:.5em}.tainacan-hierarchical-list-column .column-header .add-link[data-v-32b106de]{font-weight:normal;margin:0 0 auto 0;white-space:nowrap;font-size:.9375em;overflow:initial}.tainacan-hierarchical-list-column .column-header .add-link[data-v-32b106de]:not(:last-child){margin-left:auto;margin-right:1em}.tainacan-hierarchical-list-column .column-header .column-subheader[data-v-32b106de]{display:flex;flex-wrap:nowrap;justify-content:space-between}.tainacan-hierarchical-list-column .column-header .column-subheader .checkbox[data-v-32b106de]{margin-bottom:0;margin-top:.25;font-size:1.25em;width:auto}.tainacan-hierarchical-list-column:not(:first-child) .column-header .column-name[data-v-32b106de]{padding-left:calc(.75em + 12px)}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-32b106de]::after,.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-32b106de]::before{content:"";display:block;position:absolute;right:100%;width:0;height:0;border-style:solid}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-32b106de]::after{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #fff;border-left-width:12px;border-top-width:calc(1em + 1px);border-bottom-width:calc(1em + 0px);left:-2px}.tainacan-hierarchical-list-column:not(:first-child) .column-header[data-v-32b106de]::before{top:0px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) var(--tainacan-gray2);border-left-width:12px;border-top-width:calc(1em + 1px);border-bottom-width:calc(1em + 0px);left:-1px}ul[data-v-32b106de]{-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0;-webkit-padding-start:0;-webkit-margin-before:0}.field[data-v-32b106de]:not(:last-child){margin-bottom:0 !important}.tainacan-li-checkbox--parent-active[data-v-32b106de]{background-color:var(--tainacan-gray0);position:sticky;top:0px;bottom:0px;z-index:1;border-bottom:1px solid var(--tainacan-gray1);border-top:1px solid var(--tainacan-gray1)}.tainacan-li-checkbox--parent-active .load-children-button[data-v-32b106de]{background-color:var(--tainacan-blue1) !important}.b-checkbox .control-label[data-v-32b106de]{display:flex;flex-wrap:nowrap;align-items:center;width:100%;overflow:visible !important;white-space:normal !important}.b-checkbox .control-label .checkbox-name-text[data-v-32b106de]{line-height:1.25em;padding-right:3px;-moz-column-break-inside:avoid;break-inside:avoid}.warning-no-more-terms[data-v-32b106de]{margin:1.5rem 0;color:var(--tainacan-info-color);font-size:.75em;padding:.5em;text-align:center}@media screen and (max-width: 768px){.tainacan-hierarchical-list-columns-container[data-v-32b106de]{max-height:calc(100vh - 184px - 56px);max-height:calc(100dvh - 184px - 56px)}.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column[data-v-32b106de],.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column ul[data-v-32b106de]{max-height:100%}.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column[data-v-32b106de]{max-width:calc(99vw - var(--tainacan-one-column) - .75em - .75em - 2px);min-width:calc(99vw - var(--tainacan-one-column) - .75em - .75em - 24px)}.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column .column-header+ul[data-v-32b106de]{max-height:calc(100% - .75em - .45em - .45em - 5px)}.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column .column-subheader[data-v-32b106de]{flex-wrap:wrap}.tainacan-hierarchical-list-columns-container .tainacan-hierarchical-list-column ul a[data-v-32b106de]{width:4.5em;border-left:1px solid var(--tainacan-gray1);border-bottom:1px solid var(--tainacan-gray1);display:flex;justify-content:center;align-items:center}}',""]);const l=r},36492:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,"\ni.tainacan-icon[data-v-3467075d],\n    i.tainacan-icon[data-v-3467075d]::before {\n        font-size: 40px;\n}\nbutton.is-success[data-v-3467075d] {\n        margin-left: auto;\n}\n.b-checkbox.checkbox[data-v-3467075d] {\n        margin-top: 12px;\n        width: auto !important;\n}\n.parent-term-options[data-v-3467075d] {\n        margin-top: 0.5rem;\n        max-width: 97%;\n}\n.parent-term-options .b-radio[data-v-3467075d] {\n        font-size: 1.125em;\n}\n@media screen and (max-width: 768px) {\n.modal-custom-icon[data-v-3467075d] {\n            display: none !important;\n}\n}\n\n",""]);const l=r},38320:(e,t,n)=>{var a={"./ca":7306,"./ca.js":7306,"./el":54691,"./el.js":54691,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-nz":79402,"./en-nz.js":79402,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./sk":5784,"./sk.js":5784,"./sq":86794,"./sq.js":86794,"./sv":41011,"./sv.js":41011,"./uk":16618,"./uk.js":16618};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id=38320},39020:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(49437)},39202:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(41239),i=n(24205);n(44728);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-9b53410a"]])},41239:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(93186)},44728:(e,t,n)=>{"use strict";n(2699)},45332:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(94395)},48382:(e,t,n)=>{"use strict";n(6005)},48444:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(5823)},48587:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(36492),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},49437:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});const a={name:"TermsList",components:{TermsListHierarchical:n(3595).A},props:{taxonomyId:[String,Number],currentUserCanEditTaxonomy:Boolean,isHierarchical:Boolean},data:function(){return{searchString:"",selected:[],selectedColumnIndex:-1,selectedColumnObject:null}},computed:{amountOfTermsSelected:function(){return this.selectedColumnIndex>=0?this.selectedColumnObject.total_children:this.selected.length?this.selected.length:0}},methods:{renderTermHierarchyLabel:function(e){return e.hierarchy_path?'<span style="color: var(--tainacan-info-color);">'+e.hierarchy_path.replace(/>/g,'&nbsp;<span class="hierarchy-separator"> &gt; </span>&nbsp;')+"</span>"+e.name:e.name},isTermSelected:function(e){return this.selected.findIndex((function(t){return t.id==e}))>=0},getTermIdAsNumber:function(e){return isNaN(Number(e))?e:Number(e)},updateSelectedTerms:function(e){this.selectedColumnIndex=-1;var t=JSON.parse(JSON.stringify(this.selected)),n=this.selected.findIndex((function(t){return t.id==e.id}));n>=0?t.splice(n,1):t.push(e),this.selected=t}}}},50533:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(58809),i=n(69270);n(65272);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-3467075d"]])},57496:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,'.tab-content[data-v-4fea1d35]{overflow:visible !important}.status-radios[data-v-4fea1d35]{display:flex}.status-radios .control-label[data-v-4fea1d35]{display:flex;align-items:center}.tainacan-form>.columns[data-v-4fea1d35]{margin-bottom:72px}@media screen and (min-width: 769px){.tainacan-form .column[data-v-4fea1d35]:last-of-type{padding-left:var(--tainacan-one-column) !important}}.two-columns-fields[data-v-4fea1d35]{-moz-column-width:180px;column-width:180px}.two-columns-fields .field[data-v-4fea1d35]{margin-bottom:0px}.form-submit[data-v-4fea1d35]{align-items:center}.updated-at[data-v-4fea1d35]{margin:0 1em 0 auto;color:var(--tainacan-info-color);font-style:italic}.two-thirds-layout-options[data-v-4fea1d35]{display:flex;-moz-column-gap:1em !important;column-gap:1em !important}.two-thirds-layout-options>.field[data-v-4fea1d35]:first-child{flex-basis:75%}.two-thirds-layout-options>.field[data-v-4fea1d35]:last-child{flex-basis:25%}.two-thirds-layout-options .dropdown-trigger>.button[data-v-4fea1d35]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media screen and (max-width: 782px){.two-thirds-layout-options[data-v-4fea1d35]{flex-wrap:wrap;margin-bottom:1em}.two-thirds-layout-options>.field[data-v-4fea1d35]{flex-basis:100% !important}.two-thirds-layout-options .dropdown-trigger>.button[data-v-4fea1d35]{min-height:40px}}.footer[data-v-4fea1d35]{padding:10px var(--tainacan-one-column);position:absolute;bottom:0;right:0;z-index:9999;background-color:var(--tainacan-gray1);width:100%;height:3.5rem;display:flex;justify-content:flex-end;align-items:center;transition:bottom .5s ease,width .2s linear;box-shadow:0px 0px 12px -8px var(--tainacan-black)}.footer[data-v-4fea1d35]::after,.footer[data-v-4fea1d35]::before{height:18px;width:18px;background:rgba(0,0,0,0);display:block;content:"";position:absolute}.footer[data-v-4fea1d35]::before{left:0;top:-18px;border-bottom-left-radius:9px;box-shadow:-9px 0px 0 0 var(--tainacan-gray1),inset 2px -2px 5px -3px var(--tainacan-gray2)}.footer[data-v-4fea1d35]::after{right:0;top:-18px;border-bottom-right-radius:9px;box-shadow:9px 0px 0 0 var(--tainacan-gray1),inset -2px -2px 5px -3px var(--tainacan-gray2)}.footer .footer-message[data-v-4fea1d35]{display:flex;align-items:center}.footer .update-info-section[data-v-4fea1d35]{color:var(--tainacan-info-color);margin-right:auto;display:flex;flex-wrap:nowrap}.footer .help[data-v-4fea1d35]{display:inline-flex;font-size:1em;margin-top:0;margin-left:24px}.footer .help .tainacan-help-tooltip-trigger[data-v-4fea1d35]{margin-left:.25em}.footer .link-button[data-v-4fea1d35]{background-color:rgba(0,0,0,0);border:none}@media screen and (max-width: 768px){.tainacan-form[data-v-4fea1d35]{padding-bottom:3rem}.footer[data-v-4fea1d35]{padding:13px .5em;margin-left:calc(-1*var(--tainacan-one-column) - var(--tainacan-page-container--inner-padding-x));width:100%;flex-wrap:wrap;height:auto;position:fixed}.footer .update-info-section[data-v-4fea1d35]{margin-left:auto;margin-bottom:.75em;margin-top:-0.25em}}',""]);const l=r},58024:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(64593),i=n(76515);n(48382);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-2fb7fdee"]])},58809:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(17308)},60553:(e,t,n)=>{"use strict";n.d(t,{X:()=>g});var a=n(6934);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var r={class:"tainacan-form"},l={class:"search-and-selection-control"},s={key:0,class:"selected-terms-info"},c={key:1,class:"field selected-terms-info"},d={type:"button",class:"button is-white"},m={class:"b-checkbox checkbox"},u=["checked","value","onInput"],h={class:"control-label"},f=["innerHTML"],p={key:2,class:"field"},b=["disabled"];function g(e,t,n,o,g,v){var y=(0,a.g2)("b-input"),x=(0,a.g2)("b-field"),k=(0,a.g2)("b-dropdown-item"),_=(0,a.g2)("b-dropdown"),w=(0,a.g2)("terms-list-hierarchical"),T=(0,a.gN)("a11y-dropdown");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.Lk)("div",l,[(0,a.bF)(x,{class:"is-clearfix terms-search"},{default:(0,a.k6)((function(){return[(0,a.bF)(y,{modelValue:g.searchString,"onUpdate:modelValue":t[0]||(t[0]=function(e){return g.searchString=e}),expanded:"",autocomplete:"on",placeholder:e.$i18n.get("instruction_search"),"aria-name":e.$i18n.get("instruction_search"),"icon-right":"magnify",type:"search"},null,8,["modelValue","placeholder","aria-name"])]})),_:1}),g.selectedColumnIndex>=0&&n.currentUserCanEditTaxonomy?((0,a.uX)(),(0,a.CE)("span",s,[(0,a.eW)((0,a.v_)(0==g.selectedColumnIndex?e.$i18n.get("label_all_root_terms_selected"):e.$i18n.getWithVariables("label_terms_child_of_%s_selected",[g.selectedColumnObject.name]))+" ",1),(0,a.Lk)("button",{type:"button",class:"link-style",onClick:t[1]||(t[1]=function(e){return g.selectedColumnIndex=-1})},i(t[10]||(t[10]=[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-close"})],-1)])))])):(0,a.Q3)("",!0),g.selected.length&&g.selectedColumnIndex<0?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{id:"selected-terms-dropdown","trigger-tabindex":-1,"mobile-modal":!0,"trap-focus":"",position:"is-bottom-left"},{trigger:(0,a.k6)((function(){return[(0,a.Lk)("button",d,[(0,a.Lk)("span",null,(0,a.v_)(1==g.selected.length?e.$i18n.get("label_one_selected_term"):e.$i18n.getWithVariables("label_%s_selected_terms",[g.selected.length])),1),t[11]||(t[11]=(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))])]})),default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(g.selected,(function(e){return(0,a.uX)(),(0,a.Wv)(k,{key:e.id,custom:""},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",m,[(0,a.Lk)("input",{type:"checkbox",checked:v.isTermSelected(e.id),value:v.getTermIdAsNumber(e.id),onInput:function(t){return v.updateSelectedTerms(e)}},null,40,u),t[12]||(t[12]=(0,a.Lk)("span",{class:"check"},null,-1)),(0,a.Lk)("span",h,[(0,a.Lk)("span",{class:"checkbox-name-text",innerHTML:v.renderTermHierarchyLabel(e)},null,8,f)])])]})),_:2},1024)})),128))]})),_:1})),[[T]])])):(0,a.Q3)("",!0),n.currentUserCanEditTaxonomy?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(_,{id:"bulk-actions-dropdown","trigger-tabindex":-1,"mobile-modal":!0,position:"is-bottom-left",disabled:v.amountOfTermsSelected<=1,"trap-focus":""},{trigger:(0,a.k6)((function(){return[(0,a.Lk)("button",{type:"button",disabled:v.amountOfTermsSelected<=1,class:"button is-white"},[(0,a.Lk)("span",null,(0,a.v_)(e.$i18n.get("label_actions_for_the_selection")),1),t[13]||(t[13]=(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,b)]})),default:(0,a.k6)((function(){return[(0,a.bF)(k,{id:"item-delete-selected-terms",onClick:t[2]||(t[2]=function(t){return e.$emitter.emit("deleteSelectedTerms")}),onKeydown:[t[3]||(t[3]=(0,a.jR)((0,a.D$)((function(t){return e.$emitter.emit("deleteSelectedTerms")}),["prevent"]),["enter"])),t[4]||(t[4]=(0,a.jR)((0,a.D$)((function(t){return e.$emitter.emit("deleteSelectedTerms")}),["prevent"]),["space"]))]},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("label_delete_permanently")),1)]})),_:1}),n.isHierarchical?((0,a.uX)(),(0,a.Wv)(k,{key:0,id:"item-update-selected-terms",onClick:t[5]||(t[5]=function(t){return e.$emitter.emit("updateSelectedTermsParent")}),onKeydown:[t[6]||(t[6]=(0,a.jR)((0,a.D$)((function(t){return e.$emitter.emit("updateSelectedTermsParent")}),["prevent"]),["enter"])),t[7]||(t[7]=(0,a.jR)((0,a.D$)((function(t){return e.$emitter.emit("updateSelectedTermsParent")}),["prevent"]),["space"]))]},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("label_update_parent")),1)]})),_:1})):(0,a.Q3)("",!0)]})),_:1},8,["disabled"])),[[T]])])):(0,a.Q3)("",!0)]),(0,a.bF)(w,{"is-hierarchical":n.isHierarchical,"search-string":g.searchString,"taxonomy-id":n.taxonomyId,"current-user-can-edit-taxonomy":n.currentUserCanEditTaxonomy,selected:g.selected,"selected-column-index":g.selectedColumnIndex,onOnUpdateSelectedTerms:t[8]||(t[8]=function(e){return g.selected=e}),onOnUpdateSelectedColumnIndex:t[9]||(t[9]=function(e){g.selectedColumnIndex=e.index,g.selectedColumnObject=e.object})},null,8,["is-hierarchical","search-string","taxonomy-id","current-user-can-edit-taxonomy","selected","selected-column-index"])])}},64593:(e,t,n)=>{"use strict";n.d(t,{X:()=>a.X});var a=n(23423)},65272:(e,t,n)=>{"use strict";n(48587)},69270:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(70731)},70731:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var a=n(40834);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={name:"TermParentSelectionDialog",props:{title:String,onConfirm:{type:Function,default:function(){}},hideCancel:{type:Boolean,default:!1},amountOfTerms:{type:Number,default:1},taxonomyId:"",excludeTree:""},emits:["close"],data:function(){return{hasParent:!1,parentTerms:[],isFetchingParentTerms:!1,parentTermSearchQuery:"",parentTermSearchOffset:0,selectedParentTerm:void 0,parentTermName:"",totalTerms:void 0}},mounted:function(){this.$refs.termParentSelectionDialog&&this.$refs.termParentSelectionDialog.focus()},methods:s(s({},(0,a.i0)("taxonomy",["fetchPossibleParentTerms"])),{},{fetchParentTerms:_.debounce((function(e){var t=this;e!=this.parentTermSearchQuery&&(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),e.length||(this.parentTermSearchQuery=e,this.parentTerms=[],this.parentTermSearchOffset=0),this.parentTermSearchOffset>0&&void 0!==this.totalTerms&&this.parentTerms.length>=this.totalTerms||(this.isFetchingParentTerms=!0,this.fetchPossibleParentTerms({taxonomyId:this.taxonomyId,termId:this.excludeTree,search:this.parentTermSearchQuery,offset:this.parentTermSearchOffset}).then((function(e){var n,a=o(e.parentTerms);try{for(a.s();!(n=a.n()).done;){var i=n.value;t.parentTerms.push(i)}}catch(e){a.e(e)}finally{a.f()}t.parentTermSearchOffset+=12,t.totalTerms=e.totalTerms,t.isFetchingParentTerms=!1})).catch((function(e){t.$console.error(e),t.isFetchingParentTerms=!1})))}),500),fetchMoreParentTerms:_.debounce((function(){this.fetchParentTerms(this.parentTermSearchQuery)}),250),onSelectParentTerm:function(e){e?(this.selectedParentTerm=e.id,this.parentTermName=e.name):(this.selectedParentTerm=void 0,this.parentTermName="")}})}},73045:(e,t,n)=>{"use strict";var a=n(85072),i=n.n(a),o=n(97825),r=n.n(o),l=n(77659),s=n.n(l),c=n(55056),d=n.n(c),m=n(10540),u=n.n(m),h=n(63494),f=n.n(h),p=n(2178),b={};b.styleTagTransform=f(),b.setAttributes=d(),b.insert=s().bind(null,"head"),b.domAPI=r(),b.insertStyleElement=u();i()(p.A,b),p.A&&p.A.locals&&p.A.locals},73418:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,"\ni.tainacan-icon[data-v-2fb7fdee],\n    i.tainacan-icon[data-v-2fb7fdee]::before {\n        font-size: 56px;\n}\nbutton.is-success[data-v-2fb7fdee] {\n        margin-left: auto;\n}\n.b-checkbox.checkbox[data-v-2fb7fdee] {\n        margin-top: 12px;\n        width: auto !important;\n}\n.type-of-deletion-options[data-v-2fb7fdee] {\n        margin-top: 0.5rem;\n        font-size: 1.25em;\n        max-width: 97%;\n}\n@media screen and (max-width: 768px) {\n.modal-custom-icon[data-v-2fb7fdee] {\n            display: none !important;\n}\n}\n\n",""]);const l=r},74042:(e,t,n)=>{"use strict";n.d(t,{$J:()=>m,X3:()=>u,lg:()=>d,zt:()=>h});var a=n(75552),i=n(55373),o=n.n(i),r=n(95093),l=n.n(r);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var _n=0,a=function(){};return{s:a,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,r=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){r=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(r)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var d={methods:{getSamplePermalink:function(e,t,n){return a.M3.post("",o().stringify({action:"tainacan-sample-permalink",post_id:e,new_title:t,new_slug:n}))}}},m={created:function(){var e=navigator.language;l().locale(e);var t=l().localeData();this.dateFormat=t.longDateFormat("L")?t.longDateFormat("L"):"pt_BR"==t._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(e){return e=new Date(e.replace(/-/g,"/")),l()(e,l().ISO_8601).format(this.dateFormat)}}},u={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var e=this;return this.formHooks[this.entityName]["begin-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getBeginRightForm:function(){var e=this;return this.formHooks[this.entityName]["begin-right"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndLeftForm:function(){var e=this;return this.formHooks[this.entityName]["end-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndRightForm:function(){var e=this;return this.formHooks[this.entityName]["end-right"].map((function(t){return e.checkFormConditionals(t)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(e){for(var t=0,n=["begin-left","begin-right","end-left","end-right"];t<n.length;t++){var a=n[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var i=document.getElementById("form-"+this.entityName+"-"+a);if(i){var o,r=s(i.elements);try{for(r.s();!(o=r.n()).done;){var l=o.value;"checkbox"==l.type||"select"==l.type&&null!=l.multiple&&1==l.multiple?l.checked&&null!=l.name&&""!=l.name&&(Array.isArray(e[l.name])||(e[l.name]=[]),e[l.name].push(l.value)):"radio"==l.type?l.checked&&null!=l.name&&""!=l.name&&(e[l.name]=l.value):e[l.name]=l.value}}catch(e){r.e(e)}finally{r.f()}}}}},updateExtraFormData:function(e){for(var t=0,n=["begin-left","begin-right","end-left","end-right"];t<n.length;t++){var a=n[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][a]&&null!=this.formHooks[this.entityName][a]){var i=document.getElementById("form-"+this.entityName+"-"+a);if(i){var o,r=s(i.elements);try{var l=function(){for(var t=o.value,n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];if(t.name==i)if(Array.isArray(e[i])){var r=e[i].find((function(e){return e==t.value}));t.checked=null!=r}else null!=e[i]&&null!=e[i]&&""!=e[i]&&("radio"==t.type?t.checked=e[i]==t.value:t.value=e[i])}};for(r.s();!(o=r.n()).done;)l()}catch(e){r.e(e)}finally{r.f()}}}}},checkFormConditionals:function(e){if(!e.form)return"";if(!e.conditional||!Object.keys(e.conditional)||!Object.keys(e.conditional).length)return e.form;var t=e.conditional.attribute,n=e.conditional.value;if(t&&n)return this.form&&this.form[t]===n?e.form:"";for(var a=0,i=Object.keys(e.conditional);a<i.length;a++){var o=i[a];if(!this.form||!this.form[o]||this.form[o]!==e.conditional[o])return""}return e.form}}},h={props:{chartData:{},isFetchingData:!1},data:function(){return{isBuildingChart:!1,chartSeries:[],chartOptions:{}}}}},74812:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(31601),i=n.n(a),o=n(76314),r=n.n(o)()(i());r.push([e.id,"\n.dialog .modal-card[data-v-9b53410a] {\n        max-width: 980px;\n}\ni.tainacan-icon[data-v-9b53410a],\n    i.tainacan-icon[data-v-9b53410a]::before {\n        font-size: 40px;\n}\nbutton.is-success[data-v-9b53410a] {\n        margin-left: auto;\n}\n.b-checkbox.checkbox[data-v-9b53410a] {\n        margin-top: 8px;\n        width: auto !important;\n}\n.parent-term-options[data-v-9b53410a] {\n        margin-top: 0.5rem;\n        max-width: 97%;\n}\n.parent-term-options .b-radio[data-v-9b53410a] {\n        font-size: 1.125em;\n}\n.separator-term-names[data-v-9b53410a] {\n        display: flex;\n        flex-wrap: wrap;\n        padding: 4px 10px;\n        background: #f9f9f9;\n        border: 1px solid var(--tainacan-gray1, #f2f2f2);\n        border-bottom-right-radius: 2px;\n        border-bottom-left-radius: 2px;\n        font-size: 1.25em;\n}\n.separator-term-names .b-checkbox[data-v-9b53410a] {\n        width: auto;\n        margin-right: 0.75em;\n}\n.separator-term-names > label[data-v-9b53410a] {\n        opacity: 0.875;\n        font-size: 0.75em;\n        margin-right: 1em;\n        display: block;\n        margin-bottom: 0;\n}\n.separator-term-names > label.is-inline[data-v-9b53410a] {\n        margin-top: 2px;\n}\n.tainacan-multiple-term-insertion--taginput[data-v-9b53410a] .taginput-container {\n        font-size: 1em;\n}\n.tainacan-multiple-term-insertion--taginput[data-v-9b53410a] .tag,\n    .tainacan-multiple-term-insertion--taginput[data-v-9b53410a] .tags {\n        white-space: normal !important;\n        min-height: calc(2.5em - 2px) !important;\n        height: auto !important;\n}\n.tainacan-multiple-term-insertion--taginput[data-v-9b53410a] .tag.is-delete {\n        min-width: calc(2.5em - 2px) !important;\n}\n@media screen and (max-width: 768px) {\n.modal-custom-icon[data-v-9b53410a] {\n            display: none !important;\n}\n}\n.form-submit {\n&[data-v-9b53410a] {\n        background-color: var(--tainacan-gray1);\n        position: sticky;\n        bottom: 0;\n        padding: 16px var(--tainacan-one-column);\n        display: flex;\n        justify-content: space-between;\n        z-index: 2;\n        }\n&[data-v-9b53410a]::after,\n        &[data-v-9b53410a]::before {\n            height: calc(2 * (var(--tainacan-modal-border-radius, 8px) + 2px ));\n            width: calc(2 * (var(--tainacan-modal-border-radius, 8px) + 2px ));\n            background: transparent;\n            display: block;\n            content: '';\n            position: absolute;\n}\n&[data-v-9b53410a]::before {\n            left: 0;\n            top: calc(-2 * (var(--tainacan-modal-border-radius, 8px) + 2px ));\n            border-bottom-left-radius: calc(var(--tainacan-modal-border-radius, 8px) + 2px);\n            box-shadow: calc(-1 * (var(--tainacan-modal-border-radius, 8px) + 2px)) 0px 0 0 var(--tainacan-gray1);\n}\n&[data-v-9b53410a]::after {\n            right: 0;\n            top: calc(-2 * (var(--tainacan-modal-border-radius, 8px) + 2px ));\n            border-bottom-right-radius: calc(var(--tainacan-modal-border-radius, 8px) + 2px);\n            box-shadow: calc(var(--tainacan-modal-border-radius, 8px) + 2px) 0px 0 0 var(--tainacan-gray1);\n}\n}\n\n\n",""]);const l=r},76245:(e,t,n)=>{"use strict";n.d(t,{X:()=>X});var a=n(6934);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}var r={class:"tainacan-hierarchical-list-container"},l={key:0,class:"column-header"},s={class:"column-name"},c={class:"column-subheader"},d=["checked","value","onInput"],m={key:0,class:"control-label"},u={key:1,class:"control-label"},h=["onClick","onKeydown"],f=["onClick","onKeydown"],p={key:1},b={class:"b-checkbox checkbox"},g=["checked","disabled","value","onInput"],v={class:"control-label"},y={key:0,class:"checkbox-name-text"},x=["innerHTML"],k={class:"actions-container"},_=["onClick"],w={class:"icon"},T=["onClick"],C={class:"icon"},S=["href"],$={class:"icon"},L=["onClick"],I={key:0,class:"is-hidden-mobile"},E={key:1},A={key:0},P=["onClick"],O={key:2,class:"warning-no-more-terms"},F=["onClick","onKeydown"],j=["onClick"],N={key:0,class:"section"},H={class:"content has-text-dark has-text-centered"};function X(e,t,n,o,X,D){var V=(0,a.g2)("b-loading"),U=(0,a.g2)("b-field"),M=(0,a.g2)("term-edition-form"),z=(0,a.g2)("b-modal"),R=(0,a.gN)("tooltip");return(0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(V,{modelValue:X.isColumnLoading,"onUpdate:modelValue":t[0]||(t[0]=function(e){return X.isColumnLoading=e}),"is-full-page":!1},null,8,["modelValue"]),(0,a.bF)(a.eB,{name:"appear-from-top"},{default:(0,a.k6)((function(){return[X.termColumns.length>3?((0,a.uX)(),(0,a.CE)("button",{key:0,type:"button",class:"scroll-back-to-root-button",onClick:t[1]||(t[1]=function(e){return D.scrollBackToRoot()})},(0,a.v_)(e.$i18n.get("label_root_terms")),1)):(0,a.Q3)("",!0)]})),_:1}),(0,a.bF)(a.F,{ref:"tainacan-finder-scrolling-container",tag:"div",class:"tainacan-hierarchical-list-columns-container",name:"page-left"},{default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(X.termColumns,(function(o,r){return(0,a.uX)(),(0,a.CE)("div",{key:o.name+"-"+r,class:"tainacan-hierarchical-list-column"},[n.searchString.length?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",l,[(0,a.Lk)("p",s,[(0,a.Lk)("span",null,(0,a.v_)(o.name?e.$i18n.getWithVariables("info_children_of_%s",[o.name]):e.$i18n.get("label_root_terms")),1)]),(0,a.Lk)("p",c,[(0,a.Lk)("label",{style:(0,a.Tr)(o.children.length?"":"opacity: 0; visibility: hidden;"),class:"b-checkbox checkbox"},[(0,a.Lk)("input",{type:"checkbox",checked:n.selectedColumnIndex==r,value:r,onInput:function(e){return D.selectColumn(r)}},null,40,d),t[8]||(t[8]=(0,a.Lk)("span",{class:"check"},null,-1)),o.id?((0,a.uX)(),(0,a.CE)("span",m,(0,a.v_)(X.termColumns.length<=2?e.$i18n.get("label_select_child_terms_long"):e.$i18n.get("label_select_child_terms_short"))+" ("+(0,a.v_)(X.totalRemaining[r].remaining)+") ",1)):((0,a.uX)(),(0,a.CE)("span",u,(0,a.v_)(X.termColumns.length<=2?e.$i18n.get("label_select_root_terms_long"):e.$i18n.get("label_select_root_terms_short"))+" ("+(0,a.v_)(X.totalRemaining[r].remaining)+") ",1))],4),(0,a.Lk)("a",{style:(0,a.Tr)(o.children.length?"":"opacity: 0; visibility: hidden;"),class:"add-link",role:"button",tabindex:"0",onClick:function(e){return D.onAddNewChildTerm(o.id)},onKeydown:[(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(o.id)}),["prevent"]),["enter"]),(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(o.id)}),["prevent"]),["space"])]},[t[9]||(t[9]=(0,a.Lk)("span",{class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("label_new_term")),1)],44,h),(0,a.Lk)("a",{style:(0,a.Tr)(o.children.length?"position: relative;":"opacity: 0; visibility: hidden;"),class:"add-link",role:"button",tabindex:"0",onClick:function(e){return D.multipleInsertion({parentId:o.id,parentName:o.name})},onKeydown:[(0,a.jR)((0,a.D$)((function(e){return D.multipleInsertion({parentId:o.id,parentName:o.name})}),["prevent"]),["enter"]),(0,a.jR)((0,a.D$)((function(e){return D.multipleInsertion({parentId:o.id,parentName:o.name})}),["prevent"]),["space"])]},[t[10]||(t[10]=(0,a.Lk)("span",{style:{position:"absolute","margin-left":"-5px","margin-top":"5px"},class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),t[11]||(t[11]=(0,a.Lk)("span",{style:{"margin-top":"-5px"},class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,a.eW)(" "+(0,a.v_)(X.termColumns.length<=1?e.$i18n.get("label_multiple_terms"):e.$i18n.get("label_multiple")),1)],44,f)])])),o.children.length?((0,a.uX)(),(0,a.CE)("ul",p,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.children,(function(o,l){return(0,a.uX)(),(0,a.Wv)(U,{id:"".concat(r,".").concat(l,"-tainacan-li-checkbox-model"),ref_for:!0,ref:"".concat(r,".").concat(l,"-tainacan-li-checkbox-model"),key:o.id,addons:!1,class:(0,a.C4)(["tainacan-li-checkbox",{"tainacan-li-checkbox--parent-active":X.termColumns[r+1]&&X.termColumns[r+1].id==o.id}])},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",b,[(0,a.Lk)("input",{checked:n.selectedColumnIndex>=0?n.selectedColumnIndex==r:D.isTermSelected(o.id),disabled:n.selectedColumnIndex>=0,value:o.id,type:"checkbox",onInput:function(e){return D.updateSelectedTerms(o)}},null,40,g),t[15]||(t[15]=(0,a.Lk)("span",{class:"check"},null,-1)),(0,a.Lk)("span",v,[!n.isHierarchical||n.isHierarchical&&!n.searchString.length?((0,a.uX)(),(0,a.CE)("span",y,(0,a.v_)(o.name),1)):((0,a.uX)(),(0,a.CE)("span",{key:1,class:"checkbox-name-text",innerHTML:D.renderTermHierarchyLabel(o)},null,8,x))]),(0,a.Lk)("div",k,[n.currentUserCanEditTaxonomy?((0,a.uX)(),(0,a.CE)("button",{key:0,type:"button",onClick:(0,a.D$)((function(){D.onEditTerm(o),D.removeLevelsAfterTerm(o)}),["prevent"])},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",w,i(t[12]||(t[12]=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[R,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"bottom"}]])],8,_)):(0,a.Q3)("",!0),n.currentUserCanEditTaxonomy?((0,a.uX)(),(0,a.CE)("button",{key:1,type:"button",onClick:(0,a.D$)((function(e){return D.removeTerm(o)}),["prevent"])},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",C,i(t[13]||(t[13]=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-125em tainacan-icon-delete"},null,-1)])))),[[R,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"bottom"}]])],8,T)):(0,a.Q3)("",!0),(0,a.Lk)("a",{target:"_blank",href:o.url},[(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",$,i(t[14]||(t[14]=[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-125em tainacan-icon-openurl"},null,-1)])))),[[R,{content:e.$i18n.get("label_term_page_on_website"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"bottom"}]])],8,S)])]),n.isHierarchical&&!n.searchString.length?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"load-children-button",type:"button",onClick:function(e){return D.fetchTerms(o,r)}},[t[16]||(t[16]=(0,a.Lk)("span",{style:{"margin-right":"0.25rem",opacity:"1.0"},class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-nextlevel"})],-1)),X.termColumns.length<=1?((0,a.uX)(),(0,a.CE)("span",I,(0,a.v_)(o.total_children+" "+e.$i18n.get("label_children_terms")),1)):(0,a.bo)(((0,a.uX)(),(0,a.CE)("span",E,[(0,a.eW)((0,a.v_)(o.total_children),1)])),[[R,{content:o.total_children+" "+e.$i18n.get("label_children_terms"),autoHide:!1,popperClass:["tainacan-tooltip","tooltip"]}]])],8,L)):(0,a.Q3)("",!0)]})),_:2},1032,["id","class"])})),128)),o.children.length?((0,a.uX)(),(0,a.CE)("li",A,[D.shouldShowMoreButton(r)?((0,a.uX)(),(0,a.CE)("button",{key:0,class:"tainacan-show-more",onClick:function(e){return D.fetchMoreTerms(o,r)}},i(t[17]||(t[17]=[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-showmore"})],-1)])),8,P)):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])):((0,a.uX)(),(0,a.CE)("div",O,[t[21]||(t[21]=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon is-medium"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-terms"})])],-1)),(0,a.Lk)("p",null,(0,a.v_)(o.name?e.$i18n.getWithVariables("info_no_child_term_of_%s_found",[o.name]):e.$i18n.get("info_no_terms_found")),1),(0,a.Lk)("p",null,[(0,a.Lk)("a",{class:"add-link",role:"button",tabindex:"0",onClick:function(e){return D.onAddNewChildTerm(o.id)},onKeydown:[(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(o.id)}),["prevent"]),["enter"]),(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(o.id)}),["prevent"]),["space"])]},[t[18]||(t[18]=(0,a.Lk)("span",{class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("label_new_term")),1)],40,F)]),(0,a.Lk)("p",null,[(0,a.Lk)("a",{class:"add-link",style:{position:"relative"},onClick:function(e){return D.multipleInsertion({parentId:o.id,parentName:o.name})}},[t[19]||(t[19]=(0,a.Lk)("span",{style:{position:"absolute","margin-left":"-5px","margin-top":"5px"},class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),t[20]||(t[20]=(0,a.Lk)("span",{style:{"margin-top":"-5px"},class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("label_multiple_terms_insertion")),1)],8,j)])]))])})),128))]})),_:1},512),(X.termColumns instanceof Array?X.termColumns.length<=0:!X.termColumns)&&!X.isColumnLoading?((0,a.uX)(),(0,a.CE)("section",N,[(0,a.Lk)("div",H,[t[23]||(t[23]=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon is-medium"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-terms"})])],-1)),(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_no_terms_found")),1),(0,a.Lk)("p",null,[(0,a.Lk)("a",{class:"add-link",role:"button",tabindex:"0",onClick:t[2]||(t[2]=function(e){return D.onAddNewChildTerm(0)}),onKeydown:[t[3]||(t[3]=(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(0)}),["prevent"]),["enter"])),t[4]||(t[4]=(0,a.jR)((0,a.D$)((function(e){return D.onAddNewChildTerm(0)}),["prevent"]),["space"]))]},[t[22]||(t[22]=(0,a.Lk)("span",{class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,a.eW)(" "+(0,a.v_)(e.$i18n.get("label_new_term")),1)],32)])])])):(0,a.Q3)("",!0),(0,a.bF)(z,{modelValue:X.isEditingTerm,"onUpdate:modelValue":t[7]||(t[7]=function(e){return X.isEditingTerm=e}),width:768,"trap-focus":"","aria-role":"dialog","aria-modal":"","can-cancel":["outside","escape"],"custom-class":"tainacan-modal","close-button-aria-label":e.$i18n.get("close")},{default:(0,a.k6)((function(){return[(0,a.bF)(M,{"is-hierarchical":n.isHierarchical,"taxonomy-id":n.taxonomyId,"is-modal":!0,"original-form":X.editTerm,onOnEditionFinished:t[5]||(t[5]=function(e){return D.onTermEditionFinished(e.term,e.hasChangedParent,e.initialParent)}),onClose:t[6]||(t[6]=function(e){return X.isEditingTerm=!1})},null,8,["is-hierarchical","taxonomy-id","original-form"])]})),_:1},8,["modelValue","close-button-aria-label"])])}},76515:(e,t,n)=>{"use strict";n.d(t,{A:()=>a.A});var a=n(1622)},93186:(e,t,n)=>{"use strict";n.d(t,{X:()=>y});var a=n(6934),i={ref:"termMultipleInsertionDialog","aria-labelledby":"alert-dialog-title","aria-modal":"",autofocus:"",role:"alertdialog",class:"tainacan-form tainacan-dialog dialog tainacan-repository-level-colors"},o={class:"modal-card",style:{width:"auto"}},r={tabindex:"1",class:"modal-card-body"},l={class:"modal-card-head"},s={id:"alert-dialog-title",class:"modal-card-title"},c={class:"label",style:{"font-size":"1em"}},d={class:"separator-term-names"},m={class:"label is-inline"},u={key:0,class:"parent-term-options"},h={class:"media"},f={key:0,class:"media-left"},p=["src"],b={class:"media-content"},g={class:"form-submit"},v=["disabled"];function y(e,t,n,y,x,k){var _=(0,a.g2)("b-taginput"),w=(0,a.g2)("b-checkbox"),T=(0,a.g2)("b-field"),C=(0,a.g2)("b-radio"),S=(0,a.g2)("b-autocomplete");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.Lk)("div",o,[t[8]||(t[8]=(0,a.Lk)("div",{class:"modal-custom-icon"},[(0,a.Lk)("span",{class:"icon is-large"},[(0,a.Lk)("i",{style:{color:"var(--tainacan-blue5)"},class:"tainacan-icon tainacan-icon-taxonomies"})])],-1)),(0,a.Lk)("section",r,[(0,a.Lk)("header",l,[(0,a.Lk)("h1",s,(0,a.v_)(e.$i18n.get("label_multiple_terms_insertion")),1)]),(0,a.bF)(T,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",c,(0,a.v_)(e.$i18n.get("instruction_multiple_terms_insertion")),1),(0,a.bF)(_,{modelValue:x.termNames,"onUpdate:modelValue":t[0]||(t[0]=function(e){return x.termNames=e}),attached:"","confirm-keys":x.termNamesSeparator,"on-paste-separators":x.termNamesSeparator,"remove-on-keys":[],"aria-close-label":e.$i18n.get("remove_value"),class:(0,a.C4)(["tainacan-multiple-term-insertion--taginput",{"has-selected":null!=x.termNames&&x.termNames!=[]}]),placeholder:e.$i18n.get("term")+"1,"+e.$i18n.get("term")+"2,"+e.$i18n.get("term")+"3 ..."},null,8,["modelValue","confirm-keys","on-paste-separators","aria-close-label","class","placeholder"]),(0,a.Lk)("div",d,[(0,a.Lk)("label",m,(0,a.v_)(e.$i18n.get("label_separator"))+":",1),((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(["Enter",",",";","|"],(function(e){return(0,a.bF)(w,{key:e,modelValue:x.termNamesSeparator,"onUpdate:modelValue":t[1]||(t[1]=function(e){return x.termNamesSeparator=e}),name:"term-multiple-insertion-separator","native-value":e,disabled:"Enter"==e},{default:(0,a.k6)((function(){return[(0,a.Lk)("kbd",null,(0,a.v_)(e),1)]})),_:2},1032,["modelValue","native-value","disabled"])})),64))])]})),_:1}),n.isHierarchical?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.bF)(C,{modelValue:x.hasParent,"onUpdate:modelValue":t[2]||(t[2]=function(e){return x.hasParent=e}),"native-value":!1},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("label_no_parent_root_term")),1)]})),_:1},8,["modelValue"]),(0,a.bF)(C,{modelValue:x.hasParent,"onUpdate:modelValue":t[3]||(t[3]=function(e){return x.hasParent=e}),"native-value":!0},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("instruction_select_a_parent_term")),1)]})),_:1},8,["modelValue"]),x.hasParent?((0,a.uX)(),(0,a.Wv)(S,{key:0,id:"tainacan-add-parent-field",modelValue:x.parentTermName,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return x.parentTermName=e}),k.fetchParentTerms],placeholder:e.$i18n.get("instruction_parent_term"),data:x.parentTerms,field:"name",clearable:"",loading:x.isFetchingParentTerms,"check-infinite-scroll":"","append-to-body":!0,onSelect:t[5]||(t[5]=function(e){return k.onSelectParentTerm(e)}),onInfiniteScroll:k.fetchMoreParentTerms},{default:(0,a.k6)((function(e){return[(0,a.Lk)("div",h,[e.option.header_image_id?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("img",{width:"28",src:e.option.thumbnail&&e.option.thumbnail.thumbnail&&e.option.thumbnail.thumbnail[0]?e.option.thumbnail.thumbnail[0]:e.option.header_image},null,8,p)])):(0,a.Q3)("",!0),(0,a.Lk)("div",b,(0,a.v_)(e.option.name),1)])]})),empty:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.$i18n.get("info_no_parent_term_found")),1)]})),_:1},8,["modelValue","placeholder","data","loading","onUpdate:modelValue","onInfiniteScroll"])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])]),(0,a.Lk)("footer",g,[n.hideCancel?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("button",{key:0,class:"button is-outlined",type:"button",onClick:t[6]||(t[6]=function(t){return e.$emit("close")})},(0,a.v_)(e.$i18n.get("cancel")),1)),(0,a.Lk)("button",{type:"submit",class:"button is-success",disabled:!!x.hasParent&&!x.selectedParentTerm,onClick:t[7]||(t[7]=function(t){n.onConfirm({parent:x.hasParent?x.selectedParentTerm:0,termNames:x.termNames}),e.$emit("close")})},(0,a.v_)(e.$i18n.get("continue")),9,v)])],512)}},94063:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(24164),i=n(39020);n(26945);const o=(0,n(66262).A)(i.A,[["render",a.X],["__scopeId","data-v-294282d0"]])},94395:(e,t,n)=>{"use strict";n.d(t,{X:()=>L});var a=n(6934),i={class:"page-container tainacan-repository-level-colors"},o={class:"is-italic has-text-weight-semibold"},r={key:1,class:"tainacan-form","label-width":"120px"},l={class:"columns"},s={class:"column is-3"},c=["innerHTML"],d=["disabled"],m={class:"icon has-text-dark"},u={class:"icon has-text-dark"},h={key:0,class:"is-small",style:{"margin-left":"2px"}},f={class:"label is-inline"},p={class:"label is-inline"},b={class:"two-columns-fields"},g={class:"column is-9"},v=["innerHTML"],y={class:"footer field is-grouped form-submit"},x={key:0,class:"control"},k={key:1,style:{"margin-right":"auto"},class:"control"},_={style:{margin:"0 12px"},class:"help is-danger"},w={key:2,class:"updated-at"},T={class:"control"},C={key:2},S={class:"section"},$={class:"content has-text-dark has-text-centered"};function L(e,t,n,L,I,E){var A=(0,a.g2)("tainacan-external-link"),P=(0,a.g2)("tainacan-title"),O=(0,a.g2)("help-button"),F=(0,a.g2)("b-input"),j=(0,a.g2)("b-field"),N=(0,a.g2)("b-dropdown-item"),H=(0,a.g2)("b-dropdown"),X=(0,a.g2)("b-switch"),D=(0,a.g2)("b-checkbox"),V=(0,a.g2)("terms-list"),U=(0,a.g2)("b-loading"),M=(0,a.gN)("a11y-dropdown");return(0,a.uX)(),(0,a.CE)("div",i,[I.taxonomy&&I.taxonomy.slug?((0,a.uX)(),(0,a.Wv)(A,{key:0,"link-label":e.$i18n.get("label_taxonomy_page_on_website"),"link-url":I.themeTaxonomiesURL+I.taxonomy.slug},null,8,["link-label","link-url"])):(0,a.Q3)("",!0),(0,a.bF)(P,{"is-sticky":!0},{default:(0,a.k6)((function(){return[(0,a.Lk)("h1",null,["TaxonomyCreationForm"==e.$route.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,a.v_)(e.$i18n.get("title_create_taxonomy_page")),1)],64)):"TaxonomyEditionForm"==e.$route.name?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,a.v_)(e.$i18n.get("title_taxonomy_edit_page"))+" ",1),(0,a.Lk)("span",o,(0,a.v_)(I.taxonomy?I.taxonomy.name:""),1)],64)):(0,a.Q3)("",!0)])]})),_:1}),null!=I.taxonomy&&null!=I.taxonomy&&("TaxonomyCreationForm"==e.$route.name&&e.$userCaps.hasCapability("tnc_rep_edit_taxonomies")||"TaxonomyEditionForm"==e.$route.name&&I.taxonomy.current_user_can_edit)?((0,a.uX)(),(0,a.CE)("form",r,[(0,a.Lk)("div",l,[(0,a.Lk)("div",s,[(0,a.bF)(j,{addons:!1,label:e.$i18n.get("label_name"),type:null!=I.editFormErrors.name?"is-danger":"",message:I.isUpdatingSlug?e.$i18n.get("info_validating_slug"):null!=I.editFormErrors.name?I.editFormErrors.name:""},{default:(0,a.k6)((function(){return[t[15]||(t[15]=(0,a.Lk)("span",{class:"required-metadatum-asterisk"},"*",-1)),(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","name"),message:e.$i18n.getHelperMessage("taxonomies","name"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"]),(0,a.bF)(F,{id:"tainacan-text-name",modelValue:I.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return I.form.name=e}),disabled:I.isUpdatingSlug,loading:I.isUpdatingSlug,onFocus:t[1]||(t[1]=function(e){return E.clearErrors("name")}),onBlur:t[2]||(t[2]=function(e){return E.updateSlug()})},null,8,["modelValue","disabled","loading"])]})),_:1},8,["label","type","message"]),e.hasBeginLeftForm?((0,a.uX)(),(0,a.CE)("form",{key:0,id:"form-taxonomy-begin-left",class:"form-hook-region",innerHTML:e.getBeginLeftForm},null,8,c)):(0,a.Q3)("",!0),(0,a.bF)(j,{addons:!1,label:e.$i18n.get("label_description"),type:null!=I.editFormErrors.description?"is-danger":"",message:null!=I.editFormErrors.description?I.editFormErrors.description:""},{default:(0,a.k6)((function(){return[(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","description"),message:e.$i18n.getHelperMessage("taxonomies","description"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"]),(0,a.bF)(F,{id:"tainacan-text-description",modelValue:I.form.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return I.form.description=e}),type:"textarea",rows:"3",onFocus:t[4]||(t[4]=function(e){return E.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["label","type","message"]),(0,a.bF)(j,{addons:!1,label:e.$i18n.get("label_slug"),type:null!=I.editFormErrors.slug?"is-danger":"",message:null!=I.editFormErrors.slug?I.editFormErrors.slug:""},{default:(0,a.k6)((function(){return[(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","slug"),message:e.$i18n.getHelperMessage("taxonomies","slug"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"]),(0,a.bF)(F,{id:"tainacan-text-slug",modelValue:I.form.slug,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return I.form.slug=e}),t[6]||(t[6]=function(e){return E.updateSlug()})],disabled:I.isUpdatingSlug,onFocus:t[7]||(t[7]=function(e){return E.clearErrors("slug")})},null,8,["modelValue","disabled"])]})),_:1},8,["label","type","message"]),(0,a.bF)(j,{addons:!1,label:e.$i18n.get("label_status"),type:null!=I.editFormErrors.status?"is-danger":"",message:null!=I.editFormErrors.status?I.editFormErrors.status:""},{default:(0,a.k6)((function(){return[(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","status"),message:e.$i18n.getHelperMessage("taxonomies","status")},null,8,["title","message"]),(0,a.bo)(((0,a.uX)(),(0,a.Wv)(H,{ref:"item-edition-status-dropdown","trigger-tabindex":-1,class:"item-edition-status-dropdown",triggers:["click"],disabled:I.editFormErrors.status&&("publish"==I.form.status||"private"==I.form.status||"pending"==I.form.status),"max-height":"300px"},{trigger:(0,a.k6)((function(){return[(0,a.Lk)("button",{disabled:I.editFormErrors.status&&("publish"==I.form.status||"private"==I.form.status||"pending"==I.form.status),type:"button",class:(0,a.C4)(["button is-outlined",{disabled:I.editFormErrors.status&&("publish"==I.form.status||"private"==I.form.status||"pending"==I.form.status)}]),style:{width:"auto"}},[(0,a.Lk)("span",m,[(0,a.Lk)("i",{class:(0,a.C4)(["tainacan-icon tainacan-icon-18px",e.$statusHelper.getIcon(I.form.status)])},null,2)]),"auto-draft"!==I.form.status&&e.$statusHelper.getStatuses().find((function(e){return e.slug==I.form.status}))?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.eW)((0,a.v_)(e.$statusHelper.getStatuses().find((function(e){return e.slug==I.form.status})).name),1)],64)):"auto-draft"===I.form.status?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.eW)((0,a.v_)(e.$i18n.get("status_auto-draft")),1)],64)):(0,a.Q3)("",!0),t[16]||(t[16]=(0,a.Lk)("span",{style:{"margin-left":"0.5em"},class:"icon is-small"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],10,d)]})),default:(0,a.k6)((function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.$statusHelper.getStatuses().filter((function(e){return"draft"!=e.slug&&("auto-draft"!=I.taxonomy.status||"trash"!=e.slug)})),(function(n,i){return(0,a.uX)(),(0,a.Wv)(N,{key:i,onClick:function(e){return I.form.status=n.slug}},{default:(0,a.k6)((function(){return[(0,a.Lk)("span",u,[(0,a.Lk)("i",{class:(0,a.C4)(["tainacan-icon tainacan-icon-18px",e.$statusHelper.getIcon(n.slug)])},null,2)]),(0,a.eW)(" "+(0,a.v_)(n.name)+" ",1),t[17]||(t[17]=(0,a.Lk)("br",null,null,-1)),e.$statusHelper.hasDescription(n.slug)?((0,a.uX)(),(0,a.CE)("small",h,(0,a.v_)(e.$statusHelper.getDescription(n.slug)),1)):(0,a.Q3)("",!0)]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["disabled"])),[[M]])]})),_:1},8,["label","type","message"]),(0,a.bF)(j,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",f,[(0,a.eW)((0,a.v_)(e.$i18n.get("label_taxonomy_allow_new_terms"))+" ",1),(0,a.bF)(X,{id:"tainacan-checkbox-allow-insert",modelValue:I.form.allowInsert,"onUpdate:modelValue":t[8]||(t[8]=function(e){return I.form.allowInsert=e}),size:"is-small","true-value":"yes","false-value":"no"},null,8,["modelValue"]),(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","allow_insert"),message:e.$i18n.getHelperMessage("taxonomies","allow_insert"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"])])]})),_:1}),(0,a.bF)(j,{addons:!1},{default:(0,a.k6)((function(){return[(0,a.Lk)("label",p,[(0,a.eW)((0,a.v_)(e.$i18n.getHelperTitle("taxonomies","hierarchical"))+" ",1),(0,a.bF)(X,{id:"tainacan-checkbox-allow-insert",modelValue:I.form.hierarchical,"onUpdate:modelValue":t[9]||(t[9]=function(e){return I.form.hierarchical=e}),size:"is-small","true-value":"yes","false-value":"no"},null,8,["modelValue"]),(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","hierarchical"),message:e.$i18n.getHelperMessage("taxonomies","hierarchical"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"])])]})),_:1}),(0,a.bF)(j,{addons:!1,label:e.$i18n.getHelperTitle("taxonomies","enabled_post_types"),type:null!=I.editFormErrors.enabled_post_types?"is-danger":"",message:null!=I.editFormErrors.enabled_post_types?I.editFormErrors.enabled_post_types:""},{default:(0,a.k6)((function(){return[(0,a.bF)(O,{title:e.$i18n.getHelperTitle("taxonomies","enabled_post_types"),message:e.$i18n.getHelperMessage("taxonomies","enabled_post_types"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"]),(0,a.Lk)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(I.wpPostTypes,(function(e){return(0,a.uX)(),(0,a.CE)("div",{key:e.slug,class:"field"},[(0,a.bF)(D,{modelValue:I.form.enabledPostTypes,"onUpdate:modelValue":t[10]||(t[10]=function(e){return I.form.enabledPostTypes=e}),"native-value":e.slug,"true-value":e.slug,"false-value":"",name:"enabled_post_types"},{default:(0,a.k6)((function(){return[(0,a.eW)((0,a.v_)(e.label),1)]})),_:2},1032,["modelValue","native-value","true-value"])])})),128))])]})),_:1},8,["label","type","message"])]),(0,a.Lk)("div",g,[(0,a.bF)(j,{addons:!1,label:e.$i18n.get("terms")},{default:(0,a.k6)((function(){return[(0,a.bF)(O,{title:e.$i18n.get("terms"),message:e.$i18n.get("info_taxonomy_terms_list"),"extra-classes":"tainacan-repository-tooltip"},null,8,["title","message"]),((0,a.uX)(),(0,a.Wv)(V,{key:I.shouldReloadTermsList?"termslistreloaded":"termslist","is-hierarchical":"no"!==I.form.hierarchical,"taxonomy-id":I.taxonomyId,"current-user-can-edit-taxonomy":!!I.taxonomy&&I.taxonomy.current_user_can_edit},null,8,["is-hierarchical","taxonomy-id","current-user-can-edit-taxonomy"]))]})),_:1},8,["label"]),e.hasEndLeftForm?((0,a.uX)(),(0,a.CE)("form",{key:0,id:"form-taxonomy-end-left",class:"form-hook-region",innerHTML:e.getEndLeftForm},null,8,v)):(0,a.Q3)("",!0)])]),(0,a.Lk)("footer",y,[e.$route.query.recent?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("button",{id:"button-another-taxonomy-creation",class:"button is-secondary",onClick:t[11]||(t[11]=(0,a.D$)((function(e){return E.goToCreateAnotherTaxonomy()}),["prevent"]))},(0,a.v_)(e.$i18n.get("label_create_another_taxonomy")),1)])):(0,a.Q3)("",!0),e.$route.query.recent?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",k,[(0,a.Lk)("button",{id:"button-cancel-taxonomy-creation",class:"button is-outlined",type:"button",onClick:t[12]||(t[12]=function(){return E.cancelBack&&E.cancelBack.apply(E,arguments)})},(0,a.v_)(e.$i18n.get("cancel")),1)])),(0,a.Lk)("p",_,(0,a.v_)(I.formErrorMessage),1),null!=I.updatedAt?((0,a.uX)(),(0,a.CE)("p",w,(0,a.v_)(e.$i18n.get("info_updated_at")+" "+I.updatedAt),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",T,[(0,a.Lk)("button",{id:"button-submit-taxonomy-creation",class:(0,a.C4)([{"is-loading":I.isLoadingTaxonomy,"is-success":!I.isLoadingTaxonomy},"button"]),onClick:t[13]||(t[13]=(0,a.D$)((function(){return E.onSubmit&&E.onSubmit.apply(E,arguments)}),["prevent"]))},(0,a.v_)(e.$i18n.get("save")),3)])])])):(0,a.Q3)("",!0),!I.isLoadingTaxonomy&&("TaxonomyCreationForm"==e.$route.name&&!e.$userCaps.hasCapability("tnc_rep_edit_taxonomies")||"TaxonomyEditionForm"==e.$route.name&&I.taxonomy&&null!=I.taxonomy.current_user_can_edit&&!I.taxonomy.current_user_can_edit)?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.Lk)("section",S,[(0,a.Lk)("div",$,[t[18]||(t[18]=(0,a.Lk)("p",null,[(0,a.Lk)("span",{class:"icon"},[(0,a.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-taxonomies"})])],-1)),(0,a.Lk)("p",null,(0,a.v_)(e.$i18n.get("info_can_not_edit_taxonomy")),1)])])])):(0,a.Q3)("",!0),(0,a.bF)(U,{modelValue:I.isLoadingTaxonomy,"onUpdate:modelValue":t[14]||(t[14]=function(e){return I.isLoadingTaxonomy=e}),"can-cancel":!1},null,8,["modelValue"])])}},96116:(e,t,n)=>{"use strict";n(761)}}]);