"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[7621],{8331:(a,t,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),b=e(10540),p=e.n(b),u=e(63494),m=e.n(u),h=e(66918),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p();n()(h.A,f),h.A&&h.A.locals&&h.A.locals},8887:(a,t,e)=>{e.d(t,{X:()=>u});var i=e(6934),n={class:"sub-header tainacan-sub-header--sticky"},r={class:"control has-icons-right is-small is-clearfix"},o={key:1,class:"section"},l={class:"content has-text-dark has-text-centered"},c={key:2},s={class:"section"},d={class:"content has-text-dark has-text-centered"},b={key:3,class:"pagination-area"},p={class:"shown-items"};function u(a,t,e,u,m,h){var f=(0,i.g2)("tainacan-title"),g=(0,i.g2)("b-autocomplete"),v=(0,i.g2)("b-field"),y=(0,i.g2)("b-loading"),w=(0,i.g2)("capabilities-list");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"tainacan-repository-level-colors":m.isRepositoryLevel,"page-container":m.isRepositoryLevel})},[(0,i.bF)(f,{"is-sticky":!0}),(0,i.Lk)("div",n,[(0,i.bF)(v,{style:{"margin-left":"0","margin-right":"auto"},class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",r,[(0,i.bF)(g,{modelValue:m.filteredRole,"onUpdate:modelValue":t[0]||(t[0]=function(a){return m.filteredRole=a}),clearable:"",data:h.filteredRoles,placeholder:a.$i18n.get("instruction_type_search_roles_filter"),"keep-first":"","open-on-focus":"",loading:m.isFetchingRoles,field:"name",icon:"magnify"},null,8,["modelValue","data","placeholder","loading"])])]})),_:1})]),(0,i.Lk)("div",null,[(0,i.bF)(y,{modelValue:m.isLoading,"onUpdate:modelValue":t[1]||(t[1]=function(a){return m.isLoading=a}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"]),m.isRepositoryLevel&&a.$userCaps.hasCapability("tnc_rep_edit_users")||!m.isRepositoryLevel&&a.collection&&a.collection.current_user_can_edit_users?((0,i.uX)(),(0,i.Wv)(w,{key:0,"is-loading":m.isLoading||m.isFetchingRoles,capabilities:h.capabilities},null,8,["is-loading","capabilities"])):m.isRepositoryLevel&&!a.$userCaps.hasCapability("tnc_rep_edit_users")||!m.isRepositoryLevel&&a.collection&&!a.collection.current_user_can_edit_users?((0,i.uX)(),(0,i.CE)("section",o,[(0,i.Lk)("div",l,[t[2]||(t[2]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-user"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(a.$i18n.get("info_can_not_edit_capabilities")),1)])])):(0,i.Q3)("",!0),h.capabilities.length<=0&&!m.isLoading&&a.$userCaps.hasCapability("tnc_rep_edit_users")?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("section",s,[(0,i.Lk)("div",d,[t[3]||(t[3]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-medium"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-user"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(a.$i18n.get("info_no_capabilities_found")),1)])])])):(0,i.Q3)("",!0),h.capabilities.length>0?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",p,(0,i.v_)(a.$i18n.get("info_showing_capabilities")+(a.capabilitiesPerPage*(a.page-1)+1)+a.$i18n.get("info_to")+h.capabilities.length+a.$i18n.get("info_of")+a.total+"."),1)])):(0,i.Q3)("",!0)])],2)}},11336:(a,t,e)=>{e.d(t,{A:()=>i.A});var i=e(20867)},14027:(a,t,e)=>{e.d(t,{X:()=>x});var i=e(6934);function n(a){return function(a){if(Array.isArray(a))return r(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return r(a,t);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,i=Array(t);e<t;e++)i[e]=a[e];return i}var o={class:"table-container"},l={class:"table-wrapper"},c={class:"tainacan-table is-narrow"},s={class:"th-wrap"},d={class:"th-wrap"},b={class:"th-wrap"},p={key:0},u=["label","aria-label","onClick"],m=["label","aria-label","onClick"],h=["innerHTML"],f=["label","aria-label","onClick"],g=["innerHTML"],v=["label"],y={class:"actions-container"},w=["aria-label","onClick"],k={class:"icon"};function x(a,t,e,r,x,_){var L=(0,i.g2)("complete-roles-list"),C=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",l,[(0,i.Lk)("table",c,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,[(0,i.Lk)("div",s,(0,i.v_)(a.$i18n.get("label_name")),1)]),(0,i.Lk)("th",null,[(0,i.Lk)("div",d,(0,i.v_)(a.$i18n.get("label_description")),1)]),(0,i.Lk)("th",null,[(0,i.Lk)("div",b,(0,i.v_)(a.$i18n.get("label_user_roles")),1)]),t[0]||(t[0]=(0,i.Lk)("th",{class:"actions-header"}," Â  ",-1))])]),e.isLoading?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("tbody",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.capabilities,(function(e,r){return(0,i.uX)(),(0,i.CE)("tr",{key:r},[(0,i.Lk)("td",{class:"column-default-width column-main-content",label:a.$i18n.get("label_name"),"aria-label":a.$i18n.get("label_name")+": "+e.display_name,onClick:function(a){return _.openCapabilitiyEditModal(r)}},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("p",null,[(0,i.eW)((0,i.v_)(e.display_name),1)])),[[C,{delay:{show:500,hide:120},content:e.display_name,autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,u),(0,i.Lk)("td",{class:"table-creation column-large-width",label:a.$i18n.get("label_description"),"aria-label":a.$i18n.get("label_description")+": "+e.description,onClick:function(a){return _.openCapabilitiyEditModal(r)}},[(0,i.bo)((0,i.Lk)("p",{innerHTML:e.description},null,8,h),[[C,{delay:{show:500,hide:120},content:e.description,autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,m),e.roles?((0,i.uX)(),(0,i.Wv)(L,{key:0,"complete-roles-list":_.getCompleteRolesList(e.roles,e.roles_inherited)},{props:(0,i.k6)((function(){return[(0,i.Lk)("td",{class:"table-creation column-small-width",label:a.$i18n.get("label_associated_roles"),"aria-label":a.$i18n.get("label_associated_roles")+": "+a.props["complete-roles-list"],onClick:function(a){return _.openCapabilitiyEditModal(r)}},[(0,i.bo)((0,i.Lk)("p",{innerHTML:a.props["complete-roles-list"]},null,8,g),[[C,{delay:{show:500,hide:120},content:a.props["complete-roles-list"],autoHide:!1,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],8,f)]})),_:2},1032,["complete-roles-list"])):(0,i.Q3)("",!0),(0,i.Lk)("td",{class:"actions-cell column-default-width",label:a.$i18n.get("label_actions")},[(0,i.Lk)("div",y,[(0,i.Lk)("a",{id:"button-edit","aria-label":a.$i18n.get("edit"),onClick:function(a){return _.openCapabilitiyEditModal(r)}},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,n(t[1]||(t[1]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[C,{content:a.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto"}]])],8,w)])],8,v)])})),128))]))])])])}},20867:(a,t,e)=>{e.d(t,{A:()=>c});var i=e(40834);function n(a){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(a)}function r(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,i)}return e}function o(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){l(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}function l(a,t,e){return(t=function(a){var t=function(a,t){if("object"!=n(a)||!a)return a;var e=a[Symbol.toPrimitive];if(void 0!==e){var i=e.call(a,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==n(t)?t:t+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}const c={name:"CapabilityEditionModal",props:{capability:Object,capabilityKey:String},emits:["close"],data:function(){return{isLoading:!1}},computed:o({},(0,i.L8)("capability",{roles:"getRoles"})),created:function(){var a=this;this.isLoading=!0,this.fetchRoles().then((function(){a.isLoading=!1}))},methods:o(o({},(0,i.i0)("capability",["fetchRoles","addCapabilityToRole","removeCapabilityFromRole"])),{},{updateRole:function(a,t){t?this.addCapabilityToRole({capabilityKey:this.capabilityKey.replace("%d","all"),role:a}):this.removeCapabilityFromRole({capabilityKey:this.capabilityKey.replace("%d","all"),role:a})}})}},27621:(a,t,e)=>{e.r(t),e.d(t,{default:()=>r});var i=e(57506),n=e(80818);e(30236);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-d53e37d4"]])},30236:(a,t,e)=>{e(91899)},32975:(a,t,e)=>{e.d(t,{A:()=>b});var i=e(60356),n=e(40834);function r(a){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r(a)}function o(a,t){return function(a){if(Array.isArray(a))return a}(a)||function(a,t){var e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var i,n,r,o,l=[],c=!0,s=!1;try{if(r=(e=e.call(a)).next,0===t){if(Object(e)!==e)return;c=!1}else for(;!(c=(i=r.call(e)).done)&&(l.push(i.value),l.length!==t);c=!0);}catch(a){s=!0,n=a}finally{try{if(!c&&null!=e.return&&(o=e.return(),Object(o)!==o))return}finally{if(s)throw n}}return l}}(a,t)||function(a,t){if(a){if("string"==typeof a)return l(a,t);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(a,t):void 0}}(a,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,i=Array(t);e<t;e++)i[e]=a[e];return i}function c(a,t){var e=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),e.push.apply(e,i)}return e}function s(a){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?c(Object(e),!0).forEach((function(t){d(a,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(e)):c(Object(e)).forEach((function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(e,t))}))}return a}function d(a,t,e){return(t=function(a){var t=function(a,t){if("object"!=r(a)||!a)return a;var e=a[Symbol.toPrimitive];if(void 0!==e){var i=e.call(a,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(a)}(a,"string");return"symbol"==r(t)?t:t+""}(t))in a?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e,a}const b={name:"CapabilitiesPage",components:{CapabilitiesList:i.A},data:function(){return{isRepositoryLevel:!1,isLoading:!1,roles:[],isFetchingRoles:!1,filteredRole:""}},computed:s(s({},(0,n.L8)("collection",{collection:"getCollection"})),{},{capabilities:function(){var a=this.getCapabilities();if(a){if(this.filteredRole){for(var t={},e=0,i=Object.entries(a);e<i.length;e++){var n=o(i[e],2),r=n[0],l=n[1],c=l.roles&&!Array.isArray(l.roles)?Object.values(l.roles):[],s=l.roles_inherited&&!Array.isArray(l.roles_inherited)?Object.values(l.roles_inherited):[];c.map((function(a){return a.name})).concat(s.map((function(a){return a.name}))).toString().search(this.filteredRole)>=0&&(t[r]=l)}return 0===Object.keys(t).length?[]:t}return a}return[]},filteredRoles:function(){var a=this;return this.roles&&this.roles.length?this.roles.filter((function(t){return!!t&&t.name.toString().toLowerCase().indexOf(a.filteredRole.toLowerCase())>=0})):[]}}),mounted:function(){this.loadCapabilities(),this.fetchRolesForFiltering()},created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},methods:s(s(s({},(0,n.i0)("capability",["fetchCapabilities","fetchRoles"])),(0,n.L8)("capability",["getCapabilities"])),{},{loadCapabilities:function(){var a=this;this.isLoading=!0,this.fetchCapabilities({collectionId:this.$route.params.collectionId}).then((function(){a.isLoading=!1})).catch((function(){a.isLoading=!1}))},fetchRolesForFiltering:function(){var a=this;this.isFetchingRoles=!0,this.fetchRoles().then((function(t){a.roles=Object.values(t),a.isFetchingRoles=!1})).catch((function(t){a.$console.error(t),a.isFetchingRoles=!1}))}})}},34545:(a,t,e)=>{e.d(t,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([a.id,".capabilities-edit-form[data-v-5b346a6e]{min-height:120px;vertical-align:top;display:flex}.capabilities-edit-form>div[data-v-5b346a6e]{padding:24px}.capabilities-edit-form>div[data-v-5b346a6e]:first-of-type{flex-grow:3;flex-shrink:1}.capabilities-edit-form>div[data-v-5b346a6e]:last-of-type{background-color:var(--tainacan-yellow1);color:var(--tainacan-yellow1)}.capabilities-edit-form>div[data-v-5b346a6e]:last-of-type:has(.roles-list:empty){display:none}.capabilities-edit-form>div:last-of-type .label[data-v-5b346a6e],.capabilities-edit-form>div:last-of-type .control-label[data-v-5b346a6e],.capabilities-edit-form>div:last-of-type .check[data-v-5b346a6e]{color:var(--tainacan-yellow2)}.capabilities-edit-form .roles-list[data-v-5b346a6e]{height:100%;-moz-column-count:2;column-count:2;-moz-column-break-inside:avoid;break-inside:avoid}.capabilities-edit-form .roles-list label[data-v-5b346a6e]{margin-left:12px}.capabilities-edit-form .roles-list label[data-v-5b346a6e] .control-label{white-space:normal}@media screen and (max-width: 1024px){.capabilities-edit-form .roles-list[data-v-5b346a6e]{-moz-column-count:1;column-count:1}}@media screen and (max-width: 768px){.capabilities-edit-form[data-v-5b346a6e]{flex-wrap:wrap}}",""]);const l=o},41224:(a,t,e)=>{e.d(t,{A:()=>n});var i=e(45927);const n={name:"CapabilitiesList",components:{CompleteRolesList:{inheritAttrs:!1,render:function(){return this.$slots.default&&"function"==typeof this.$slots.default?this.$slots.default(this.$attrs):""}}},props:{isLoading:!1,capabilities:Object},methods:{openCapabilitiyEditModal:function(a){this.$buefy.modal.open({component:i.A,props:{capability:this.capabilities[a],capabilityKey:a},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},getCompleteRolesList:function(a,t){var e=a&&!Array.isArray(a)?Object.values(a):[],i=t&&!Array.isArray(t)?Object.values(t):[];if(e.length||i.length){for(var n=e.map((function(a){return a.name})).concat(i.map((function(a){return a.name}))),r="",o=0;o<n.length;o++)r+=n[o],n.length>2&&o<n.length-1?o<n.length-2?r+=", ":r+=" "+this.$i18n.get("label_and")+" ":2==n.length&&0==o&&(r+=" "+this.$i18n.get("label_and")+" ");return r}return"<span class=is-italic>"+this.$i18n.get("info_no_associated_role")+"</span>"}}}},41445:(a,t,e)=>{e(46556)},45927:(a,t,e)=>{e.d(t,{A:()=>r});var i=e(46909),n=e(11336);e(41445);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-5b346a6e"]])},46556:(a,t,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),b=e(10540),p=e.n(b),u=e(63494),m=e.n(u),h=e(34545),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p();n()(h.A,f),h.A&&h.A.locals&&h.A.locals},46909:(a,t,e)=>{e.d(t,{X:()=>i.X});var i=e(72190)},49304:(a,t,e)=>{e.d(t,{X:()=>i.X});var i=e(14027)},56031:(a,t,e)=>{e.d(t,{A:()=>i.A});var i=e(41224)},57506:(a,t,e)=>{e.d(t,{X:()=>i.X});var i=e(8887)},60356:(a,t,e)=>{e.d(t,{A:()=>r});var i=e(49304),n=e(56031);e(74682);const r=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-227961c8"]])},66918:(a,t,e)=>{e.d(t,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([a.id,'.table-container[data-v-227961c8]{overflow-x:hidden;padding:0 var(--tainacan-one-column);position:relative}.table-container .table-wrapper[data-v-227961c8]{width:100%;height:100%;border-collapse:separate;overflow-x:auto;overflow-y:hidden;margin-bottom:0px !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton.thumbnail-cell[data-v-227961c8]{max-height:52px;max-width:34px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:8px solid #fff !important;border-bottom:8px solid #fff !important;border-left:18px solid #fff !important;border-right:18px solid #fff !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton[data-v-227961c8]:not(.thumbnail-cell){max-height:52px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:18px solid #fff !important;border-bottom:18px solid #fff !important;border-left:8px solid #fff !important;border-right:8px solid #fff !important}.table-container .table-wrapper table.tainacan-table[data-v-227961c8]{animation-name:appear;animation-duration:.5s;width:100%;border-collapse:collapse;border-spacing:0;border-color:rgba(0,0,0,0)}.table-container .table-wrapper table.tainacan-table.is-narrow tbody td[data-v-227961c8]{height:44px}.table-container .table-wrapper table.tainacan-table .checkbox-cell[data-v-227961c8]{min-width:38px;width:38px;padding:0;left:0;top:auto;display:table-cell}.table-container .table-wrapper table.tainacan-table .checkbox-cell label.checkbox[data-v-227961c8],.table-container .table-wrapper table.tainacan-table .checkbox-cell label.radio[data-v-227961c8]{border-top-left-radius:var(--tainacan-item-border-radius, 0px);border-bottom-left-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);padding:0;width:100%;height:100%;display:flex;justify-content:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-checkbox.checkbox[data-v-227961c8] .control-label,.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-radio.radio[data-v-227961c8] .control-label{display:none}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-227961c8]{position:sticky !important;position:-webkit-sticky !important}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-227961c8]::before{visibility:visible !important}.table-container .table-wrapper table.tainacan-table .thumbnail-cell[data-v-227961c8]{width:60px;text-align:center}.table-container .table-wrapper table.tainacan-table .status-cell[data-v-227961c8]{width:2rem;padding-left:1px;padding-right:1px;text-align:center}.table-container .table-wrapper table.tainacan-table .column-small-width[data-v-227961c8]{min-width:80px;max-width:80px}.table-container .table-wrapper table.tainacan-table .column-small-width p[data-v-227961c8]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-default-width[data-v-227961c8]{min-width:80px;max-width:160px}.table-container .table-wrapper table.tainacan-table .column-default-width p[data-v-227961c8]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-medium-width[data-v-227961c8]{min-width:120px;max-width:200px}.table-container .table-wrapper table.tainacan-table .column-medium-width p[data-v-227961c8]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-large-width[data-v-227961c8]{min-width:120px;max-width:250px}.table-container .table-wrapper table.tainacan-table .column-large-width p[data-v-227961c8]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-main-content[data-v-227961c8]{min-width:120px !important;max-width:240px !important}.table-container .table-wrapper table.tainacan-table .column-main-content p[data-v-227961c8]{font-size:.875em !important;line-height:1.125em;color:var(--tainacan-input-color) !important;margin:0px !important}.table-container .table-wrapper table.tainacan-table .column-needed-width[data-v-227961c8]{max-width:unset !important}.table-container .table-wrapper table.tainacan-table .column-align-right[data-v-227961c8]{text-align:right !important}.table-container .table-wrapper table.tainacan-table th[data-v-227961c8]{background-color:var(--tainacan-background-color);border:0px solid rgba(0,0,0,0);border-bottom:1px solid var(--tainacan-input-border-color);top:0px;z-index:9;padding:10px;vertical-align:bottom;text-align:start}.table-container .table-wrapper table.tainacan-table th .th-wrap[data-v-227961c8]{font-size:.75em !important;color:var(--tainacan-info-color);font-weight:normal !important;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-227961c8]{cursor:pointer;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-227961c8]:not(:last-child){border-bottom:1px solid var(--tainacan-lists-separator-color, var(--tainacan-item-hover-background-color))}.table-container .table-wrapper table.tainacan-table tbody tr.selected-row[data-v-227961c8]{--tainacan-item-background-color: var(--tainacan-primary);--tainacan-item-heading-hover-background-color: var(--tainacan-turquoise2);--tainacan-item-heading-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 5%, transparent);--tainacan-item-hover-background-color: var(--tainacan-primary);--tainacan-item-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 20%, transparent)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8]{height:60px;max-height:60px;padding:10px;vertical-align:middle;line-height:.75em;border:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8]:first-child{border-top-left-radius:var(--tainacan-item-border-radius, 0px);border-bottom-left-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8]:last-child{border-top-right-radius:var(--tainacan-item-border-radius, 0px);border-bottom-right-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.thumbnail-cell .skeleton[data-v-227961c8]{height:38px;width:38px;border-radius:0;margin-top:-38px;margin-left:auto;margin-right:auto;position:relative;z-index:-1}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8]{font-size:.875em;margin:0px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group{display:inline-flex;align-items:center}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group>.multivalue-separator{display:inline-block;max-height:unset;margin:0 1.25em;height:2em;width:1px}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum{display:inline-flex;align-items:center;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header{display:inline-flex}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header .label{font-size:1.125em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum{display:inline-flex;align-items:baseline;margin-left:.75em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum .label{margin-top:0;margin-bottom:0;margin-right:.5em;font-size:.95em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-227961c8] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum p{font-size:1em}.table-container .table-wrapper table.tainacan-table tbody tr td a[data-v-227961c8]{text-decoration:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group{display:inline-block;font-size:1.125em;margin-top:-0.25em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100%}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group *{display:inline}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group .label{font-size:1em;color:var(--tainacan-info-color)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group .label:not(:first-child)::before{content:", ";font-size:1em;font-weight:normal;color:var(--tainacan-info-color);display:inline-block;margin-right:.35em;margin-left:-0.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group .label::after{content:": ";font-size:1em;color:var(--tainacan-info-color);display:inline-block;margin-right:.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-227961c8] .tainacan-compound-group p{font-size:1em !important;line-height:1.25em !important}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-227961c8],.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-227961c8]{max-height:38px !important;min-height:38px;max-width:38px;border-radius:var(--tainacan-item-border-radius, 0px);padding-bottom:0px !important;padding-left:0px !important;padding-right:0px !important;padding-top:0px !important;word-wrap:anywhere;word-break:break-all;font-size:.75em;box-sizing:border-box;width:38px;display:inline-block}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-227961c8] img,.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-227961c8] img{border-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell[data-v-227961c8]{padding:0px;position:sticky !important;position:-webkit-sticky !important;right:0px;top:auto;width:100px}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell .actions-container[data-v-227961c8]{border-top-right-radius:var(--tainacan-item-border-radius, 0px);border-bottom-right-radius:var(--tainacan-item-border-radius, 0px);display:flex;position:relative;padding:0;height:100%;width:100px;z-index:9;background-color:var(--tainacan-item-background-color);float:right;justify-content:center;align-items:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell a[data-v-227961c8]{margin:auto;font-size:1.125em !important}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-227961c8]:hover{background-color:var(--tainacan-item-hover-background-color) !important;cursor:pointer}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell[data-v-227961c8]{position:sticky !important;position:-webkit-sticky !important;background-color:var(--tainacan-item-heading-hover-background-color)}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .checkbox[data-v-227961c8]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .radio[data-v-227961c8]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell[data-v-227961c8]{transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell .actions-container[data-v-227961c8]{background:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table.hide-items-selection tr[data-v-227961c8]:hover{background-color:rgba(0,0,0,0) !important;cursor:default}.table-container[data-v-227961c8]{padding-bottom:var(--tainacan-container-padding)}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-227961c8]{cursor:default}',""]);const l=o},72190:(a,t,e)=>{e.d(t,{X:()=>k});var i=e(6934);function n(a){return function(a){if(Array.isArray(a))return r(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,t){if(a){if("string"==typeof a)return r(a,t);var e={}.toString.call(a).slice(8,-1);return"Object"===e&&a.constructor&&(e=a.constructor.name),"Map"===e||"Set"===e?Array.from(a):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(a,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,t){(null==t||t>a.length)&&(t=a.length);for(var e=0,i=Array(t);e<t;e++)i[e]=a[e];return i}var o={class:"tainacan-form tainacan-modal-content"},l={class:"tainacan-modal-title"},c={key:0},s={class:"has-text-bold"},d=["aria-label"],b={key:0,class:"capabilities-edit-form"},p={class:"label is-inline"},u={class:"roles-list"},m={key:1,class:"is-italic has-text-dark"},h={class:"label is-inline"},f={class:"roles-list"},g={key:1,class:"is-italic has-text-dark"},v={key:1},y={class:"field is-grouped form-submit"},w={class:"control"};function k(a,t,e,r,k,x){var _=(0,i.g2)("b-checkbox"),L=(0,i.g2)("b-field"),C=(0,i.g2)("help-button"),A=(0,i.g2)("b-loading");return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("header",l,[null!=e.capability.display_name?((0,i.uX)(),(0,i.CE)("h2",c,[(0,i.eW)((0,i.v_)(a.$i18n.get("label_editing_capability")+" ")+" ",1),(0,i.Lk)("span",s,(0,i.v_)(e.capability.display_name),1)])):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"button is-medium is-white is-align-self-flex-start","aria-label":a.$i18n.get("close"),onClick:t[0]||(t[0]=function(t){return a.$emit("close")})},n(t[3]||(t[3]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,d)]),k.isLoading?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(A,{modelValue:k.isLoading,"onUpdate:modelValue":t[1]||(t[1]=function(a){return k.isLoading=a}),"is-full-page":!1},null,8,["modelValue"])])):((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",null,[a.roles&&Object.values(a.roles).length&&e.capability.roles?((0,i.uX)(),(0,i.Wv)(L,{key:0,addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",p,(0,i.v_)(a.$i18n.get("label_associated_roles")),1),(0,i.Lk)("p",null,(0,i.v_)(a.$i18n.get("info_associated_roles")),1),t[4]||(t[4]=(0,i.Lk)("br",null,null,-1)),(0,i.Lk)("div",u,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.roles,(function(a,t){return(0,i.uX)(),(0,i.CE)(i.FK,{key:t},[e.capability.roles_inherited[a.slug]?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(_,{key:0,"model-value":!(!e.capability.roles[a.slug]&&!e.capability.roles_inherited[a.slug]),name:"roles","onUpdate:modelValue":function(t){return x.updateRole(a.slug,t)}},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(a.name),1)]})),_:2},1032,["model-value","onUpdate:modelValue"]))],64)})),128))])]})),_:1})):((0,i.uX)(),(0,i.CE)("p",m,(0,i.v_)(a.$i18n.get("info_no_role_associated_capability")),1))]),(0,i.Lk)("div",null,[a.roles&&Object.values(a.roles).length&&e.capability.roles?((0,i.uX)(),(0,i.Wv)(L,{key:0,addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",h,[t[5]||(t[5]=(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-alertcircle"},null,-1)),(0,i.eW)(" "+(0,i.v_)(a.$i18n.get("label_inherited_roles"))+" ",1),(0,i.bF)(C,{title:a.$i18n.get("label_inherited_roles"),message:a.$i18n.get("info_inherited_roles"),"extra-classes":"is-warning","forced-icon-color":"yellow2"},null,8,["title","message"])]),t[6]||(t[6]=(0,i.Lk)("br",null,null,-1)),(0,i.Lk)("div",f,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.roles,(function(a,t){return(0,i.uX)(),(0,i.CE)(i.FK,{key:t},[e.capability.roles_inherited[a.slug]?((0,i.uX)(),(0,i.Wv)(_,{key:0,class:"has-text-warning","model-value":!(!e.capability.roles[a.slug]&&!e.capability.roles_inherited[a.slug]),name:"roles_inherited",disabled:""},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(a.name),1)]})),_:2},1032,["model-value"])):(0,i.Q3)("",!0)],64)})),128))])]})),_:1})):((0,i.uX)(),(0,i.CE)("p",g,(0,i.v_)(a.$i18n.get("info_no_role_associated_capability")),1))])])),(0,i.Lk)("div",y,[(0,i.Lk)("div",w,[(0,i.Lk)("button",{id:"button-cancel-importer-edition",class:"button is-outlined",type:"button",onClick:t[2]||(t[2]=function(t){return a.$emit("close")})},(0,i.v_)(a.$i18n.get("exit")),1)])])])}},74682:(a,t,e)=>{e(8331)},80818:(a,t,e)=>{e.d(t,{A:()=>i.A});var i=e(32975)},90888:(a,t,e)=>{e.d(t,{A:()=>l});var i=e(31601),n=e.n(i),r=e(76314),o=e.n(r)()(n());o.push([a.id,".sub-header .header-item[data-v-d53e37d4]{margin-bottom:0 !important;min-height:1.875em}.sub-header .header-item[data-v-d53e37d4]:first-child{margin-right:auto}.sub-header .header-item[data-v-d53e37d4]:not(:last-child){padding-right:.5em}.sub-header .header-item .label[data-v-d53e37d4]{font-size:.875em;font-weight:normal;margin-top:3px;margin-bottom:2px;cursor:default}.sub-header .header-item:not(:first-child) .button[data-v-d53e37d4]{display:flex;align-items:center;border-radius:0 !important;height:1.95em !important}.sub-header .header-item .field[data-v-d53e37d4]{align-items:center}.sub-header .header-item .gray-icon[data-v-d53e37d4],.sub-header .header-item .gray-icon .icon[data-v-d53e37d4]{color:var(--tainacan-info-color) !important;padding-right:10px;height:1.125em !important}.sub-header .header-item .gray-icon .icon i[data-v-d53e37d4]::before,.sub-header .header-item .gray-icon i[data-v-d53e37d4]::before{max-width:1.25em}.sub-header .header-item .icon[data-v-d53e37d4]{pointer-events:all;cursor:pointer;color:var(--tainacan-blue5);height:27px;font-size:1.125em !important;height:1.75em}@media screen and (max-width: 768px){.sub-header .header-item[data-v-d53e37d4]:not(:last-child){padding-right:.2em}}.above-subheader[data-v-d53e37d4]{margin-bottom:0;margin-top:0;height:auto}",""]);const l=o},91899:(a,t,e)=>{var i=e(85072),n=e.n(i),r=e(97825),o=e.n(r),l=e(77659),c=e.n(l),s=e(55056),d=e.n(s),b=e(10540),p=e.n(b),u=e(63494),m=e.n(u),h=e(90888),f={};f.styleTagTransform=m(),f.setAttributes=d(),f.insert=c().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p();n()(h.A,f),h.A&&h.A.locals&&h.A.locals}}]);