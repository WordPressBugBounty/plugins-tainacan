(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[5181],{1165:(e,t,a)=>{"use strict";a(48244)},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},6443:(e,t,a)=>{"use strict";a.d(t,{X:()=>h});var i=a(6934);function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var o={class:"label is-inline"},l={key:0,class:"is-flex"},s=["value"],c=["aria-label"],d={class:"icon"},u={key:1,class:"is-flex"},m={class:"icon"},p={class:"label is-inline"},f=["innerHTML"];function h(e,t,a,r,h,g){var v=(0,i.g2)("help-button"),b=(0,i.g2)("b-select"),y=(0,i.g2)("b-input"),_=(0,i.g2)("b-field"),k=(0,i.g2)("b-checkbox"),w=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(_,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",o,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","step")),1),t[8]||(t[8]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(v,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","step")},null,8,["title","message"])]),h.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(b,{modelValue:h.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return h.step=e}),t[1]||(t[1]=function(e){return g.emitValues()})],name:"step_options"},{default:(0,i.k6)((function(){return[t[9]||(t[9]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[10]||(t[10]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[11]||(t[11]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[12]||(t[12]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[13]||(t[13]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[14]||(t[14]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[15]||(t[15]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[16]||(t[16]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[17]||(t[17]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),h.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==h.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:h.step},(0,i.v_)(h.step),9,s)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,i.D$)((function(e){return h.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",d,n(t[18]||(t[18]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[w,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,c)])),h.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(y,{modelValue:h.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return h.step=e}),t[4]||(t[4]=function(e){return g.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return h.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",m,n(t[19]||(t[19]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)])))),[[w,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(_,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",p,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators")),1),t[20]||(t[20]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(v,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric","comparators")},null,8,["title","message"])]),(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(h.comparatorsObject,(function(e,a){return(0,i.uX)(),(0,i.Wv)(k,{key:a,modelValue:h.comparators,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return h.comparators=e}),t[7]||(t[7]=function(e){return g.emitValues()})],"native-value":a,disabled:h.comparators.indexOf(a)>=0&&h.comparators.length<=1,name:"numeric_filter_options[comparators]"},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",{innerHTML:e.symbol+" "+e.label},null,8,f)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},9409:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(90266)},9976:(e,t,a)=>{"use strict";a.d(t,{X:()=>w});var i=a(6934);function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var o={class:"label is-inline"},l={style:{"font-size":"1.35em"}},s={value:""},c=["value"],d={key:0,class:"intersection-explainer-section"},u={style:{"font-size":"1.35em"}},m=["value","innerHTML"],p=["innerHTML"],f={key:2},h={class:"icon"},g={class:"icon"},v={class:"logic-divider"},b=["value","innerHTML"],y=["innerHTML"],_={class:"icon"},k={class:"icon"};function w(e,t,a,r,w,F){var x=(0,i.g2)("help-button"),L=(0,i.g2)("b-select"),C=(0,i.g2)("b-field"),E=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(C,{addons:!1,type:w.metadataType,message:w.metadataMessage},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",o,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")),1),(0,i.Lk)("span",{class:(0,i.C4)(w.metadataType)}," * ",2),(0,i.Lk)("span",l,[(0,i.bF)(x,{title:e.$i18n.getHelperTitle("tainacan-filter-dates-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-dates-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])])]),(0,i.bF)(L,{modelValue:w.secondDateMetadatumId,"onUpdate:modelValue":t[0]||(t[0]=function(e){return w.secondDateMetadatumId=e}),name:"dates_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_date_to_compare"),loading:w.loading,expanded:"",onChange:t[1]||(t[1]=function(e){return F.onUpdateSecondDateMetadatumId()}),onFocus:t[2]||(t[2]=function(e){return F.clear()})},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",s,(0,i.v_)(e.$i18n.get("instruction_select_second_date_to_compare")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.metadata.filter((function(e){return e.id!=a.filter.metadatum_id})),(function(e){return(0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,c)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),w.secondDateMetadatumId?((0,i.uX)(),(0,i.CE)("fieldset",d,[(0,i.Lk)("legend",null,[(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,(0,i.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,i.Lk)("span",u,[(0,i.bF)(x,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,i.bF)(C,{addons:!1},{default:(0,i.k6)((function(){return[w.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.Wv)(L,{key:0,modelValue:w.firstComparator,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return w.firstComparator=e}),t[4]||(t[4]=function(e){return F.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,m)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:w.comparatorsObject[w.firstComparator].symbol},null,8,p)),a.filter.metadatum?((0,i.uX)(),(0,i.CE)("p",f,[t[11]||(t[11]=(0,i.eW)("   ",-1)),(0,i.Lk)("em",null,(0,i.v_)(a.filter.metadatum.metadatum_name),1)])):(0,i.Q3)("",!0),w.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[6]||(t[6]=(0,i.D$)((function(e){return w.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",g,n(t[13]||(t[13]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)])))),[[E,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return w.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",h,n(t[12]||(t[12]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[E,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,i.Lk)("div",v,[(0,i.Lk)("span",null,(0,i.v_)(e.$i18n.get("label_and")),1)]),(0,i.bF)(C,{addons:!1},{default:(0,i.k6)((function(){return[w.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.Wv)(L,{key:0,modelValue:w.secondComparator,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return w.secondComparator=e}),t[8]||(t[8]=function(e){return F.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,b)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:w.comparatorsObject[w.secondComparator].symbol},null,8,y)),(0,i.Lk)("p",null,[t[14]||(t[14]=(0,i.eW)(" ",-1)),(0,i.Lk)("em",null,(0,i.v_)(w.secondDateMetadatumName),1)]),w.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[10]||(t[10]=(0,i.D$)((function(e){return w.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,n(t[16]||(t[16]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)])))),[[E,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[9]||(t[9]=(0,i.D$)((function(e){return w.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",_,n(t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[E,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,i.Q3)("",!0)])}},10329:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(26394)},12217:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,comparatorsObject:Object,comparators:Array}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("after"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("before"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{step:this.step,comparators:this.comparators})}}}},13943:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-994e7f18]{margin-top:1.25rem;padding:.75em .75em .25em .75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-994e7f18]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-994e7f18]{display:flex;gap:.5em;margin:0 -0.5em .5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-994e7f18]{margin-left:.75em}.intersection-explainer-section button[data-v-994e7f18]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-994e7f18]{display:none}",""]);const l=o},14779:(e,t,a)=>{"use strict";a.d(t,{X:()=>re});var i=a(6934);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var s={key:0},c={class:"filters-list-page"},d={class:"column is-12-touch"},u={class:"tainacan-form sub-header"},m={key:0,class:"field is-grouped-centered section"},p={class:"content has-text-dark has-text-centered"},f={class:"handle"},h={key:0,class:"sorting-buttons"},g=["disabled","aria-label","onClick"],v=["disabled","aria-label","onClick"],b={key:1,class:"label-details"},y={key:0,class:"not-saved"},_={key:1,class:"icon"},k={class:"icon icon-level-identifier"},w={key:2,class:"loading-spinner"},F={key:3,class:"controls"},x=["onClick"],L={class:"icon"},C=["onClick"],E={class:"icon"},O={key:0,class:"column available-metadata-area is-12-touch"},$={class:"tainacan-form sub-header"},S={class:"field"},T=["onClick"],M={class:"icon grip-icon"},V={class:"metadatum-name"},A={key:0,class:"label-details",style:{"font-size":"0.875em"}},I={key:1,class:"icon"},X={class:"icon icon-level-identifier"},j={key:1,class:"field is-grouped-centered section"},H={class:"content has-text-dark has-text-centered"},N=["onClick"],U={key:1,class:"section"},D={class:"content has-text-dark has-text-centered"},P={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content",style:{width:"auto"}},R={class:"tainacan-modal-title"},W={class:"tainacan-form"},z={class:"tainacan-form"},Q={class:"columns"},q={class:"column"},B={role:"list",class:"filter-types-container"},K=["onClick","onMouseover","onMouseleave"],Y={class:"column"},G={class:"filter-type-label"},J={key:0,class:"field"},Z={class:"collapse-handle"},ee={class:"label has-tooltip"},te=["innerHTML"],ae={key:1,class:"has-text-dark"},ie={class:"field is-grouped form-submit"},ne={class:"control"};function re(e,t,a,n,l,re){var oe=(0,i.g2)("tainacan-title"),le=(0,i.g2)("b-loading"),se=(0,i.g2)("b-input"),ce=(0,i.g2)("b-field"),de=(0,i.g2)("b-switch"),ue=(0,i.g2)("filter-edition-form"),me=(0,i.g2)("sortable"),pe=(0,i.g2)("router-link"),fe=(0,i.g2)("b-modal"),he=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"tainacan-repository-level-colors page-container":l.isRepositoryLevel})},[(0,i.bF)(oe,{"is-sticky":!0}),l.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("p",s,(0,i.v_)(e.$i18n.get("info_repository_filters_inheritance")),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",c,[(0,i.bF)(le,{modelValue:l.isLoadingMetadatumTypes,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.isLoadingMetadatumTypes=e}),"is-full-page":!1},null,8,["modelValue"]),l.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!l.isRepositoryLevel&&e.collection&&e.collection.current_user_can_edit_filters?((0,i.uX)(),(0,i.CE)("div",{key:0,ref:"filterEditionPageColumns",style:(0,i.Tr)({height:re.activeFiltersList.length<=0&&!l.isLoadingFilters?"auto":"calc(100% - 6px - "+l.columnsTopY+"px)"}),class:"columns is-multiline"},[(0,i.Lk)("div",d,[(0,i.Lk)("div",u,[(0,i.Lk)("h2",null,(0,i.v_)(e.$i18n.get("filters")),1),re.activeFiltersList&&re.activeFiltersList.length>5&&!l.isLoadingFilters?((0,i.uX)(),(0,i.Wv)(ce,{key:0,class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(se,{modelValue:l.filterNameFilterString,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.filterNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_filter_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[2]||(t[2]=function(e){return l.filterNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,i.Q3)("",!0)]),re.activeFiltersList.length<=0&&!l.isLoadingFilters?((0,i.uX)(),(0,i.CE)("section",m,[(0,i.Lk)("div",p,[t[9]||(t[9]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-filters"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_there_is_no_filter")),1),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_create_filters")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(me,{list:re.activeFiltersList,"item-key":"id",class:(0,i.C4)(["active-filters-area",{"filters-area-receive":l.isDraggingFromAvailable}]),options:{group:{name:"filters",pull:!1,put:!0},sort:(""==l.openedFilterId||null==l.openedFilterId)&&!l.isRepositoryLevel,handle:".handle",hostClass:"sortable-ghost",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:re.handleChangeOnFilter,onAdd:re.handleChangeOnFilter,onRemove:re.handleChangeOnFilter},{item:(0,i.k6)((function(a){var n=a.element,s=a.index;return[(0,i.bo)((0,i.Lk)("div",{class:(0,i.C4)(["active-filter-item",{"not-sortable-item":l.isRepositoryLevel||l.isSelectingFilterType||null==n.id||""!=l.openedFilterId||l.choosenMetadatum.name==n.name||1==l.isUpdatingFiltersOrder||""!=l.filterNameFilterString,"not-focusable-item":l.openedFilterId==n.id,"disabled-filter":0==n.enabled,"inherited-filter tainacan-repository-level-colors":n.collection_id!=l.collectionId||l.isRepositoryLevel}])},[(0,i.Lk)("div",f,[l.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("span",h,[(0,i.Lk)("button",{disabled:0==s,class:"link-button","aria-label":e.$i18n.get("label_move_up"),onClick:function(e){return re.moveFilterUpViaButton(s)}},o(t[10]||(t[10]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)])),8,g),(0,i.Lk)("button",{disabled:s==re.activeFiltersList.length-1,class:"link-button","aria-label":e.$i18n.get("label_move_down"),onClick:function(e){return re.moveFilterDownViaButton(s)}},o(t[11]||(t[11]=[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)])),8,v)])),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:l.isSelectingFilterType||null==n.id||""!=l.openedFilterId||l.choosenMetadatum.name==n.name||1==l.isUpdatingFiltersOrder||l.isRepositoryLevel||""!=l.filterNameFilterString?"0.0":"1.0"}),class:"icon grip-icon"},o(t[12]||(t[12]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])),4)),[[he,{content:l.isSelectingFilterType||null==n.id||""!=l.openedFilterId||l.choosenMetadatum.name==n.name||1==l.isUpdatingFiltersOrder?e.$i18n.get("info_not_allowed_change_order_filters"):e.$i18n.get("instruction_drag_and_drop_filter_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",{class:(0,i.C4)(["filter-name",{"is-danger":l.formWithErrors==n.id}])},(0,i.v_)(n.name),3),null!=n.filter_type_object?((0,i.uX)(),(0,i.CE)("span",b,[(0,i.eW)(" ("+(0,i.v_)(n.filter_type_object.name)+") ",1),null!=l.editForms[n.id]&&1!=l.editForms[n.id].saved||"auto-draft"==n.status?((0,i.uX)(),(0,i.CE)("span",y,(0,i.v_)(e.$i18n.get("info_not_saved")),1)):(0,i.Q3)("",!0),"private"==n.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",_,o(t[13]||(t[13]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[he,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,[(0,i.Lk)("i",{class:(0,i.C4)([r(r({"tainacan-icon-collection":n.collection_id==l.collectionId,"tainacan-icon-repository":n.collection_id!=l.collectionId,"has-text-secondary":n.enabled&&"default"!=n.collection_id},"has-text-secondary",n.enabled&&"default"==n.collection_id),"has-text-grey",!n.enabled),"tainacan-icon"])},null,2)])),[[he,{content:n.collection_id!=l.collectionId?e.$i18n.get("label_repository_filter"):e.$i18n.get("label_collection_filter"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])])):(0,i.Q3)("",!0),null==n.id?((0,i.uX)(),(0,i.CE)("span",w)):(0,i.Q3)("",!0),null!=n.filter_type?((0,i.uX)(),(0,i.CE)("span",F,[l.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(de,{key:0,disabled:l.isUpdatingFiltersOrder,size:"is-small","model-value":n.enabled,"onUpdate:modelValue":function(e){return re.onChangeEnable(e,s)}},null,8,["disabled","model-value","onUpdate:modelValue"])),n.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:n.collection_id==l.collectionId||l.isRepositoryLevel?"visible":"hidden"}),onClick:(0,i.D$)((function(e){return re.toggleFilterEdition(n.id)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",L,o(t[14]||(t[14]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[he,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,x)):(0,i.Q3)("",!0),n.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:2,style:(0,i.Tr)({visibility:n.collection_id!=l.collectionId&&!l.isRepositoryLevel||n.id==l.openedFilterId?"hidden":"visible"}),onClick:(0,i.D$)((function(e){return re.removeFilter(n)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",E,o(t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[he,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"bottom"}]])],12,C)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[l.openedFilterId==n.id?((0,i.uX)(),(0,i.Wv)(ce,{key:0},{default:(0,i.k6)((function(){return[(0,i.bF)(ue,{"is-repository-level":l.isRepositoryLevel,index:s,"original-filter":n,"edited-filter":l.editForms[l.openedFilterId],onOnEditionFinished:t[3]||(t[3]=function(e){return re.onEditionFinished()}),onOnEditionCanceled:t[4]||(t[4]=function(e){return re.onEditionCanceled()}),onOnErrorFound:function(e){return l.formWithErrors=n.id},onOnUpdateSavedState:function(e){return l.editForms[n.id].saved=e}},null,8,["is-repository-level","index","original-filter","edited-filter","onOnErrorFound","onOnUpdateSavedState"])]})),_:2},1024)):(0,i.Q3)("",!0)]})),_:2},1024)],2),[[i.aG,""==l.filterNameFilterString||n.name.toString().toLowerCase().indexOf(l.filterNameFilterString.toString().toLowerCase())>=0]])]})),_:1},8,["list","class","options","onUpdate","onAdd","onRemove"])]),l.isRepositoryLevel&&e.$userCaps.hasCapability("tnc_rep_edit_filters")||!l.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("div",O,[(0,i.Lk)("div",$,[(0,i.Lk)("h2",null,(0,i.v_)(e.$i18n.get("label_available_metadata")),1),l.availableMetadata&&l.availableMetadata.length>5&&!l.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.Wv)(ce,{key:0,class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(se,{modelValue:l.metadatumNameFilterString,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.metadatumNameFilterString=e}),placeholder:e.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:t[6]||(t[6]=function(e){return l.metadatumNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})):(0,i.Q3)("",!0)]),(0,i.Lk)("div",S,[l.availableMetadata.length>0&&!l.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.Wv)(me,{key:0,list:l.availableMetadata,"item-key":"id",options:{group:{name:"filters",pull:!l.isSelectingFilterType,put:!1,revertClone:!0},sort:!1,filter:".not-sortable-item",preventOnFilter:!1,dragClass:"sortable-drag"},onChange:re.handleChangeOnMetadata},{item:(0,i.k6)((function(a){var n=a.element,r=a.index;return[n.enabled?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,i.C4)(["available-metadatum-item",{"inherited-metadatum":n.inherited||l.isRepositoryLevel,"disabled-metadatum":l.isSelectingFilterType}]),onClick:(0,i.D$)((function(e){return re.addMetadatumViaButton(n,r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",M,o(t[16]||(t[16]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])))),[[he,{content:e.$i18n.get("instruction_click_or_drag_filter_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",V,[(0,i.eW)((0,i.v_)(n.name)+" ",1),n.parent_name?((0,i.uX)(),(0,i.CE)("span",A,[(0,i.Lk)("em",null,(0,i.v_)("("+e.$i18n.get("info_child_of")+" "+n.parent_name+")"),1)])):(0,i.Q3)("",!0),"private"===n.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",I,o(t[17]||(t[17]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[he,{content:e.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0)])),[[he,{content:n.name+(n.parent_name?" ("+e.$i18n.get("info_child_of")+" "+n.parent_name+")":""),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",X,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-collection has-text-secondary":n.collection_id==l.collectionId&&!l.isRepositoryLevel,"tainacan-icon-repository has-text-secondary":l.isRepositoryLevel||n.collection_id!=l.collectionId},"tainacan-icon"])},null,2)])),[[he,{content:l.isRepositoryLevel||n.collection_id!=l.collectionId?e.$i18n.get("label_repository_metadatum"):e.$i18n.get("label_collection_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",l.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],10,T)),[[i.aG,""==l.metadatumNameFilterString||n.name.toString().toLowerCase().indexOf(l.metadatumNameFilterString.toString().toLowerCase())>=0]]):(0,i.Q3)("",!0)]})),_:1},8,["list","options","onChange"])):(0,i.Q3)("",!0),l.availableMetadata.length<=0&&!l.isLoadingMetadatumTypes?((0,i.uX)(),(0,i.CE)("section",j,[(0,i.Lk)("div",H,[t[18]||(t[18]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_there_is_no_metadatum")),1),(0,i.bF)(pe,{to:l.isRepositoryLevel?e.$routerHelper.getNewMetadatumPath():e.$routerHelper.getNewCollectionMetadatumPath(l.collectionId),custom:""},{default:(0,i.k6)((function(t){var a=t.navigate;return[(0,i.Lk)("button",{id:"button-create-metadatum",role:"link",ttype:"button",class:"button is-secondary is-centered",onClick:function(e){return a()}},(0,i.v_)(e.$i18n.getFrom("metadata","new_item")),9,N)]})),_:1},8,["to"])])])):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0)],4)):((0,i.uX)(),(0,i.CE)("section",U,[(0,i.Lk)("div",D,[t[19]||(t[19]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-filters"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("info_can_not_edit_filters")),1)])])),(0,i.bF)(fe,{ref:"filterTypeModal",modelValue:l.isSelectingFilterType,"onUpdate:modelValue":t[8]||(t[8]=function(e){return l.isSelectingFilterType=e}),width:680,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","can-cancel":["escape","outside"],"close-button-aria-label":e.$i18n.get("close")},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",P,[(0,i.Lk)("header",R,[(0,i.Lk)("h2",null,(0,i.v_)(e.$i18n.get("label_available_filter_types")),1)]),(0,i.Lk)("section",W,[(0,i.Lk)("form",z,[(0,i.Lk)("div",Q,[(0,i.Lk)("div",q,[(0,i.Lk)("div",B,[(0,i.Lk)("p",null,(0,i.v_)(e.$i18n.get("instruction_click_to_select_a_filter_type")),1),t[20]||(t[20]=(0,i.Lk)("br",null,null,-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.allowedFilterTypes,(function(e,t){return(0,i.uX)(),(0,i.CE)("div",{key:t,role:"listitem",class:"filter-type",onClick:function(t){return re.onFilterTypeSelected(e)},onMouseover:function(t){return l.currentFilterTypePreview={name:e.name,template:e.preview_template}},onMouseleave:function(t){return l.currentFilterTypePreview={name:e.name,template:e.preview_template}}},[(0,i.Lk)("h4",null,(0,i.v_)(e.name),1)],40,K)})),128))])]),(0,i.Lk)("div",Y,[(0,i.Lk)("div",{style:(0,i.Tr)({"min-height":re.getProperPreviewMinHeight()+"px"}),class:"filter-type-preview"},[(0,i.Lk)("span",G,(0,i.v_)(e.$i18n.get("label_filter_type_preview")),1),null!=l.currentFilterTypePreview&&""!=l.currentFilterTypePreview.template?((0,i.uX)(),(0,i.CE)("div",J,[(0,i.Lk)("span",Z,[t[21]||(t[21]=(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"has-text-secondary tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1)),(0,i.Lk)("label",ee,(0,i.v_)(l.currentFilterTypePreview.name),1)]),(0,i.Lk)("div",{innerHTML:l.currentFilterTypePreview.template},null,8,te)])):((0,i.uX)(),(0,i.CE)("span",ae,(0,i.v_)(e.$i18n.get("instruction_hover_a_filter_type_to_preview")),1))],4)])])]),(0,i.Lk)("footer",ie,[(0,i.Lk)("div",ne,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[7]||(t[7]=function(e){return re.onCancelFilterTypeSelection()})},(0,i.v_)(e.$i18n.get("cancel")),1)])])])])]})),_:1},8,["modelValue","close-button-aria-label"])])],2)}},16846:(e,t,a)=>{"use strict";var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),m=a.n(u),p=a(63494),f=a.n(p),h=a(13943),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},20423:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(35276)},26394:(e,t,a)=>{"use strict";a.d(t,{X:()=>S});var i=a(6934);function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var o={class:"options-columns"},l={class:"two-thirds-layout-options"},s={class:"label is-inline"},c={class:"label is-inline"},d={type:"button",class:"button is-outlined",style:{width:"auto"}},u={class:"icon has-text-dark"},m={class:"icon has-text-dark"},p={key:0,class:"is-small",style:{"margin-left":"2px"}},f=["innerHTML"],h={class:"label is-inline"},g={class:"label is-inline"},v={class:"label is-inline"},b={key:0,class:"is-flex"},y=["value"],_=["aria-label"],k={class:"icon"},w={key:1,class:"is-flex"},F={class:"icon"},x=["innerHTML"],L=["innerHTML"],C={class:"field is-grouped form-submit"},E={class:"control"},O={class:"control"},$={class:"help is-danger"};function S(e,t,a,r,S,T){var M=(0,i.g2)("help-button"),V=(0,i.g2)("b-input"),A=(0,i.g2)("b-field"),I=(0,i.g2)("b-dropdown-item"),X=(0,i.g2)("b-dropdown"),j=(0,i.g2)("b-switch"),H=(0,i.g2)("b-select"),N=(0,i.g2)("b-button"),U=(0,i.gN)("a11y-dropdown"),D=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("form",{id:"filterEditForm",class:"tainacan-form",onSubmit:t[18]||(t[18]=(0,i.D$)((function(e){return T.saveEdition(S.form)}),["prevent"]))},[(0,i.Lk)("div",o,[(0,i.Lk)("div",l,[(0,i.bF)(A,{addons:!1,type:null!=S.formErrors.name?"is-danger":"",message:null!=S.formErrors.name?S.formErrors.name:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",s,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_name"))+" ",1),(0,i.Lk)("span",{class:(0,i.C4)(["required-metadatum-asterisk",null!=S.formErrors.name?"is-danger":""])},"*",2),(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","name"),message:e.$i18n.getHelperMessage("filters","name")},null,8,["title","message"])]),(0,i.bF)(V,{modelValue:S.form.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S.form.name=e}),name:"name",onFocus:t[1]||(t[1]=function(e){return T.clearErrors("name")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,i.bF)(A,{addons:!1,type:null!=S.formErrors.status?"is-danger":"",message:null!=S.formErrors.status?S.formErrors.status:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",c,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_status"))+" ",1),(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","status"),message:e.$i18n.getHelperMessage("filters","status")},null,8,["title","message"])]),(0,i.bo)(((0,i.uX)(),(0,i.Wv)(X,{ref:"filter-edition-status-dropdown","trigger-tabindex":-1,class:"filter-edition-status-dropdown",position:"is-bottom-left",triggers:["click"]},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",d,[(0,i.Lk)("span",u,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon tainacan-icon-18px",e.$statusHelper.getIcon(S.form.status)])},null,2)]),"auto-draft"!==S.form.status&&e.$statusHelper.getStatuses().find((function(e){return e.slug==S.form.status}))?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,i.v_)(e.$statusHelper.getStatuses().find((function(e){return e.slug==S.form.status})).name),1)],64)):"auto-draft"===S.form.status?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,i.v_)(e.$i18n.get("status_auto-draft")),1)],64)):(0,i.Q3)("",!0),t[19]||(t[19]=(0,i.Lk)("span",{style:{"margin-left":"0.5em"},class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))])]})),default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.$statusHelper.getStatuses().filter((function(e){return"trash"!=e.slug&&"draft"!=e.slug&&"pending"!=e.slug&&("auto-draft"!=S.form.status||"trash"!=e.slug)})),(function(a,n){return(0,i.uX)(),(0,i.Wv)(I,{key:n,onClick:function(e){return S.form.status=a.slug},onKeydown:[(0,i.jR)((0,i.D$)((function(e){return S.form.status=a.slug}),["prevent"]),["enter"]),(0,i.jR)((0,i.D$)((function(e){return S.form.status=a.slug}),["prevent"]),["space"])]},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",m,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon tainacan-icon-18px",e.$statusHelper.getIcon(a.slug)])},null,2)]),(0,i.eW)(" "+(0,i.v_)(a.name)+" ",1),t[20]||(t[20]=(0,i.Lk)("br",null,null,-1)),e.$statusHelper.hasDescription(a.slug)?((0,i.uX)(),(0,i.CE)("small",p,(0,i.v_)(e.$statusHelper.getDescription(a.slug)),1)):(0,i.Q3)("",!0)]})),_:2},1032,["onClick","onKeydown"])})),128))]})),_:1})),[[U]])]})),_:1},8,["type","message"])]),e.hasBeginLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:0,id:"form-filter-begin-left",class:"form-hook-region",innerHTML:e.getBeginLeftForm},null,8,f)):(0,i.Q3)("",!0),(0,i.bF)(A,{addons:!1,type:null!=S.formErrors.description?"is-danger":"",message:null!=S.formErrors.description?S.formErrors.description:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",h,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_description"))+" ",1),(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","description"),message:e.$i18n.getHelperMessage("filters","description")},null,8,["title","message"])]),(0,i.bF)(V,{modelValue:S.form.description,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.form.description=e}),type:"textarea",name:"description",rows:3,onFocus:t[3]||(t[3]=function(e){return T.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,i.bF)(A,{addons:!1,label:e.$i18n.getHelperTitle("filters","description_bellow_name"),type:null!=S.formErrors.description_bellow_name?"is-danger":"",message:null!=S.formErrors.description_bellow_name?S.formErrors.description_bellow_name:""},{default:(0,i.k6)((function(){return[t[21]||(t[21]=(0,i.eW)("   ",-1)),(0,i.bF)(j,{modelValue:S.form.description_bellow_name,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return S.form.description_bellow_name=e}),t[5]||(t[5]=function(e){return T.clearErrors("description_bellow_name")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.description_bellow_name?"yes":"no",name:"description_bellow_name"},{default:(0,i.k6)((function(){return[(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","description_bellow_name"),message:e.$i18n.getHelperMessage("filters","description_bellow_name"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),S.form.filter_type_object.use_input_placeholder?((0,i.uX)(),(0,i.Wv)(A,{key:1,addons:!1,type:null!=S.formErrors.placeholder?"is-danger":"",message:null!=S.formErrors.placeholder?S.formErrors.placeholder:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",g,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("filters","placeholder"))+" ",1),(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","placeholder"),message:e.$i18n.getHelperMessage("filters","placeholder"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]),(0,i.bF)(V,{modelValue:S.form.placeholder,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S.form.placeholder=e}),name:"placeholder",onFocus:t[7]||(t[7]=function(e){return T.clearErrors("placeholder")})},null,8,["modelValue"])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0),S.form.filter_type_object&&S.form.filter_type_object.use_max_options?((0,i.uX)(),(0,i.Wv)(A,{key:2,addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",v,[(0,i.eW)((0,i.v_)(e.$i18n.get("label_max_options_to_show"))+" ",1),(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","max_options"),message:e.$i18n.getHelperMessage("filters","max_options")},null,8,["title","message"])]),S.showEditMaxOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(H,{modelValue:S.form.max_options,"onUpdate:modelValue":t[8]||(t[8]=function(e){return S.form.max_options=e}),name:"max_options",placeholder:e.$i18n.get("instruction_select_max_options_to_show")},{default:(0,i.k6)((function(){return[t[22]||(t[22]=(0,i.Lk)("option",{value:"4"}," 4 ",-1)),t[23]||(t[23]=(0,i.Lk)("option",{value:"8"}," 8 ",-1)),t[24]||(t[24]=(0,i.Lk)("option",{value:"12"}," 12 ",-1)),S.form.max_options&&![4,8,12].find((function(e){return e==S.form.max_options}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:S.form.max_options},(0,i.v_)(S.form.max_options),9,y)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue","placeholder"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.getFrom("items","edit_item"),onClick:t[9]||(t[9]=(0,i.D$)((function(e){return S.showEditMaxOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,n(t[25]||(t[25]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[D,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,_)])),S.showEditMaxOptions?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.bF)(V,{modelValue:S.form.max_options,"onUpdate:modelValue":t[10]||(t[10]=function(e){return S.form.max_options=e}),name:"max_options",type:"number",step:"1",max:S.maxOptionsLimit},null,8,["modelValue","max"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[11]||(t[11]=(0,i.D$)((function(e){return S.showEditMaxOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",F,n(t[26]||(t[26]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)])))),[[D,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1})):(0,i.Q3)("",!0),(0,i.bF)(A,{addons:!1,label:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),type:null!=S.formErrors.begin_with_filter_collapsed?"is-danger":"",message:null!=S.formErrors.begin_with_filter_collapsed?S.formErrors.begin_with_filter_collapsed:""},{default:(0,i.k6)((function(){return[t[27]||(t[27]=(0,i.eW)("   ",-1)),(0,i.bF)(j,{modelValue:S.form.begin_with_filter_collapsed,"onUpdate:modelValue":[t[12]||(t[12]=function(e){return S.form.begin_with_filter_collapsed=e}),t[13]||(t[13]=function(e){return T.clearErrors("begin_with_filter_collapsed")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.begin_with_filter_collapsed?"yes":"no",name:"begin_with_filter_collapsed"},{default:(0,i.k6)((function(){return[(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","begin_with_filter_collapsed"),message:e.$i18n.getHelperMessage("filters","begin_with_filter_collapsed"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"]),S.form.collection_id&&"default"!==S.form.collection_id?((0,i.uX)(),(0,i.Wv)(A,{key:3,addons:!1,label:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),type:null!=S.formErrors.display_in_repository_level_lists?"is-danger":"",message:null!=S.formErrors.display_in_repository_level_lists?S.formErrors.display_in_repository_level_lists:""},{default:(0,i.k6)((function(){return[t[28]||(t[28]=(0,i.eW)("   ",-1)),(0,i.bF)(j,{modelValue:S.form.display_in_repository_level_lists,"onUpdate:modelValue":[t[14]||(t[14]=function(e){return S.form.display_in_repository_level_lists=e}),t[15]||(t[15]=function(e){return T.clearErrors("display_in_repository_level_lists")})],size:"is-small","true-value":"yes","false-value":"no","native-value":"yes"==S.form.display_in_repository_level_lists?"yes":"no",name:"display_in_repository_level_lists"},{default:(0,i.k6)((function(){return[(0,i.bF)(M,{title:e.$i18n.getHelperTitle("filters","display_in_repository_level_lists"),message:e.$i18n.getHelperMessage("filters","display_in_repository_level_lists"),"extra-classes":a.isRepositoryLevel?"tainacan-repository-tooltip":""},null,8,["title","message","extra-classes"])]})),_:1},8,["modelValue","native-value"])]})),_:1},8,["label","type","message"])):(0,i.Q3)("",!0),S.form.filter_type_object&&S.form.filter_type_object.form_component?((0,i.uX)(),(0,i.Wv)((0,i.$y)(S.form.filter_type_object.form_component),{key:4,modelValue:S.form.filter_type_options,"onUpdate:modelValue":t[16]||(t[16]=function(e){return S.form.filter_type_options=e}),errors:S.formErrors.filter_type_options,filter:S.form},null,8,["modelValue","errors","filter"])):((0,i.uX)(),(0,i.CE)("div",{key:5,innerHTML:S.form.edit_form},null,8,x)),e.hasEndLeftForm?((0,i.uX)(),(0,i.CE)("form",{key:6,id:"form-filter-end-left",class:"form-hook-region",innerHTML:e.getEndLeftForm},null,8,L)):(0,i.Q3)("",!0)]),(0,i.Lk)("div",C,[(0,i.Lk)("div",E,[(0,i.Lk)("button",{type:"button",class:"button is-outlined",onClick:t[17]||(t[17]=(0,i.D$)((function(e){return T.cancelEdition()}),["prevent"]))},(0,i.v_)(e.$i18n.get("cancel")),1)]),(0,i.Lk)("div",O,[(0,i.bF)(N,{loading:S.isLoading,class:"button is-success","native-type":"submit"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(e.$i18n.get("save")),1)]})),_:1},8,["loading"])])]),(0,i.Lk)("p",$,(0,i.v_)(S.formErrorMessage),1)],32)}},27281:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(40172)},29868:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(75552);function n(){var e,t,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function l(a,i,n,o){var l=i&&i.prototype instanceof c?i:c,d=Object.create(l.prototype);return r(d,"_invoke",function(a,i,n){var r,o,l,c=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,a){return r=t,o=0,l=e,m.n=a,s}};function p(a,i){for(o=a,l=i,t=0;!u&&c&&!n&&t<d.length;t++){var n,r=d[t],p=m.p,f=r[2];a>3?(n=f===i)&&(l=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=e):r[0]<=p&&((n=a<2&&p<r[1])?(o=0,m.v=i,m.n=r[1]):p<f&&(n=a<3||r[0]>i||i>f)&&(r[4]=a,r[5]=i,m.n=f,o=0))}if(n||a>1)return s;throw u=!0,i}return function(n,d,f){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),o=d,l=f;(t=o<2?e:l)||!u;){r||(o?o<3?(o>1&&(m.n=-1),p(o,l)):m.n=l:m.v=l);try{if(c=2,r){if(o||(n="next"),t=r[n]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=r.return)&&t.call(r),o<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),o=1);r=e}else if((t=(u=m.n<0)?l:a.call(i,m))!==s)break}catch(t){r=e,o=1,l=t}finally{c=1}}return{value:t,done:u}}}(a,n,o),!0),d}var s={};function c(){}function d(){}function u(){}t=Object.getPrototypeOf;var m=[][i]?t(t([][i]())):(r(t={},i,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,r(p,"constructor",u),r(u,"constructor",d),d.displayName="GeneratorFunction",r(u,o,"GeneratorFunction"),r(p),r(p,o,"Generator"),r(p,i,(function(){return this})),r(p,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:l,m:f}})()}function r(e,t,a,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}r=function(e,t,a,i){function o(t,a){r(e,t,(function(e){return this._invoke(t,a,e)}))}t?n?n(e,t,{value:a,enumerable:!i,configurable:!i,writable:!i}):e[t]=a:(o("next",0),o("throw",1),o("return",2))},r(e,t,a,i)}function o(e,t,a,i,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(i,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondDateMetadatumId:[Number,String],secondDateMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptDateInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.secondDateMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondDateMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptDateInterval=this.modelValue&&this.modelValue.accept_date_interval?this.modelValue.accept_date_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("after")},">=":{symbol:"&#8805;",label:this.$i18n.get("after_or_on_day")},"<":{symbol:"&#60;",label:this.$i18n.get("before")},"<=":{symbol:"&#8804;",label:this.$i18n.get("before_or_on_day")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=n().m((function e(){var a;return n().w((function(e){for(;;)switch(e.n){case 0:return a=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",a+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Date&nopaging=1&exclude="+t.filter.metadatum_id,e.n=1,i.UY.get(a).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 1:return e.a(2,e.v)}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function l(e){o(r,i,n,l,s,"next",e)}function s(e){o(r,i,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondDateMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondDateMetadatumId}));this.secondDateMetadatumName=t?t.name:"",this.secondDateMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondDateMetadatumId,secondary_filter_metadatum_name:this.secondDateMetadatumName,accept_date_interval:this.acceptDateInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},30532:(e,t,a)=>{"use strict";var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),m=a.n(u),p=a(63494),f=a.n(p),h=a(69721),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},30707:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(79230)},31162:(e,t,a)=>{"use strict";var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),m=a.n(u),p=a(63494),f=a.n(p),h=a(52565),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},31607:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(61322),n=a(67108);const r=(0,a(66262).A)(n.A,[["render",i.X]])},31757:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(30707),n=a(63118);a(58001);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-375888ad"]])},34456:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(9409),n=a(84263);a(94475);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-994e7f18"]])},35276:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var i=a(6934),n=a(40834),r=a(74042),o=a(41229),l=a(31607),s=a(57672),c=a(31757),d=a(34456),u=a(87684);function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function p(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=h(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i,n,r,o,l=[],s=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(i=r.call(a)).done)&&(l.push(i.value),l.length!==t);s=!0);}catch(e){c=!0,n=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw n}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const _={name:"FilterEditionForm",components:{"tainacan-filter-form-date":o.A,"tainacan-filter-form-numeric":l.A,"tainacan-filter-form-numeric-interval":s.A,"tainacan-filter-form-numeric-list-interval":c.A,"tainacan-filter-form-numerics-intersection":d.A,"tainacan-filter-form-dates-intersection":u.A},mixins:[r.X3],props:{index:"",editedFilter:Object,originalFilter:Object,isRepositoryLevel:Boolean},emits:["on-update-saved-state","on-edition-finished","on-edition-canceled","on-error-found"],data:function(){return{form:{},oldForm:{},formErrors:{},formErrorMessage:"",closedByForm:!1,showEditMaxOptions:!1,entityName:"filter",isLoading:!1,maxOptionsLimit:tainacan_plugin.api_max_items_per_page&&!isNaN(tainacan_plugin.api_max_items_per_page)?Number(tainacan_plugin.api_max_items_per_page):96}},created:function(){this.form=this.editedFilter,this.formErrors=null!=this.form.formErrors?this.form.formErrors:{},this.formErrorMessage=null!=this.form.formErrors?this.form.formErrorMessage:"",this.oldForm=JSON.parse(JSON.stringify(this.originalFilter)),null==this.form.metadatum&&null!=this.oldForm.metadatum&&(this.form.metadatum=this.oldForm.metadatum)},mounted:function(){var e=this;(0,i.dY)().then((function(){e.updateExtraFormData(e.form)}))},beforeUnmount:function(){this.closedByForm?this.$emit("on-update-saved-state",!0):(this.oldForm.saved=this.form.saved,JSON.stringify(this.form)!=JSON.stringify(this.oldForm)?this.$emit("on-update-saved-state",!1):this.$emit("on-update-saved-state",!0))},methods:b(b({},(0,n.i0)("filter",["updateFilter"])),{},{saveEdition:function(e){var t=this;if(this.isLoading=!0,e.edit_form){var a,i=document.getElementById("filterEditForm"),n={},r=p(new FormData(i).entries());try{for(r.s();!(a=r.n()).done;){var o=f(a.value,2),l=o[0],s=o[1];n[l]="begin_with_filter_collapsed"===l||"display_in_repository_level_lists"===l||"description_bellow_name"===l?"yes"==s||1==s?"yes":"no":s}}catch(e){r.e(e)}finally{r.f()}void 0===n.begin_with_filter_collapsed&&(n.begin_with_filter_collapsed="no"),void 0===n.display_in_repository_level_lists&&(n.display_in_repository_level_lists="no"),void 0===n.description_bellow_name&&(n.description_bellow_name="no"),n.status=this.form.status,this.fillExtraFormData(n),this.updateFilter({filterId:e.id,index:this.index,options:n}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var a,i=p(e.errors);try{for(i.s();!(a=i.n()).done;)for(var n=a.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){i.e(e)}finally{i.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}else{for(var c=0,d=Object.entries(this.form);c<d.length;c++){var u=f(d[c],2),m=u[0],h=u[1];"begin_with_filter_collapsed"!==m&&"display_in_repository_level_lists"!==m&&"description_bellow_name"!==m||(this.form[m]="yes"==h||1==h?"yes":"no")}void 0===this.form.begin_with_filter_collapsed&&(this.form.begin_with_filter_collapsed="no"),void 0===this.form.display_in_repository_level_lists&&(this.form.display_in_repository_level_lists="no"),void 0===this.form.description_bellow_name&&(this.form.description_bellow_name="no"),this.fillExtraFormData(this.form),this.updateFilter({filterId:e.id,index:this.index,options:this.form}).then((function(){t.form={},t.formErrors={},t.formErrorMessage="",t.isLoading=!1,t.closedByForm=!0,t.$emit("on-edition-finished")})).catch((function(e){t.isLoading=!1;var a,i=p(e.errors);try{for(i.s();!(a=i.n()).done;)for(var n=a.value,r=0,o=Object.keys(n);r<o.length;r++){var l=o[r];t.formErrors[l]=n[l]}}catch(e){i.e(e)}finally{i.f()}t.formErrorMessage=e.error_message,t.$emit("on-error-found"),t.form.formErrors=t.formErrors,t.form.formErrorMessage=t.formErrorMessage}))}},clearErrors:function(e){this.formErrors[e]=void 0},cancelEdition:function(){this.closedByForm=!0,this.$emit("on-edition-canceled")}})}},37365:(e,t,a)=>{"use strict";a(30532)},37535:(e,t,a)=>{"use strict";a(94438)},38270:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var i=a(47767),n=a(78101);a(37365);const r=(0,a(66262).A)(n.A,[["render",i.X]])},38320:(e,t,a)=>{var i={"./ca":7306,"./ca.js":7306,"./el":54691,"./el.js":54691,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-nz":79402,"./en-nz.js":79402,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./sk":5784,"./sk.js":5784,"./sq":86794,"./sq.js":86794,"./sv":41011,"./sv.js":41011,"./uk":16618,"./uk.js":16618};function n(e){var t=r(e);return a(t)}function r(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=r,e.exports=n,n.id=38320},38835:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const i={props:{filter:Object,modelValue:Object,id:"",disabled:!1},emits:["update:model-value"],data:function(){return{showIntervalOnTag:!0,intervals:[],isValid:!0}},created:function(){this.intervals=this.modelValue&&this.modelValue.intervals&&this.modelValue.intervals.length>0?this.modelValue.intervals:[{label:"",to:null,from:null}],this.showIntervalOnTag=!this.modelValue||null==this.modelValue.showIntervalOnTag||this.modelValue.showIntervalOnTag},methods:{onUpdate:_.debounce((function(e,t){null!=t&&1==t&&(null==e.to||null==e.from||""==e.to||""==e.from||Number(e.to)<Number(e.from))?(this.isValid=!1,""!=e.to&&""!=e.from&&null!=e.to&&null!=e.from&&this.showErrorMessage()):(this.isValid=!0,this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag}))}),600),onUpdateShowIntervalOnTag:function(){this.isValid&&this.$emit("update:model-value",{intervals:this.intervals,showIntervalOnTag:this.showIntervalOnTag})},showErrorMessage:function(){this.$buefy.toast.open({duration:3e3,message:this.$i18n.get("info_error_first_value_greater"),position:"is-bottom",type:"is-danger"})},removeInterval:function(e){this.intervals.splice(e,1)},addInterval:function(e){null!=e?this.intervals.splice(e+1,0,{label:"",to:null,from:null}):this.intervals.push({label:"",to:null,from:null})}}}},40172:(e,t,a)=>{"use strict";a.d(t,{X:()=>o});var i=a(6934),n={class:"label is-inline"},r=["innerHTML"];function o(e,t,a,o,l,s){var c=(0,i.g2)("help-button"),d=(0,i.g2)("b-checkbox"),u=(0,i.g2)("b-field");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(u,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-date","comparators")),1),t[2]||(t[2]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(c,{title:e.$i18n.getHelperTitle("tainacan-filter-date","comparators"),message:e.$i18n.getHelperMessage("tainacan-filter-date","comparators")},null,8,["title","message"])]),(0,i.Lk)("div",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.comparatorsObject,(function(e,a){return(0,i.uX)(),(0,i.Wv)(d,{key:a,modelValue:l.comparators,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return l.comparators=e}),t[1]||(t[1]=function(e){return s.emitValues()})],"native-value":a,disabled:l.comparators.indexOf(a)>=0&&l.comparators.length<=1,name:"date_filter_options[comparators]"},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",{innerHTML:e.symbol+" "+e.label},null,8,r)]})),_:2},1032,["modelValue","native-value","disabled"])})),128))])]})),_:1})])}},41229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(27281),n=a(94390);const r=(0,a(66262).A)(n.A,[["render",i.X]])},47767:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(14779)},48244:(e,t,a)=>{"use strict";var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),m=a.n(u),p=a(63494),f=a.n(p),h=a(64321),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},49979:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(9976)},52565:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".options-input[data-v-375888ad]{display:flex;flex-wrap:wrap;justify-content:space-between}.options-input .field[data-v-375888ad]:first-child{width:100%;margin-top:1em;margin-bottom:-1px}.options-input .field.has-addons[data-v-375888ad]{margin-bottom:.125em;width:100%;display:flex;flex-wrap:wrap}.options-input .field.has-addons>.control[data-v-375888ad]{flex-basis:50%}",""]);const l=o},55621:(e,t,a)=>{"use strict";a.d(t,{X:()=>p});var i=a(6934);function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var o={class:"label is-inline"},l={key:0,class:"is-flex"},s=["value"],c=["aria-label"],d={class:"icon"},u={key:1,class:"is-flex"},m={class:"icon"};function p(e,t,a,r,p,f){var h=(0,i.g2)("help-button"),g=(0,i.g2)("b-select"),v=(0,i.g2)("b-input"),b=(0,i.g2)("b-field"),y=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(b,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",o,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),t[4]||(t[4]=(0,i.Lk)("span",null," * ",-1)),(0,i.bF)(h,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])]),p.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(g,{modelValue:p.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return p.step=e}),f.onUpdateStep],name:"step_options"},{default:(0,i.k6)((function(){return[t[5]||(t[5]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[6]||(t[6]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[7]||(t[7]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[8]||(t[8]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[9]||(t[9]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[10]||(t[10]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[11]||(t[11]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[12]||(t[12]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[13]||(t[13]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),p.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==p.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:p.step},(0,i.v_)(p.step),9,s)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue","onUpdate:modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[1]||(t[1]=(0,i.D$)((function(e){return p.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",d,n(t[14]||(t[14]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[y,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,c)])),p.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(v,{modelValue:p.step,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return p.step=e}),f.onUpdateStep],name:"max_options",type:"number",step:"1"},null,8,["modelValue","onUpdate:modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[3]||(t[3]=(0,i.D$)((function(e){return p.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",m,n(t[15]||(t[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)])))),[[y,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1})])}},56392:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(10329),n=a(20423);a(37535);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-66a7ca25"]])},57672:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(81982),n=a(81295);const r=(0,a(66262).A)(n.A,[["render",i.X]])},58001:(e,t,a)=>{"use strict";a(31162)},61322:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(6443)},63118:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(38835)},64321:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,".intersection-explainer-section[data-v-9b609966]{margin-top:1.25rem;padding:.75em .75em .25em .75em;border:1px solid var(--tainacan-gray1)}.intersection-explainer-section legend[data-v-9b609966]{margin:-0.75em 0 0em 0;background-color:var(--tainacan-background-color);padding:5px 5px 5px 0px}.intersection-explainer-section .field[data-v-9b609966]{display:flex;gap:.5em;margin:0 -0.5em .5em 0em;align-items:center}.intersection-explainer-section .field strong[data-v-9b609966]{margin-left:.75em}.intersection-explainer-section button[data-v-9b609966]{border-radius:100em !important;margin-left:auto}.intersection-explainer-section .logic-divider[data-v-9b609966]{display:none}",""]);const l=o},67108:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(12217)},69721:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r),l=a(4417),s=a.n(l),c=new URL(a(78591),a.b),d=o()(n()),u=s()(c);d.push([e.id,`.filters-list-page{padding-bottom:0}.filters-list-page .column{overflow-x:hidden;overflow-y:auto;padding:.75em 0}.filters-list-page .column>section.field{position:absolute}.filters-list-page .column:not(.available-metadata-area){margin-right:30px;flex-grow:2}@media screen and (max-width: 1023px){.filters-list-page .column:not(.available-metadata-area){margin-right:0}}.filters-list-page .column h2,.filters-list-page .column h3{font-weight:500}.filters-list-page .sub-header{display:flex;align-items:center;justify-content:space-between;padding:.5em 1em .5em .5em}.filters-list-page .sub-header .header-item{margin-left:.75rem;margin-bottom:0px}.filters-list-page .sub-header h2,.filters-list-page .sub-header h3{margin-right:auto}.filters-list-page .loading-spinner{animation:spinAround 500ms infinite linear;border:2px solid var(--tainacan-gray2);border-radius:290486px;border-right-color:rgba(0,0,0,0);border-top-color:rgba(0,0,0,0);content:"";display:inline-block;height:1em;width:1em}.filters-list-page .active-filters-area{font-size:.875em;margin-left:1.5em;padding-right:1em;padding-top:1em;min-height:330px}@media screen and (max-width: 1024px){.filters-list-page .active-filters-area{min-height:45px;margin:0;padding-right:0em}}@media screen and (max-width: 1216px){.filters-list-page .active-filters-area{padding-right:1em}}.filters-list-page .active-filters-area.filters-area-receive{border:1px dashed var(--tainacan-gray4)}.filters-list-page .active-filters-area .collapse{display:initial}.filters-list-page .active-filters-area .active-filter-item{background-color:var(--tainacan-white);padding:.813em .9em;margin:4px;min-height:2.8571em;position:relative;display:block;transition:top .1s ease;cursor:grab;border-radius:var(--tainacan-button-border-radius, 3px)}.filters-list-page .active-filters-area .active-filter-item form.tainacan-form{padding:1em 2em;margin-top:1em;border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2)}.filters-list-page .active-filters-area .active-filter-item>.field,.filters-list-page .active-filters-area .active-filter-item form{background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons{display:flex;flex-direction:column;position:absolute;overflow:hidden;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--tainacan-button-border-radius, 3px);border-bottom-left-radius:var(--tainacan-button-border-radius, 3px);font-size:.938em;left:0em;top:0px;opacity:0;visibility:hidden;transition:opacity .2s ease,left .2s ease}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button{border:none;background:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item .sorting-buttons button:hover{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item:not(.not-sortable-item):hover .sorting-buttons{opacity:1;visibility:visible;left:-1.062em}.filters-list-page .active-filters-area .active-filter-item .handle{padding-right:6em;border-radius:var(--tainacan-button-border-radius, 0px);white-space:nowrap;display:flex}.filters-list-page .active-filters-area .active-filter-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .active-filters-area .active-filter-item .filter-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:.4em;margin-right:.4em}.filters-list-page .active-filters-area .active-filter-item .filter-name.is-danger{color:var(--tainacan-danger) !important}.filters-list-page .active-filters-area .active-filter-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.filters-list-page .active-filters-area .active-filter-item .not-saved{font-style:italic;font-weight:bold;color:var(--tainacan-danger);margin-left:.5em}.filters-list-page .active-filters-area .active-filter-item .controls{font-size:.875em;position:absolute;right:11px;top:11px;display:flex;align-items:center}.filters-list-page .active-filters-area .active-filter-item .controls .icon{width:2em}.filters-list-page .active-filters-area .active-filter-item .controls .icon i,.filters-list-page .active-filters-area .active-filter-item .controls .icon i:before{font-size:1.25em}.filters-list-page .active-filters-area .active-filter-item.not-sortable-item,.filters-list-page .active-filters-area .active-filter-item.not-sortable-item:hover{cursor:default;background-color:var(--tainacan-white) !important}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover{cursor:default}.filters-list-page .active-filters-area .active-filter-item.not-focusable-item .metadatum-name,.filters-list-page .active-filters-area .active-filter-item.not-focusable-item:hover .metadatum-name{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item),.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover{color:var(--tainacan-gray3)}.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item) .not-saved,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .label-details,.filters-list-page .active-filters-area .active-filter-item.disabled-filter:not(.not-sortable-item):hover .not-saved{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .active-filters-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise1)}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .label-details,.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .not-saved{color:var(--tainacan-gray4) !important}.filters-list-page .active-filters-area .active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-secondary)}.filters-list-page .active-filters-area .available-metadatum-item:not(.sortable-ghost):not(.disabled-metadatum){display:none;visibility:hidden}.filters-list-page .active-filters-area .sortable-ghost{border:1px dashed var(--tainacan-gray2);background:var(--tainacan-white);display:block;padding:.7em .9em;margin:4px;height:2.8571em;position:relative}.filters-list-page .active-filters-area .sortable-ghost .grip-icon{color:var(--tainacan-white)}.filters-list-page .available-metadata-area{padding:0px 0px 10px 10px;margin:0;max-width:600px;min-width:41.66666667%}@media screen and (max-width: 1023px){.filters-list-page .available-metadata-area{max-width:100%;padding:10px}.filters-list-page .available-metadata-area h2,.filters-list-page .available-metadata-area h3{margin:1em 0em 1em 0em !important}.filters-list-page .available-metadata-area .available-metadatum-item::before,.filters-list-page .available-metadata-area .available-metadatum-item::after{display:none !important}}.filters-list-page .available-metadata-area h2,.filters-list-page .available-metadata-area h3{margin:.875em 0em 1em 0em;font-weight:500}.filters-list-page .available-metadata-area>.field{font-size:.875em;padding-right:1em;padding-left:1em}.filters-list-page .available-metadata-area .available-metadatum-item{padding:.6em;margin:4px 4px 4px 1.2em;background-color:var(--tainacan-white);cursor:pointer;left:0;height:2.8571em;position:relative;border:1px solid var(--tainacan-gray2);border-radius:var(--tainacan-button-border-radius, 0px);transition:left .2s ease}.filters-list-page .available-metadata-area .available-metadatum-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.filters-list-page .available-metadata-area .available-metadatum-item .icon-level-identifier{position:relative;bottom:6px}.filters-list-page .available-metadata-area .available-metadatum-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-left:.4em;display:inline-block;width:calc(100% - 60px)}.filters-list-page .available-metadata-area .available-metadatum-item:after,.filters-list-page .available-metadata-area .available-metadatum-item:before{content:"";display:block;position:absolute;right:100%;width:0;height:0;border-style:solid;border-radius:var(--tainacan-button-border-radius, 0px)}.filters-list-page .available-metadata-area .available-metadatum-item:after{top:-1px;border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:calc(-19px + var(--tainacan-button-border-radius, 0px)/2)}.filters-list-page .available-metadata-area .available-metadatum-item:before{top:-1px;border-color:rgba(0,0,0,0) var(--tainacan-gray2) rgba(0,0,0,0) rgba(0,0,0,0);border-right-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;left:calc(-20px + var(--tainacan-button-border-radius, 0px)/2)}.filters-list-page .available-metadata-area .available-metadatum-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.filters-list-page .available-metadata-area .sortable-drag{opacity:1 !important}.filters-list-page .available-metadata-area .compound-metadatum-label{font-weight:bold;color:var(--tainacan-gray3);padding:20px;position:relative;top:2px}.filters-list-page .available-metadata-area .available-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.filters-list-page .available-metadata-area .available-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise2);position:relative;left:-4px}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:rgba(0,0,0,0) var(--tainacan-turquoise1) rgba(0,0,0,0) rgba(0,0,0,0)}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:rgba(0,0,0,0) var(--tainacan-turquoise2) rgba(0,0,0,0) rgba(0,0,0,0)}.filters-list-page .available-metadata-area .available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-secondary) !important}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item){background-color:var(--tainacan-blue1);border-color:var(--tainacan-blue2)}.filters-list-page .inherited-filter.active-filter-item:hover:not(.not-sortable-item) .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-filter .sorting-buttons button{background:var(--tainacan-blue1)}.filters-list-page .inherited-filter .sorting-buttons button:hover{color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type=checkbox]:checked+.check{border:1.5px solid var(--tainacan-blue5)}.filters-list-page .inherited-metadatum .switch.is-small input[type=checkbox]:checked+.check::before{background-color:var(--tainacan-blue5)}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover{background-color:var(--tainacan-blue1) !important;border-color:var(--tainacan-blue2) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover .grip-icon{color:var(--tainacan-blue5) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:after{border-color:rgba(0,0,0,0) var(--tainacan-blue1) rgba(0,0,0,0) rgba(0,0,0,0) !important}.filters-list-page .inherited-metadatum.available-metadatum-item:not(.disabled-metadatum):hover:before{border-color:rgba(0,0,0,0) var(--tainacan-blue2) rgba(0,0,0,0) rgba(0,0,0,0) !important}.filters-list-page .child-metadatum{margin-left:42px !important}.filters-list-page .tainacan-modal-content .column{overflow:visible;margin:0}.filters-list-page .tainacan-modal-content .filter-types-container{height:100%;display:flex;flex-direction:column;justify-content:center}.filters-list-page .tainacan-modal-content .filter-types-container p{margin-bottom:16px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type{border-bottom:1px solid var(--tainacan-gray2);padding:15px 8.3333333%;cursor:pointer}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:first-child{margin-top:15px}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:last-child{border-bottom:none}.filters-list-page .tainacan-modal-content .filter-types-container .filter-type:hover{background-color:var(--tainacan-gray2)}.filters-list-page .tainacan-modal-content .filter-type-preview{background:var(--tainacan-gray1);margin:12px auto;padding:12px 30px;border-radius:3px;z-index:9999999999999;width:218px;display:flex;align-items:center;justify-content:center;pointer-events:none;cursor:none;flex-wrap:wrap;max-width:260px;width:100%;height:100%;min-height:290px;align-items:normal}@media screen and (max-width: 1023px){.filters-list-page .tainacan-modal-content .filter-type-preview{max-width:100%}}.filters-list-page .tainacan-modal-content .filter-type-preview .filter-type-label{font-weight:500;color:var(--tainacan-info-color);width:100%;font-size:1em;margin-left:-16px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .collapse-handle{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview input,.filters-list-page .tainacan-modal-content .filter-type-preview select,.filters-list-page .tainacan-modal-content .filter-type-preview textarea,.filters-list-page .tainacan-modal-content .filter-type-preview .input,.filters-list-page .tainacan-modal-content .filter-type-preview .tags,.filters-list-page .tainacan-modal-content .filter-type-preview .tag{pointer-events:none;cursor:none;background-color:hsla(0,0%,100%,.6) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control,.filters-list-page .tainacan-modal-content .filter-type-preview .autocomplete>.control>input,.filters-list-page .tainacan-modal-content .filter-type-preview .dropdown-content{background-color:var(--tainacan-gray0) !important}.filters-list-page .tainacan-modal-content .filter-type-preview .taginput{margin-bottom:80px}.filters-list-page .tainacan-modal-content .filter-type-preview input[type=checkbox]:checked+.check{background:hsla(0,0%,100%,.6) url(${u}) no-repeat center center !important}.filters-list-page .tainacan-modal-content .filter-type-preview textarea{min-height:70px}.filters-list-page .tainacan-modal-content .filter-type-preview .field{width:100%;margin:6px}.filters-list-page .tainacan-modal-content .filter-type-preview .field .label{color:var(--tainacan-label-color);font-weight:normal}.filters-list-page .tainacan-modal-content .filter-type-preview .add-new-term{font-size:.75em;text-decoration:underline;margin:.875em 1.5em}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container{display:flex}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .field,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .field{margin:0}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown{width:auto}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button{padding:0 .5em !important;height:auto !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown),.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-trigger button i:not(.tainacan-icon-arrowdown){margin-top:-3px;font-size:1.5em;font-style:normal;color:var(--tainacan-info-color)}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .dropdown .dropdown-menu,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .dropdown .dropdown-menu{display:block !important}.filters-list-page .tainacan-modal-content .filter-type-preview .numeric-filter-container .datepicker,.filters-list-page .tainacan-modal-content .filter-type-preview .date-filter-container .datepicker{flex-shrink:0;max-width:70%}.tainacan-repository-level-colors .tainacan-form.sub-header{padding-left:0 !important}.tainacan-repository-level-colors .filters-list-page .active-filters-area{margin-left:0 !important}`,""]);const m=d},74042:(e,t,a)=>{"use strict";a.d(t,{$J:()=>u,X3:()=>m,lg:()=>d,zt:()=>p});var i=a(75552),n=a(55373),r=a.n(n),o=a(95093),l=a.n(o);function s(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return c(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var d={methods:{getSamplePermalink:function(e,t,a){return i.M3.post("",r().stringify({action:"tainacan-sample-permalink",post_id:e,new_title:t,new_slug:a}))}}},u={created:function(){var e=navigator.language;l().locale(e);var t=l().localeData();this.dateFormat=t.longDateFormat("L")?t.longDateFormat("L"):"pt_BR"==t._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(e){return e=new Date(e.replace(/-/g,"/")),l()(e,l().ISO_8601).format(this.dateFormat)}}},m={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var e=this;return this.formHooks[this.entityName]["begin-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getBeginRightForm:function(){var e=this;return this.formHooks[this.entityName]["begin-right"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndLeftForm:function(){var e=this;return this.formHooks[this.entityName]["end-left"].map((function(t){return e.checkFormConditionals(t)})).join("")},getEndRightForm:function(){var e=this;return this.formHooks[this.entityName]["end-right"].map((function(t){return e.checkFormConditionals(t)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var i=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var n=document.getElementById("form-"+this.entityName+"-"+i);if(n){var r,o=s(n.elements);try{for(o.s();!(r=o.n()).done;){var l=r.value;"checkbox"==l.type||"select"==l.type&&null!=l.multiple&&1==l.multiple?l.checked&&null!=l.name&&""!=l.name&&(Array.isArray(e[l.name])||(e[l.name]=[]),e[l.name].push(l.value)):"radio"==l.type?l.checked&&null!=l.name&&""!=l.name&&(e[l.name]=l.value):e[l.name]=l.value}}catch(e){o.e(e)}finally{o.f()}}}}},updateExtraFormData:function(e){for(var t=0,a=["begin-left","begin-right","end-left","end-right"];t<a.length;t++){var i=a[t];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var n=document.getElementById("form-"+this.entityName+"-"+i);if(n){var r,o=s(n.elements);try{var l=function(){for(var t=r.value,a=0,i=Object.keys(e);a<i.length;a++){var n=i[a];if(t.name==n)if(Array.isArray(e[n])){var o=e[n].find((function(e){return e==t.value}));t.checked=null!=o}else null!=e[n]&&null!=e[n]&&""!=e[n]&&("radio"==t.type?t.checked=e[n]==t.value:t.value=e[n])}};for(o.s();!(r=o.n()).done;)l()}catch(e){o.e(e)}finally{o.f()}}}}},checkFormConditionals:function(e){if(!e.form)return"";if(!e.conditional||!Object.keys(e.conditional)||!Object.keys(e.conditional).length)return e.form;var t=e.conditional.attribute,a=e.conditional.value;if(t&&a)return this.form&&this.form[t]===a?e.form:"";for(var i=0,n=Object.keys(e.conditional);i<n.length;i++){var r=n[i];if(!this.form||!this.form[r]||this.form[r]!==e.conditional[r])return""}return e.form}}},p={props:{chartData:{},isFetchingData:!1},data:function(){return{isBuildingChart:!1,chartSeries:[],chartOptions:{}}}}},76384:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1},methods:{onUpdateStep:function(e){this.$emit("update:model-value",{step:e})}}}},78101:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(97062)},78591:e=>{"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 1 1%27%3E%3Cpath style=%27fill:rgb%2869,70,71%29%27 d=%27M 0.04038059,0.6267767 0.14644661,0.52071068 0.42928932,0.80355339 0.3232233,0.90961941 z M 0.21715729,0.80355339 0.85355339,0.16715729 0.95961941,0.2732233 0.3232233,0.90961941 z%27%3E%3C/path%3E%3C/svg%3E"},79230:(e,t,a)=>{"use strict";a.d(t,{X:()=>d});var i=a(6934),n={class:"label is-inline"},r={class:"label is-inline"},o={class:"control"},l=["title","onClick"],s={key:0,class:"control"},c=["title","onClick"];function d(e,t,a,d,u,m){var p=(0,i.g2)("help-button"),f=(0,i.g2)("b-checkbox"),h=(0,i.g2)("b-field"),g=(0,i.g2)("b-input");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(h,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",n,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag")),1),t[1]||(t[1]=(0,i.Lk)("span",null," ",-1)),(0,i.bF)(p,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","showIntervalOnTag"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","showIntervalOnTag")},null,8,["title","message"])]),(0,i.Lk)("div",null,[(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(f,{modelValue:u.showIntervalOnTag,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return u.showIntervalOnTag=e}),m.onUpdateShowIntervalOnTag]},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(e.$i18n.get("info_show_interval_on_tag")),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])]})),_:1})])]})),_:1}),(0,i.bF)(h,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",r,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals")),1),t[2]||(t[2]=(0,i.Lk)("span",null," ",-1)),(0,i.bF)(p,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-list-interval","intervals"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-list-interval","intervals")},null,8,["title","message"])]),(0,i.bF)(i.F,{name:"filter-item"},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(u.intervals,(function(a,n){return(0,i.uX)(),(0,i.CE)("div",{key:0+n,class:"options-input"},[(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(g,{modelValue:a.label,"onUpdate:modelValue":[function(e){return a.label=e},function(e){return m.onUpdate(a)}],expanded:"",placeholder:e.$i18n.get("label")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,i.bF)(h,null,{default:(0,i.k6)((function(){return[(0,i.bF)(g,{modelValue:a.from,"onUpdate:modelValue":[function(e){return a.from=e},function(e){return m.onUpdate(a,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_initial_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,i.bF)(g,{modelValue:a.to,"onUpdate:modelValue":[function(e){return a.to=e},function(e){return m.onUpdate(a,!0)}],expanded:"",type:"number",step:"0.01",placeholder:e.$i18n.get("info_final_value")},null,8,["modelValue","onUpdate:modelValue","placeholder"])]})),_:2},1024),(0,i.Lk)("p",o,[(0,i.Lk)("a",{role:"button",tabindex:"0",class:"add-link",title:e.$i18n.get("add_value"),onClick:function(e){return m.addInterval(n)}},[t[3]||(t[3]=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-add"})],-1)),(0,i.eW)("  "+(0,i.v_)(e.$i18n.get("add_value")),1)],8,l)]),u.intervals.length>1?((0,i.uX)(),(0,i.CE)("p",s,[(0,i.Lk)("a",{role:"button",tabindex:"0",class:"add-link",title:e.$i18n.get("remove_value"),onClick:function(e){return m.removeInterval(n)}},[t[4]||(t[4]=(0,i.Lk)("span",{class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon has-text-secondary tainacan-icon-repprovedcircle"})],-1)),(0,i.eW)("  "+(0,i.v_)(e.$i18n.get("remove_value")),1)],8,c)])):(0,i.Q3)("",!0)])})),128))]})),_:1})]})),_:1})])}},81295:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(76384)},81982:(e,t,a)=>{"use strict";a.d(t,{X:()=>i.X});var i=a(55621)},82915:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(31601),n=a.n(i),r=a(76314),o=a.n(r)()(n());o.push([e.id,"form#filterEditForm[data-v-66a7ca25]{padding:1.5em var(--tainacan-one-column) .5em var(--tainacan-one-column);border-top:1px solid var(--tainacan-gray2);border-bottom:1px solid var(--tainacan-gray2);margin-top:1em;font-size:1.125em}form#filterEditForm .options-columns[data-v-66a7ca25]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:none;column-count:2;-moz-column-gap:3em;column-gap:3em;column-rule:none;padding-bottom:.5em}form#filterEditForm .options-columns>.field[data-v-66a7ca25],form#filterEditForm .options-columns>section[data-v-66a7ca25]{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}form#filterEditForm .options-columns .field>.field[data-v-66a7ca25]:not(:last-child){margin-bottom:0em}form#filterEditForm .options-columns .tainacan-help-tooltip-trigger[data-v-66a7ca25]{font-size:1.25em}@media screen and (max-width: 600px){form#filterEditForm .options-columns[data-v-66a7ca25]{-moz-column-count:1;column-count:1}}form#filterEditForm .two-thirds-layout-options[data-v-66a7ca25]{display:flex;-moz-column-gap:1em !important;column-gap:1em !important;-moz-column-span:all;column-span:all}form#filterEditForm .two-thirds-layout-options>.field[data-v-66a7ca25]:first-child{flex-grow:1;flex-shrink:0;margin-bottom:1em}form#filterEditForm .two-thirds-layout-options>.field[data-v-66a7ca25]:nth-child(2){width:-moz-min-content;width:min-content;flex-shrink:1;flex-grow:0}@media screen and (max-width: 600px){form#filterEditForm .two-thirds-layout-options[data-v-66a7ca25]{flex-direction:column;margin-bottom:1em}}form#filterEditForm .form-submit[data-v-66a7ca25]{margin-bottom:.75em}",""]);const l=o},84263:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(95996)},85743:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});const i={props:{modelValue:Object},emits:["update:model-value"],data:function(){return{comparatorsObject:Object,comparators:Array}},created:function(){this.comparators=this.modelValue&&this.modelValue.comparators?this.modelValue.comparators:["=","!=",">",">=","<","<="],this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to"),enabled:this.comparators.indexOf("=")<0?"no":"yes"},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to"),enabled:this.comparators.indexOf("!=")<0?"no":"yes"},">":{symbol:"&#62;",label:this.$i18n.get("greater_than"),enabled:this.comparators.indexOf(">")<0?"no":"yes"},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to"),enabled:this.comparators.indexOf(">=")<0?"no":"yes"},"<":{symbol:"&#60;",label:this.$i18n.get("less_than"),enabled:this.comparators.indexOf("<")<0?"no":"yes"},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to"),enabled:this.comparators.indexOf("<=")<0?"no":"yes"}}},methods:{emitValues:function(){this.$emit("update:model-value",{comparators:this.comparators})}}}},87684:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var i=a(49979),n=a(89267);a(1165);const r=(0,a(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-9b609966"]])},89267:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(29868)},90266:(e,t,a)=>{"use strict";a.d(t,{X:()=>$});var i=a(6934);function n(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}var o={class:"label is-inline"},l={style:{"font-size":"1.35em"}},s={key:0,class:"is-flex"},c=["value"],d=["aria-label"],u={class:"icon"},m={key:1,class:"is-flex"},p={class:"icon"},f={class:"label is-inline"},h={value:""},g=["value"],v={key:0,class:"intersection-explainer-section"},b={style:{"font-size":"1.35em"}},y=["value","innerHTML"],_=["innerHTML"],k={key:2},w={class:"icon"},F={class:"icon"},x={class:"logic-divider"},L=["value","innerHTML"],C=["innerHTML"],E={class:"icon"},O={class:"icon"};function $(e,t,a,r,$,S){var T=(0,i.g2)("help-button"),M=(0,i.g2)("b-select"),V=(0,i.g2)("b-input"),A=(0,i.g2)("b-field"),I=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(A,{addons:!1},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",o,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step")),1),t[17]||(t[17]=(0,i.Lk)("span",null," * ",-1)),(0,i.Lk)("span",l,[(0,i.bF)(T,{title:e.$i18n.getHelperTitle("tainacan-filter-numeric-interval","step"),message:e.$i18n.getHelperMessage("tainacan-filter-numeric-interval","step")},null,8,["title","message"])])]),$.showEditStepOptions?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(M,{modelValue:$.step,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return $.step=e}),t[1]||(t[1]=function(e){return S.emitValues()})],name:"step_options"},{default:(0,i.k6)((function(){return[t[18]||(t[18]=(0,i.Lk)("option",{value:"0.001"}," 0.001 ",-1)),t[19]||(t[19]=(0,i.Lk)("option",{value:"0.01"}," 0.01 ",-1)),t[20]||(t[20]=(0,i.Lk)("option",{value:"0.1"}," 0.1 ",-1)),t[21]||(t[21]=(0,i.Lk)("option",{value:"1"}," 1 ",-1)),t[22]||(t[22]=(0,i.Lk)("option",{value:"2"}," 2 ",-1)),t[23]||(t[23]=(0,i.Lk)("option",{value:"5"}," 5 ",-1)),t[24]||(t[24]=(0,i.Lk)("option",{value:"10"}," 10 ",-1)),t[25]||(t[25]=(0,i.Lk)("option",{value:"100"}," 100 ",-1)),t[26]||(t[26]=(0,i.Lk)("option",{value:"1000"}," 1000 ",-1)),$.step&&![.001,.01,.1,1,2,5,10,100,1e3].find((function(e){return e==$.step}))?((0,i.uX)(),(0,i.CE)("option",{key:0,value:$.step},(0,i.v_)($.step),9,c)):(0,i.Q3)("",!0)]})),_:1},8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right","aria-label":e.$i18n.get("edit"),onClick:t[2]||(t[2]=(0,i.D$)((function(e){return $.showEditStepOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",u,n(t[27]||(t[27]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])],8,d)])),$.showEditStepOptions?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.bF)(V,{modelValue:$.step,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return $.step=e}),t[4]||(t[4]=function(e){return S.emitValues()})],name:"max_options",type:"number",step:"1"},null,8,["modelValue"]),(0,i.Lk)("button",{class:"button is-white is-pulled-right",onClick:t[5]||(t[5]=(0,i.D$)((function(e){return $.showEditStepOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",p,n(t[28]||(t[28]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-close has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(A,{addons:!1,type:$.metadataType,message:$.metadataMessage},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",f,[(0,i.eW)((0,i.v_)(e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")),1),(0,i.Lk)("span",{class:(0,i.C4)($.metadataType)}," * ",2),(0,i.bF)(T,{title:e.$i18n.getHelperTitle("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id"),message:e.$i18n.getHelperMessage("tainacan-filter-numerics-intersection","secondary_filter_metadatum_id")},null,8,["title","message"])]),(0,i.bF)(M,{modelValue:$.secondNumericMetadatumId,"onUpdate:modelValue":t[6]||(t[6]=function(e){return $.secondNumericMetadatumId=e}),name:"numerics_intersect[secondary_filter_metadatum_id]",placeholder:e.$i18n.get("instruction_select_second_numeric_to_compare"),loading:$.loading,expanded:"",onChange:t[7]||(t[7]=function(e){return S.onUpdateSecondNumericMetadatumId()}),onFocus:t[8]||(t[8]=function(e){return S.clear()})},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",h,(0,i.v_)(e.$i18n.get("instruction_select_second_numeric_to_compare")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)($.metadata.filter((function(e){return e.id!=a.filter.metadatum_id})),(function(e){return(0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,g)})),128))]})),_:1},8,["modelValue","placeholder","loading"])]})),_:1},8,["type","message"]),$.secondNumericMetadatumId?((0,i.uX)(),(0,i.CE)("fieldset",v,[(0,i.Lk)("legend",null,[(0,i.Lk)("p",null,[(0,i.Lk)("strong",null,(0,i.v_)(e.$i18n.get("info_intersection_explainer")),1),(0,i.Lk)("span",b,[(0,i.bF)(T,{title:e.$i18n.get("label_comparators"),message:e.$i18n.get("info_intersection_rules")},null,8,["title","message"])])])]),(0,i.bF)(A,{addons:!1},{default:(0,i.k6)((function(){return[$.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.Wv)(M,{key:0,modelValue:$.firstComparator,"onUpdate:modelValue":[t[9]||(t[9]=function(e){return $.firstComparator=e}),t[10]||(t[10]=function(e){return S.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)($.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,y)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:$.comparatorsObject[$.firstComparator].symbol},null,8,_)),a.filter.metadatum?((0,i.uX)(),(0,i.CE)("p",k,[t[29]||(t[29]=(0,i.eW)("   ",-1)),(0,i.Lk)("em",null,(0,i.v_)(a.filter.metadatum.metadatum_name),1)])):(0,i.Q3)("",!0),$.showEditFirstComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:4,class:"button is-white is-pulled-right",onClick:t[12]||(t[12]=(0,i.D$)((function(e){return $.showEditFirstComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",F,n(t[31]||(t[31]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[11]||(t[11]=(0,i.D$)((function(e){return $.showEditFirstComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",w,n(t[30]||(t[30]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1}),(0,i.Lk)("div",x,[(0,i.Lk)("span",null,(0,i.v_)(e.$i18n.get("label_and")),1)]),(0,i.bF)(A,{addons:!1},{default:(0,i.k6)((function(){return[$.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.Wv)(M,{key:0,modelValue:$.secondComparator,"onUpdate:modelValue":[t[13]||(t[13]=function(e){return $.secondComparator=e}),t[14]||(t[14]=function(e){return S.emitValues()})]},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)($.comparatorsObject,(function(e,t){return(0,i.uX)(),(0,i.CE)("option",{key:t,value:t,innerHTML:e.symbol+" "+e.label},null,8,L)})),128))]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("strong",{key:1,innerHTML:$.comparatorsObject[$.secondComparator].symbol},null,8,C)),(0,i.Lk)("p",null,[t[32]||(t[32]=(0,i.eW)(" ",-1)),(0,i.Lk)("em",null,(0,i.v_)($.secondNumericMetadatumName),1)]),$.showEditSecondComparatorOptions?((0,i.uX)(),(0,i.CE)("button",{key:3,class:"button is-white is-pulled-right",onClick:t[16]||(t[16]=(0,i.D$)((function(e){return $.showEditSecondComparatorOptions=!1}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",O,n(t[34]||(t[34]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-approved has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("close"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])])):((0,i.uX)(),(0,i.CE)("button",{key:2,class:"button is-white is-pulled-right",onClick:t[15]||(t[15]=(0,i.D$)((function(e){return $.showEditSecondComparatorOptions=!0}),["prevent"]))},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",E,n(t[33]||(t[33]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-edit has-text-secondary"},null,-1)])))),[[I,{content:e.$i18n.get("edit"),autoHide:!0,placement:"bottom",popperClass:["tainacan-tooltip","tooltip"]}]])]))]})),_:1})])):(0,i.Q3)("",!0)])}},94390:(e,t,a)=>{"use strict";a.d(t,{A:()=>i.A});var i=a(85743)},94438:(e,t,a)=>{"use strict";var i=a(85072),n=a.n(i),r=a(97825),o=a.n(r),l=a(77659),s=a.n(l),c=a(55056),d=a.n(c),u=a(10540),m=a.n(u),p=a(63494),f=a.n(p),h=a(82915),g={};g.styleTagTransform=f(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=m();n()(h.A,g),h.A&&h.A.locals&&h.A.locals},94475:(e,t,a)=>{"use strict";a(16846)},95996:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var i=a(75552);function n(){var e,t,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.toStringTag||"@@toStringTag";function l(a,i,n,o){var l=i&&i.prototype instanceof c?i:c,d=Object.create(l.prototype);return r(d,"_invoke",function(a,i,n){var r,o,l,c=0,d=n||[],u=!1,m={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,a){return r=t,o=0,l=e,m.n=a,s}};function p(a,i){for(o=a,l=i,t=0;!u&&c&&!n&&t<d.length;t++){var n,r=d[t],p=m.p,f=r[2];a>3?(n=f===i)&&(l=r[(o=r[4])?5:(o=3,3)],r[4]=r[5]=e):r[0]<=p&&((n=a<2&&p<r[1])?(o=0,m.v=i,m.n=r[1]):p<f&&(n=a<3||r[0]>i||i>f)&&(r[4]=a,r[5]=i,m.n=f,o=0))}if(n||a>1)return s;throw u=!0,i}return function(n,d,f){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&p(d,f),o=d,l=f;(t=o<2?e:l)||!u;){r||(o?o<3?(o>1&&(m.n=-1),p(o,l)):m.n=l:m.v=l);try{if(c=2,r){if(o||(n="next"),t=r[n]){if(!(t=t.call(r,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,o<2&&(o=0)}else 1===o&&(t=r.return)&&t.call(r),o<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),o=1);r=e}else if((t=(u=m.n<0)?l:a.call(i,m))!==s)break}catch(t){r=e,o=1,l=t}finally{c=1}}return{value:t,done:u}}}(a,n,o),!0),d}var s={};function c(){}function d(){}function u(){}t=Object.getPrototypeOf;var m=[][i]?t(t([][i]())):(r(t={},i,(function(){return this})),t),p=u.prototype=c.prototype=Object.create(m);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,r(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return d.prototype=u,r(p,"constructor",u),r(u,"constructor",d),d.displayName="GeneratorFunction",r(u,o,"GeneratorFunction"),r(p),r(p,o,"Generator"),r(p,i,(function(){return this})),r(p,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:l,m:f}})()}function r(e,t,a,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}r=function(e,t,a,i){function o(t,a){r(e,t,(function(e){return this._invoke(t,a,e)}))}t?n?n(e,t,{value:a,enumerable:!i,configurable:!i,writable:!i}):e[t]=a:(o("next",0),o("throw",1),o("return",2))},r(e,t,a,i)}function o(e,t,a,i,n,r,o){try{var l=e[r](o),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(i,n)}const l={props:{filter:Object,modelValue:Object,errors:Object},emits:["update:model-value"],data:function(){return{step:[Number,String],showEditStepOptions:!1,metadata:[],loading:!0,metadataType:"",metadataMessage:"",secondNumericMetadatumId:[Number,String],secondNumericMetadatumName:String,firstComparator:String,secondComparator:String,comparatorsObject:{},acceptNumericInterval:String,showEditFirstComparatorOptions:!1,showEditSecondComparatorOptions:!1}},watch:{errors:function(){this.errors&&""!==this.errors.secondary_filter_metadatum_id?this.setErrorsAttributes("is-danger",this.errors.secondary_filter_metadatum_id):this.setErrorsAttributes("","")}},created:function(){this.step=this.modelValue&&this.modelValue.step?this.modelValue.step:1,this.secondNumericMetadatumId=this.modelValue&&this.modelValue.secondary_filter_metadatum_id?this.modelValue.secondary_filter_metadatum_id:"",this.secondNumericMetadatumName=this.modelValue&&this.modelValue.secondary_filter_metadatum_name?this.modelValue.secondary_filter_metadatum_name:"",this.firstComparator=this.modelValue&&this.modelValue.first_comparator?this.modelValue.first_comparator:">=",this.secondComparator=this.modelValue&&this.modelValue.second_comparator?this.modelValue.second_comparator:"<=",this.acceptNumericInterval=this.modelValue&&this.modelValue.accept_numeric_interval?this.modelValue.accept_numeric_interval:"no",this.loading=!0,this.fetchMetadata(),this.comparatorsObject={"=":{symbol:"&#61;",label:this.$i18n.get("is_equal_to")},"!=":{symbol:"&#8800;",label:this.$i18n.get("is_not_equal_to")},">":{symbol:"&#62;",label:this.$i18n.get("greater_than")},">=":{symbol:"&#8805;",label:this.$i18n.get("greater_than_or_equal_to")},"<":{symbol:"&#60;",label:this.$i18n.get("less_than")},"<=":{symbol:"&#8804;",label:this.$i18n.get("less_than_or_equal_to")}}},methods:{fetchMetadata:function(){var e,t=this;return(e=n().m((function e(){var a;return n().w((function(e){for(;;)switch(e.n){case 0:return a=t.filter.collection_id&&"default"!==t.filter.collection_id?"/collection/"+t.filter.collection_id+"/metadata":"/metadata",a+="?metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Numeric&nopaging=1&exclude="+t.filter.metadatum_id,e.n=1,i.UY.get(a).then((function(e){t.loading=!1,t.metadata=e.data?e.data:[]})).catch((function(e){t.loading=!1,t.$console.log(e)}));case 1:return e.a(2,e.v)}}),e)})),function(){var t=this,a=arguments;return new Promise((function(i,n){var r=e.apply(t,a);function l(e){o(r,i,n,l,s,"next",e)}function s(e){o(r,i,n,l,s,"throw",e)}l(void 0)}))})()},onUpdateSecondNumericMetadatumId:function(){var e=this,t=this.metadata.find((function(t){return t.id==e.secondNumericMetadatumId}));this.secondNumericMetadatumName=t?t.name:"",this.secondNumericMetadatumId=t?t.id:"",this.emitValues()},emitValues:function(){this.$emit("update:model-value",{step:this.step,first_comparator:this.firstComparator,second_comparator:this.secondComparator,secondary_filter_metadatum_id:this.secondNumericMetadatumId,secondary_filter_metadatum_name:this.secondNumericMetadatumName,accept_numeric_interval:this.acceptNumericInterval})},setErrorsAttributes:function(e,t){this.metadataType=e,this.metadataMessage=t},clear:function(){this.metadataType="",this.metadataMessage=""}}}},97062:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var i=a(6934),n=a(40834),r=a(56392),o=a(3012),l=a(48766);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function c(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return d(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?d(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var _n=0,i=function(){};return{s:i,n:function(){return _n>=e.length?{done:!0}:{done:!1,value:e[_n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,o=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw n}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var i=a.call(e,t||"default");if("object"!=s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f={name:"FiltersPage",components:{FilterEditionForm:r.A,Sortable:l.L},beforeRouteLeave:function(e,t,a){var i=this,n=!1;for(var r in this.editForms)this.editForms[r].saved||(n=!0);""!=this.openedFilterId&&null!=this.openedFilterId||n?this.$buefy.modal.open({component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:this.$i18n.get("info_warning_filters_not_saved"),onConfirm:function(){i.onEditionCanceled(),a()}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]}):a()},data:function(){return{isRepositoryLevel:!1,collectionId:"",isDraggingFromAvailable:!1,isLoadingMetadatumTypes:!0,isLoadingFilters:!1,isLoadingFilterTypes:!1,isLoadingFilter:!1,isSelectingFilterType:!1,isUpdatingFiltersOrder:!1,openedFilterId:"",formWithErrors:"",editForms:{},allowedFilterTypes:[],selectedFilterType:{},choosenMetadatum:{},newFilterIndex:0,availableMetadata:[],filterTypes:[],currentFilterTypePreview:void 0,columnsTopY:0,filtersSearchCancel:void 0,metadataSearchCancel:void 0,filterNameFilterString:"",metadatumNameFilterString:""}},computed:m(m({},(0,n.L8)("collection",{collection:"getCollection"})),{},{activeFiltersList:{get:function(){return this.getFilters()},set:function(e){this.updateFilters(e)}}}),watch:{"$route.query":{handler:function(e){if(null!=e.edit){var t=this.activeFiltersList.findIndex((function(t){return t.id==e.edit}));t>=0&&this.editFilter(this.activeFiltersList[t])}},immediate:!0,deep:!0}},created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},mounted:function(){var e=this;(0,i.dY)((function(){e.columnsTopY=e.$refs.filterEditionPageColumns?e.$refs.filterEditionPageColumns.getBoundingClientRect().top:0})),this.isRepositoryLevel?this.collectionId="default":this.collectionId=this.$route.params.collectionId,this.isLoadingFilterTypes=!0,this.fetchFilterTypes().then((function(t){e.isLoadingFilterTypes=!1,e.filterTypes=t})).catch((function(){e.isLoadingFilterTypes=!1})),null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Filters search Canceled."),this.refreshFilters(),this.$refs.filterTypeModal.onCancel=function(){e.onCancelFilterTypeSelection()}},beforeUnmount:function(){null!=this.filtersSearchCancel&&this.filtersSearchCancel.cancel("Metadata search Canceled."),null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:m(m(m(m(m({},(0,n.i0)("filter",["fetchFilterTypes","fetchFilters","sendFilter","deleteFilter","updateFilters","updateCollectionFiltersOrder","moveFilterUp","moveFilterDown"])),(0,n.L8)("filter",["getFilters"])),(0,n.i0)("metadata",["fetchMetadata"])),(0,n.L8)("metadata",["getMetadata"])),{},{handleChangeOnFilter:function(e){switch(e.type){case"add":this.prepareFilterTypeSelection(this.availableMetadata[e.oldIndex],e.newIndex);break;case"remove":this.removeFilter(this.activeFiltersList[e.oldIndex]);break;case"change":case"update":var t=JSON.parse(JSON.stringify(this.activeFiltersList)),a=t.splice(e.oldIndex,1)[0];t.splice(e.newIndex,0,a),this.updateFilters(t),this.isRepositoryLevel||this.updateFiltersOrder()}},prepareFilterTypeSelection:function(e,t){this.choosenMetadatum=e,this.newFilterIndex=t,this.allowedFilterTypes=[],this.selectedFilterType={};var a,i=c(this.filterTypes);try{for(i.s();!(a=i.n()).done;){var n,r=a.value,o=c(r.supported_types);try{for(o.s();!(n=o.n()).done;){var l=n.value;e.metadata_type_object.primitive_type==l&&this.allowedFilterTypes.push(r)}}catch(e){o.e(e)}finally{o.f()}}}catch(e){i.e(e)}finally{i.f()}this.isSelectingFilterType=!0},addMetadatumViaButton:function(e,t){this.oldMetadatumIndex=t,this.availableMetadata.splice(t,1);var a=this.activeFiltersList.length;this.prepareFilterTypeSelection(e,a)},onFilterTypeSelected:function(e){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType=e,this.createChoosenFilter()},onCancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.allowedFilterTypes=[],this.currentFilterTypePreview=void 0,this.selectedFilterType={},this.availableMetadata.splice(this.oldMetadatumIndex,0,this.choosenMetadatum),this.choosenMetadatum={},this.activeFiltersList.splice(this.newFilterIndex,1)},handleChangeOnMetadata:function(e){"removed"==e.type&&(this.oldMetadatumIndex=e.removed.oldIndex)},updateFiltersOrder:function(){var e,t=this,a=[],i=c(this.activeFiltersList);try{for(i.s();!(e=i.n()).done;){var n=e.value;a.push({id:n.id,enabled:n.enabled})}}catch(e){i.e(e)}finally{i.f()}this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:a}).then((function(){t.isUpdatingFiltersOrder=!1})).catch((function(){t.isUpdatingFiltersOrder=!1}))},updateListOfMetadata:function(){var e,t=JSON.parse(JSON.stringify(this.getMetadata())),a={},i="",n=c(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;a[""+r.id]=r.name}}catch(e){n.e(e)}finally{n.f()}var o,l=c(t);try{for(l.s();!(o=l.n()).done;){var s=o.value;s.parent>0&&a[s.parent]&&(s.parent_name=a[s.parent],i!==s.parent_name&&(s.first_child=!0),i=s.parent_name)}}catch(e){l.e(e)}finally{l.f()}var d,u=c(this.activeFiltersList);try{for(u.s();!(d=u.n()).done;)for(var m=d.value,p=t.length-1;p>=0;p--)null!=m.metadatum&&m.metadatum.metadatum_id==t[p].id&&t.splice(p,1)}catch(e){u.e(e)}finally{u.f()}this.availableMetadata=t.filter((function(e){return"tainacan-compound"!=e.metadata_type_object.component&&"tainacan-geocoordinate"!=e.metadata_type_object.component}))},onChangeEnable:function(e,t){var a,i=this,n=[],r=c(this.activeFiltersList);try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push({id:o.id,enabled:o.enabled})}}catch(e){r.e(e)}finally{r.f()}n[t].enabled=e,this.isUpdatingFiltersOrder=!0,this.updateCollectionFiltersOrder({collectionId:this.collectionId,filtersOrder:n}).then((function(){i.isUpdatingFiltersOrder=!1})).catch((function(){i.isUpdatingFiltersOrder=!1}))},createChoosenFilter:function(){var e=this;this.sendFilter({collectionId:this.collectionId,metadatumId:this.choosenMetadatum.id,name:this.choosenMetadatum.parent_name?this.choosenMetadatum.name+" ("+this.choosenMetadatum.parent_name+")":this.choosenMetadatum.name,filterType:this.selectedFilterType.className,status:"auto-draft",isRepositoryLevel:this.isRepositoryLevel,newIndex:this.newFilterIndex}).then((function(t){e.isRepositoryLevel||e.updateFiltersOrder(),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[],e.toggleFilterEdition(t.id)})).catch((function(t){e.$console.error(t),e.newFilterIndex=0,e.choosenMetadatum={},e.selectedFilterType={},e.allowedFilterTypes=[]}))},removeFilter:function(e){var t=this,a="";e&&"object"===s(e)&&(void 0!==e.name&&null!==e.name&&""!==e.name?a=e.name:e.id&&(a="ID: "+e.id));var i=this.$i18n.getWithVariables("info_warning_filter_delete_%s",[a]);this.$buefy.modal.open({component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:i,onConfirm:function(){t.editForms[e.id]&&delete t.editForms[e.id],t.deleteFilter(e.id).then((function(){t.updateListOfMetadata()})).catch((function(e){t.$console.log(e)})),t.isRepositoryLevel||t.updateFiltersOrder()}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},confirmSelectedFilterType:function(){this.isSelectingFilterType=!1,this.createChoosenFilter()},cancelFilterTypeSelection:function(){this.isSelectingFilterType=!1,this.availableMetadata.push(this.choosenMetadatum),this.choosenMetadatum={},this.allowedFilterTypes=[],this.selectedFilterType={},this.newFilterIndex=0},toggleFilterEdition:function(e){this.openedFilterId==e?(this.openedFilterId="",this.$router.push({query:{}})):this.$router.push({query:{edit:e}})},editFilter:function(e){null==this.editForms[e.id]&&(this.editForms[e.id]=JSON.parse(JSON.stringify(e)),this.editForms[e.id].saved=!0,"auto-draft"==this.editForms[e.id].status&&(this.editForms[e.id].status="publish",this.editForms[e.id].saved=!1)),this.openedFilterId=e.id},onEditionFinished:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.formWithErrors="",this.openedFilterId="",this.$router.push({query:{}})},moveFilterUpViaButton:function(e){this.moveFilterUp(e),this.updateFiltersOrder()},moveFilterDownViaButton:function(e){this.moveFilterDown(e),this.updateFiltersOrder()},getProperPreviewMinHeight:function(){var e,t=c(this.allowedFilterTypes);try{for(t.s();!(e=t.n()).done;){var a=e.value;if("tainacan-filter-taginput"==a.component||"tainacan-filter-checkbox"==a.component||"tainacan-filter-taxonomy-taginput"==a.component||"tainacan-filter-taxonomy-checkbox"==a.component)return 330}}catch(e){t.e(e)}finally{t.f()}return 190},refreshFilters:function(){var e=this;this.isLoadingFilters=!0,this.fetchFilters({collectionId:this.collectionId,isRepositoryLevel:this.isRepositoryLevel,isContextEdit:!this.isOnTheme,includeDisabled:!0}).then((function(t){t.request.then((function(){if(e.isLoadingFilters=!1,e.isLoadingMetadatumTypes=!0,null!=e.$route.query.edit){var t=e.activeFiltersList.findIndex((function(t){return t.id==e.$route.query.edit}));t>=0&&e.editFilter(e.activeFiltersList[t])}null!=e.metadataSearchCancel&&e.metadataSearchCancel.cancel("Metadata search Canceled."),e.fetchMetadata({collectionId:e.collectionId,isRepositoryLevel:e.isRepositoryLevel,isContextEdit:!0,parent:"any",includeControlMetadataTypes:!0}).then((function(t){t.request.then((function(){e.isLoadingMetadatumTypes=!1,e.updateListOfMetadata()})).catch((function(){e.isLoadingMetadatumTypes=!1})),e.metadataSearchCancel=t.source})).catch((function(){return e.isLoadingMetadatumTypes=!1}))})).catch((function(){return e.isLoadingFilters=!1})),e.filtersSearchCancel=t.source})).catch((function(){return e.isLoadingFilters=!1}))}})}}}]);