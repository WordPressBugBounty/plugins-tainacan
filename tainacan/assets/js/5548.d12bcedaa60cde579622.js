"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[5548],{6339(e,t,a){a.d(t,{X:()=>n.X});var n=a(95262)},12653(e,t,a){a.d(t,{A:()=>i});var n=a(32967),o=a(57630);a(60245);const i=(0,a(66262).A)(o.A,[["render",n.X],["__scopeId","data-v-e66068dc"]])},13806(e,t,a){var n=a(85072),o=a.n(n),i=a(97825),l=a.n(i),r=a(77659),c=a.n(r),s=a(55056),d=a.n(s),u=a(10540),p=a.n(u),b=a(63494),m=a.n(b),h=a(83165),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p();o()(h.A,g),h.A&&h.A.locals&&h.A.locals},16654(e,t,a){a(43595)},17499(e,t,a){a.d(t,{A:()=>n.A});var n=a(50236)},18244(e,t,a){a.d(t,{X:()=>n.X});var n=a(50739)},24625(e,t,a){a(13806)},25730(e,t,a){a.d(t,{A:()=>r});var n=a(31601),o=a.n(n),i=a(76314),l=a.n(i)()(o());l.push([e.id,".sub-header[data-v-7551e1a1]{flex-wrap:wrap;gap:8px}.sub-header .header-item[data-v-7551e1a1]{margin-bottom:0 !important;min-height:1.875em}.sub-header .header-item[data-v-7551e1a1]:first-child{margin-inline-end:auto}.sub-header .header-item[data-v-7551e1a1]:not(:last-child){padding-inline-end:.875em}.sub-header .header-item .label[data-v-7551e1a1]{font-size:.875em;font-weight:normal;margin-top:2px;margin-bottom:2px;cursor:default;display:flex;align-items:center}.sub-header .header-item .field[data-v-7551e1a1]{align-items:center}.sub-header .header-item .gray-icon .icon i[data-v-7551e1a1]::before,.sub-header .header-item .gray-icon i[data-v-7551e1a1]::before{font-size:1.3125em !important;color:var(--tainacan-info-color) !important;max-width:1.25em}.sub-header .header-item .icon[data-v-7551e1a1]{pointer-events:all;cursor:pointer;color:var(--tainacan-blue5);height:27px;font-size:1.125em !important;height:1.75em}.sub-header .header-item .dropdown-menu[data-v-7551e1a1]{display:block}.sub-header .header-item .dropdown-menu div.dropdown-content[data-v-7551e1a1]{padding:0}.sub-header .header-item .dropdown-menu div.dropdown-content .sorting-options-container[data-v-7551e1a1],.sub-header .header-item .dropdown-menu div.dropdown-content .metadata-options-container[data-v-7551e1a1]{max-height:288px;overflow:auto}.sub-header .header-item .dropdown-menu div.dropdown-content .sorting-options-container-direction[data-v-7551e1a1]{position:sticky;top:0;display:flex;background-color:var(--tainacan-background-color);border-bottom:1px solid var(--tainacan-input-border-color);padding:8px 12px;z-index:1}.sub-header .header-item .dropdown-menu div.dropdown-content .sorting-options-container-direction>.dropdown-item[data-v-7551e1a1]{border:1px solid var(--tainacan-primary)}.sub-header .header-item .dropdown-menu div.dropdown-content .sorting-options-container-direction>.dropdown-item[data-v-7551e1a1]:first-child{border-top-left-radius:var(--tainacan-button-border-radius);border-bottom-left-radius:var(--tainacan-button-border-radius)}.sub-header .header-item .dropdown-menu div.dropdown-content .sorting-options-container-direction>.dropdown-item[data-v-7551e1a1]:last-child{border-top-right-radius:var(--tainacan-button-border-radius);border-bottom-right-radius:var(--tainacan-button-border-radius)}.sub-header .header-item .dropdown-menu div.dropdown-content .dropdown-item[data-v-7551e1a1]{padding:.25em 1em .25em .75em}.sub-header .header-item .dropdown-menu div.dropdown-content .dropdown-item span[data-v-7551e1a1]{vertical-align:middle}.sub-header .header-item .dropdown-menu div.dropdown-content .dropdown-item-apply[data-v-7551e1a1]{width:100%;border-top:1px solid var(--tainacan-skeleton-color);padding:8px;text-align:right}.sub-header .header-item .dropdown-menu div.dropdown-content .dropdown-item-apply .button[data-v-7551e1a1]{width:100%}.sub-header #collections-page-author-filter[data-v-7551e1a1]{display:flex;align-items:center}@media screen and (max-width: 768px){.sub-header[data-v-7551e1a1]{margin-top:-0.5em;padding-top:.9em}.sub-header .header-item[data-v-7551e1a1]:not(:last-child){padding-inline-end:.2em}}.tabs[data-v-7551e1a1]{padding-top:20px;margin-bottom:20px;padding-left:var(--tainacan-one-column);padding-right:var(--tainacan-one-column)}.above-subheader[data-v-7551e1a1]{margin-bottom:0;margin-top:0;height:auto}@media screen and (max-width: 768px){.table-container[data-v-7551e1a1]{padding-left:0;padding-right:0}}",""]);const r=l},28865(e,t,a){a.d(t,{A:()=>c});var n=a(40834);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const c={name:"AvailableImportersModal",props:{targetCollection:Number,hideWhenManualCollection:!1},emits:["close"],data:function(){return{availableImporters:[],isLoading:!1}},mounted:function(){var e=this;this.isLoading=!0,this.fetchAvailableImporters().then((function(t){e.availableImporters=t,e.isLoading=!1})).catch((function(t){e.$console.log(t),e.isLoading=!1})),this.$refs.availableImportersModal&&this.$refs.availableImportersModal.focus()},methods:l(l({},(0,n.i0)("importer",["fetchAvailableImporters"])),{},{onSelectImporter:function(e){this.$router.push({path:this.$routerHelper.getImporterEditionPath(e.slug),query:{targetCollection:this.targetCollection}}),this.$emit("close")}})}},30894(e,t,a){a.d(t,{A:()=>i});var n=a(60584),o=a(98217);a(96324);const i=(0,a(66262).A)(o.A,[["render",n.X],["__scopeId","data-v-530564b3"]])},32967(e,t,a){a.d(t,{X:()=>n.X});var n=a(75034)},35548(e,t,a){a.r(t),a.d(t,{default:()=>i});var n=a(18244),o=a(17499);a(16654);const i=(0,a(66262).A)(o.A,[["render",n.X],["__scopeId","data-v-7551e1a1"]])},36343(e,t,a){a.d(t,{A:()=>s});var n=a(40834),o=a(3012);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const s={name:"CollectionsList",props:{isLoading:!1,totalCollections:0,page:1,collectionsPerPage:12,collections:Array,status:""},data:function(){return{selectedCollections:[],allCollectionsOnPageSelected:!1,isSelectingCollections:!1,cursorPosX:-1,cursorPosY:-1,contextMenuIndex:null,contextMenuCollection:null}},computed:{isOnTrash:function(){return"trash"==this.status},isOnAllCollectionsTab:function(){return!this.status||this.status.indexOf(",")>0}},watch:{collections:{handler:function(){this.selectedCollections=[];for(var e=0;e<this.collections.length;e++)this.selectedCollections.push(!1)},deep:!0},selectedCollections:{handler:function(){for(var e=!0,t=!1,a=0;a<this.selectedCollections.length;a++)0==this.selectedCollections[a]?e=!1:t=!0;this.allCollectionsOnPageSelected=e,this.isSelectingCollections=t},deep:!0}},methods:r(r({},(0,n.i0)("collection",["deleteCollection"])),{},{selectAllCollectionsOnPage:function(){for(var e=0;e<this.selectedCollections.length;e++)this.selectedCollections.splice(e,1,!this.allCollectionsOnPageSelected)},getTotalItems:function(e){return Number(e.publish)+Number(e.private)+Number(e.pending)+Number(e.draft)},getTotalItemsDetailed:function(e){return this.$i18n.get("status_public")+": "+e.publish+"<br> "+this.$i18n.get("status_private")+": "+e.private+"<br> "+this.$i18n.get("status_pending")+": "+e.pending+"<br> "+this.$i18n.get("status_draft")+": "+e.draft},deleteOneCollection:function(e){var t=this,a="";e&&"object"===i(e)&&(void 0!==e.name&&null!==e.name&&""!==e.name?a=e.name:e.id&&(a="ID: "+e.id));var n=this.$i18n.getWithVariables(this.isOnTrash?"info_warning_collection_delete_%s":"info_warning_collection_trash_%s",[a]);this.$buefy.modal.open({component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:n,onConfirm:function(){t.deleteCollection({collectionId:e.id,isPermanently:t.isOnTrash}).then((function(){for(var a=0;a<t.selectedCollections.length;a++)t.selectedCollections[a].id==e.id&&t.selectedCollections.splice(a,1)})).catch((function(){}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]}),this.clearContextMenu()},deleteSelectedCollections:function(){var e=this,t=this.isOnTrash?this.$i18n.get("info_warning_selected_collections_delete"):this.$i18n.get("info_warning_selected_collections_trash");this.$buefy.modal.open({component:o.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:t,onConfirm:function(){for(var t=0;t<e.collections.length;t++)e.selectedCollections[t]&&e.deleteCollection({collectionId:e.collections[t].id,isPermanently:e.isOnTrash}).then((function(){})).catch((function(){}));e.allCollectionsOnPageSelected=!1}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},openCollection:function(){null!=this.contextMenuCollection&&this.$router.push(this.$routerHelper.getCollectionPath(this.contextMenuCollection)),this.clearContextMenu()},openCollectionOnNewTab:function(){if(null!=this.contextMenuCollection){var e=this.$router.resolve(this.$routerHelper.getCollectionPath(this.contextMenuCollection));window.open(e.href,"_blank")}this.clearContextMenu()},selectCollection:function(){null!=this.contextMenuIndex&&Object.assign(this.selectedCollections,c({},this.contextMenuIndex,!this.selectedCollections[this.contextMenuIndex])),this.clearContextMenu()},onClickCollection:function(e,t,a){e.ctrlKey?Object.assign(this.selectedCollections,c({},a,!this.selectedCollections[a])):this.$router.push(this.$routerHelper.getCollectionPath(t))},goToCollectionEditPage:function(e){this.$router.push(this.$routerHelper.getCollectionEditPath(e))},onRightClickCollection:function(e,t,a){e.preventDefault(),this.cursorPosX=e.clientX,this.cursorPosY=e.clientY,this.contextMenuCollection=t,this.contextMenuIndex=a},clearContextMenu:function(){this.cursorPosX=-1,this.cursorPosY=-1,this.contextMenuCollection=null,this.contextMenuIndex=null}})}},43595(e,t,a){var n=a(85072),o=a.n(n),i=a(97825),l=a.n(i),r=a(77659),c=a.n(r),s=a(55056),d=a.n(s),u=a(10540),p=a.n(u),b=a(63494),m=a.n(b),h=a(25730),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p();o()(h.A,g),h.A&&h.A.locals&&h.A.locals},50236(e,t,a){a.d(t,{A:()=>u});var n=a(12653),o=a(52563),i=a(30894),l=a(40834);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const u={name:"CollectionsPage",components:{CollectionsList:n.A},data:function(){return{isLoading:!1,totalCollections:0,page:1,collectionsPerPage:12,isLoadingMetadatumMappers:!0,isLoadingCollectionTaxonomies:!1,status:"",order:"desc",orderBy:"date",newOrder:"desc",newOrderBy:"date",searchQuery:"",authorFilter:"",sortingOptions:[{label:this.$i18n.get("label_title"),value:"title"},{label:this.$i18n.get("label_creation_date"),value:"date"},{label:this.$i18n.get("label_modification_date"),value:"modified"}],maxCollectionsPerPage:tainacan_plugin.api_max_items_per_page?Number(tainacan_plugin.api_max_items_per_page):96,repositoryCollectionsURL:tainacan_plugin.theme_collection_list_url}},computed:s(s({},(0,l.L8)("collection",{collections:"getCollections",repositoryTotalCollections:"getRepositoryTotalCollections"})),{},{collectionTaxonomies:function(){var e=this.getCollectionTaxonomies();return Object.values(e).length?(Object.values(e).forEach((function(e){e.terms=e.terms||[],e.terms.forEach((function(e){return e.enabled=!1}))})),e):{}},statusOptionsForCollections:function(){var e=this;return this.$statusHelper.getStatuses().filter((function(t){return"draft"!=t.slug&&("private"!=t.slug||"private"==t.slug&&e.$userCaps.hasCapability("tnc_rep_read_private_collections"))}))},orderByName:function(){var e=this,t=this.sortingOptions.find((function(t){return t.value==e.orderBy}));return t?t.label:this.orderBy},showingCollectionsText:function(){var e=this.collectionsPerPage*(this.page-1)+1,t=this.getLastCollectionNumber(),a=this.totalCollections;return this.$i18n.getWithVariables("info_showing_collections_range",[e,t,a])},collectionsPerPageOptions:function(){var e=[];return 12<=this.maxCollectionsPerPage&&e.push(12),24<=this.maxCollectionsPerPage&&e.push(24),48<=this.maxCollectionsPerPage&&e.push(48),e.includes(this.maxCollectionsPerPage)||e.push(this.maxCollectionsPerPage),isNaN(this.collectionsPerPage)||e.includes(this.collectionsPerPage)||e.push(Number(this.collectionsPerPage)),e.sort((function(e,t){return e-t}))}}),created:function(){var e=this;this.collectionsPerPage=this.$userPrefs.get("collections_per_page"),this.isLoadingCollectionTaxonomies=!0,this.fetchCollectionTaxonomies({termParent:0,termPerPage:tainacan_plugin.api_max_items_per_page}).then((function(){e.isLoadingCollectionTaxonomies=!1})).catch((function(){e.isLoadingCollectionTaxonomies=!1}))},mounted:function(){this.collectionsPerPage!=this.$userPrefs.get("collections_per_page")&&(this.collectionsPerPage=this.$userPrefs.get("collections_per_page")),this.collectionsPerPage||(this.collectionsPerPage=12,this.$userPrefs.set("collections_per_page",12)),this.order!=this.$userPrefs.get("collections_order")&&(this.order=this.$userPrefs.get("collections_order")),this.order||(this.order="asc",this.$userPrefs.set("collections_order","asc")),this.orderBy!=this.$userPrefs.get("collections_order_by")&&(this.orderBy=this.$userPrefs.get("collections_order_by")),this.orderBy||(this.orderBy="date",this.$userPrefs.set("collections_order_by","date")),this.authorFilter!=this.$userPrefs.get("collections_author_filter")&&(this.authorFilter=this.$userPrefs.get("collections_author_filter")),void 0===this.authorFilter&&(this.authorFilter="",this.$userPrefs.set("collections_author_filter","")),this.loadCollections()},methods:s(s(s(s({},(0,l.i0)("collection",["fetchCollections","cleanCollections","fetchCollectionTaxonomies"])),(0,l.i0)("metadata",["fetchMetadatumMappers"])),(0,l.L8)("collection",["getCollectionTaxonomies"])),{},{onChangeTab:function(e){e!=this.status&&(this.page=1,this.status=e,this.loadCollections())},onChangeOrderAndOrderBy:function(e,t){var a=this;this.$userPrefs.set("collections_order",e).then((function(e){a.order=e})).catch((function(){a.$console.log("Error settings user prefs for collections order")})),this.$userPrefs.set("collections_order_by",t).then((function(e){a.orderBy=e})).catch((function(){a.$console.log("Error settings user prefs for collections orderby")})),this.page=1,this.order=e,this.orderBy=t,this.$refs.sortingDropdown.toggle(),this.loadCollections()},onChangeAuthorFilter:function(e){var t=this;this.$userPrefs.set("collections_author_filter",e).then((function(e){t.authorFilter=e})).catch((function(){t.$console.log("Error settings user prefs for collections author filter")})),this.page=1,this.authorFilter=e,this.loadCollections()},onChangeCollectionsPerPage:function(e){var t=this;e!=this.collectionsPerPage&&(this.$userPrefs.set("collections_per_page",e).then((function(e){t.collectionsPerPage=e})).catch((function(){t.$console.log("Error settings user prefs for collection per page")})),this.page=1,this.collectionsPerPage=e,this.loadCollections())},onPageChange:function(){this.loadCollections()},onChangeCollectionTaxonomyTerms:function(e){this.page=1,this.loadCollections(),this.$refs["collectionTaxonomyFilterDropdown-"+e]&&this.$refs["collectionTaxonomyFilterDropdown-"+e][0]&&this.$refs["collectionTaxonomyFilterDropdown-"+e][0].toggle()},loadCollections:function(){var e=this;this.cleanCollections(),this.isLoading=!0,this.fetchCollections({page:this.page,collectionsPerPage:this.collectionsPerPage,status:this.status?this.status:"publish,private,pending,draft",contextEdit:!0,order:this.order,orderby:this.orderBy,search:this.searchQuery,collectionTaxonomies:this.collectionTaxonomies,authorid:"current-author"===this.authorFilter&&tainacan_user.data&&tainacan_user.data.ID?tainacan_user.data.ID:""}).then((function(t){e.isLoading=!1,e.totalCollections=t.total})).catch((function(){e.isLoading=!1}))},getLastCollectionNumber:function(){var e=Number(this.collectionsPerPage*(this.page-1))+Number(this.collectionsPerPage);return e>this.totalCollections?this.totalCollections:e},onOpenImportersModal:function(){this.$buefy.modal.open({component:o.A,hasModalCard:!0,trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},onOpenCollectionCreationModal:function(){this.$buefy.modal.open({component:i.A,hasModalCard:!0,trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},searchCollections:function(){this.page=1,this.loadCollections()}})}},50739(e,t,a){a.d(t,{X:()=>G});var n=a(6934),o={class:"page-container"},i={key:0,class:"header-item"},l={class:"button is-secondary"},r=["onClick","onKeydown"],c={class:"is-small"},s={class:"is-small"},d={class:"is-small"},u={class:"sub-header tainacan-sub-header--sticky"},p=["disabled","aria-label"],b={class:"metadata-options-container"},m={class:"dropdown-item-apply"},h=["onClick"],g={id:"author-filter-switch-label",class:"label"},f=["disabled","aria-label"],v={class:"is-small gray-icon"},k={class:"is-hidden-touch is-hidden-desktop-only"},y={class:"is-hidden-widescreen"},_={class:"sorting-options-container"},C={class:"sorting-options-container-direction"},w={class:"sorting-options-container-orderby"},x={class:"dropdown-item-apply"},$={class:"above-subheader"},L={class:"tabs"},P={role:"tablist","data-orientation":"horizontal"},O=["aria-selected","tabindex"],M={class:"has-text-dark"},E=["id","aria-selected","tabindex","onClick"],X={key:0,class:"icon has-text-dark"},j={class:"has-text-dark"},A={key:0},T={class:"section"},I={class:"content has-text-dark has-text-centered"},S={key:0},D={key:1},F={key:2},H={key:3},Q={key:4},W={class:"button is-secondary"},N=["onClick","onKeydown"],z={class:"is-small"},R={class:"is-small"},V={class:"is-small"},K={key:1,class:"pagination-area"},B={class:"shown-items"},U={class:"items-per-page"},Y=["value"],q={class:"pagination"};function G(e,t,a,G,J,Z){var ee=(0,n.g2)("b-loading"),te=(0,n.g2)("tainacan-external-link"),ae=(0,n.g2)("router-link"),ne=(0,n.g2)("b-dropdown-item"),oe=(0,n.g2)("b-dropdown"),ie=(0,n.g2)("tainacan-title"),le=(0,n.g2)("b-input"),re=(0,n.g2)("b-field"),ce=(0,n.g2)("b-checkbox"),se=(0,n.g2)("b-switch"),de=(0,n.g2)("collections-list"),ue=(0,n.g2)("b-select"),pe=(0,n.g2)("b-pagination"),be=(0,n.gN)("a11y-dropdown"),me=(0,n.gN)("tooltip"),he=(0,n.gN)("a11y-tabs");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.bF)(ee,{modelValue:J.isLoading,"onUpdate:modelValue":t[0]||(t[0]=function(e){return J.isLoading=e}),"is-full-page":!1},null,8,["modelValue"]),(0,n.bF)(te,{"link-label":e.$i18n.get("label_view_collections_on_website"),"link-url":J.repositoryCollectionsURL},null,8,["link-label","link-url"]),(0,n.bF)(ie,{"is-sticky":!0},{default:(0,n.k6)((function(){return[(0,n.Lk)("h1",null,(0,n.v_)(e.$route.meta.title),1),!e.$adminOptions.hideCollectionsListCreationDropdown&&e.$userCaps.hasCapability("tnc_rep_edit_collections")?((0,n.uX)(),(0,n.CE)("div",i,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(oe,{id:"collection-creation-options-dropdown","trigger-tabindex":-1,"mobile-modal":!0,"trap-focus":"","append-to-body":""},{trigger:(0,n.k6)((function(){return[(0,n.Lk)("button",l,[(0,n.Lk)("div",null,(0,n.v_)(e.$i18n.getFrom("collections","new_item")),1),t[23]||(t[23]=(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))])]})),default:(0,n.k6)((function(){return[(0,n.bF)(ne,null,{default:(0,n.k6)((function(){return[(0,n.bF)(ae,{to:{path:e.$routerHelper.getNewCollectionPath()},custom:""},{default:(0,n.k6)((function(a){var o=a.navigate;return[(0,n.Lk)("div",{id:"a-create-collection",role:"link",tabindex:"0",onClick:function(e){return o()},onKeydown:[(0,n.jR)((0,n.D$)((function(e){return o()}),["prevent"]),["enter"]),(0,n.jR)((0,n.D$)((function(e){return o()}),["prevent"]),["space"])]},[(0,n.eW)((0,n.v_)(e.$i18n.get("new_blank_collection"))+" ",1),t[24]||(t[24]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",c,(0,n.v_)(e.$i18n.get("info_choose_your_metadata")),1)],40,r)]})),_:1},8,["to"])]})),_:1}),(0,n.bF)(ne,null,{default:(0,n.k6)((function(){return[(0,n.Lk)("div",{id:"a-preset-collection",role:"button",tabindex:"0",onClick:t[1]||(t[1]=function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),onKeydown:[t[2]||(t[2]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),["prevent"]),["enter"])),t[3]||(t[3]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),["prevent"]),["space"]))]},[(0,n.eW)((0,n.v_)(e.$i18n.get("label_preset_collections"))+" ",1),t[25]||(t[25]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",s,(0,n.v_)(e.$i18n.get("info_preset_collections")),1)],32)]})),_:1}),e.$userCaps.hasCapability("manage_tainacan")?((0,n.uX)(),(0,n.Wv)(ne,{key:0},{default:(0,n.k6)((function(){return[(0,n.Lk)("div",{id:"a-import-collection",role:"button",tabindex:"0",onClick:t[4]||(t[4]=function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),onKeydown:[t[5]||(t[5]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),["prevent"]),["enter"])),t[6]||(t[6]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),["prevent"]),["space"]))]},[(0,n.eW)((0,n.v_)(e.$i18n.get("import"))+" ",1),t[26]||(t[26]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",d,(0,n.v_)(e.$i18n.get("info_import_collection")),1)],32)]})),_:1})):(0,n.Q3)("",!0)]})),_:1})),[[be,{appendToBody:!0}]])])):(0,n.Q3)("",!0)]})),_:1}),(0,n.Lk)("div",u,[(0,n.bF)(re,{id:"collection-page-search",class:"header-item"},{default:(0,n.k6)((function(){return[(0,n.bF)(le,{modelValue:J.searchQuery,"onUpdate:modelValue":t[7]||(t[7]=function(e){return J.searchQuery=e}),placeholder:e.$i18n.get("instruction_search"),type:"search",size:"is-small","aria-label":e.$i18n.get("instruction_search")+" "+e.$i18n.get("collections"),autocomplete:"on","icon-right":"magnify","icon-right-clickable":"",onKeyup:t[8]||(t[8]=(0,n.jR)((function(e){return Z.searchCollections()}),["enter"])),onIconRightClick:t[9]||(t[9]=function(e){return Z.searchCollections()})},null,8,["modelValue","placeholder","aria-label"])]})),_:1}),!J.isLoadingCollectionTaxonomies&&Object.values(Z.collectionTaxonomies)&&Object.values(Z.collectionTaxonomies).length>0?((0,n.uX)(!0),(0,n.CE)(n.FK,{key:0},(0,n.pI)(Z.collectionTaxonomies,(function(a,o){return(0,n.uX)(),(0,n.Wv)(re,{key:o,class:"header-item"},{default:(0,n.k6)((function(){return[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(oe,{ref_for:!0,ref:"collectionTaxonomyFilterDropdown-"+o,"trigger-tabindex":-1,"mobile-modal":!0,disabled:J.totalCollections&&J.totalCollections.length&&J.totalCollections.length<=0||J.isLoading,class:"show metadata-options-dropdown","trap-focus":""},{trigger:(0,n.k6)((function(){return[(0,n.Lk)("button",{disabled:J.totalCollections&&J.totalCollections.length&&J.totalCollections.length<=0||J.isLoading,"aria-label":a.name,class:"button is-white"},[(0,n.Lk)("span",null,(0,n.v_)(a.name),1),t[27]||(t[27]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,p)]})),default:(0,n.k6)((function(){return[(0,n.Lk)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.terms,(function(e,t){return(0,n.uX)(),(0,n.Wv)(ne,{key:t,class:(0,n.C4)(["control",{"is-active":e.enabled}]),custom:""},{default:(0,n.k6)((function(){return[(0,n.bF)(ce,{modelValue:e.enabled,"onUpdate:modelValue":function(t){return e.enabled=t},"native-value":e.enabled},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","native-value"])]})),_:2},1032,["class"])})),128))]),(0,n.Lk)("div",m,[(0,n.Lk)("button",{"aria-controls":"collections-list-results",class:"button is-success",onClick:function(e){return Z.onChangeCollectionTaxonomyTerms(o)}},(0,n.v_)(e.$i18n.get("label_apply_changes")),9,h)])]})),_:2},1032,["disabled"])),[[be]])]})),_:2},1024)})),128)):(0,n.Q3)("",!0),(0,n.bF)(re,{id:"collections-page-author-filter",class:"header-item"},{default:(0,n.k6)((function(){return[(0,n.bo)(((0,n.uX)(),(0,n.CE)("label",g,[(0,n.eW)((0,n.v_)(e.$i18n.get("label_authored_by_me"))+" ",1)])),[[me,{content:e.$i18n.get("label_show_only_created_by_me"),autoHide:!0,placement:"auto",popperClass:["tainacan-tooltip","tooltip"]}]]),(0,n.bF)(se,{modelValue:J.authorFilter,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return J.authorFilter=e}),Z.onChangeAuthorFilter],size:"is-small",class:"author-filter-switch","aria-labelledby":"author-filter-switch-label",disabled:e.collections.length<=0&&J.isLoading,"true-value":"current-author","false-value":"",label:e.$i18n.get("label_authored_by_me")},null,8,["modelValue","disabled","label","onUpdate:modelValue"])]})),_:1}),(0,n.bF)(re,{id:"collections-page-sorting-options",class:"header-item"},{default:(0,n.k6)((function(){return[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(oe,{ref:"sortingDropdown","trigger-tabindex":-1,"mobile-modal":!0,multiple:!1,class:"show sorting-options-dropdown","trap-focus":"",position:"is-bottom-left","close-on-click":!1,disabled:e.collections.length<=0||J.isLoading,onActiveChange:t[14]||(t[14]=function(){J.newOrder=J.order,J.newOrderBy=J.orderBy})},{trigger:(0,n.k6)((function(){return[(0,n.bo)(((0,n.uX)(),(0,n.CE)("button",{disabled:e.collections.length<=0||J.isLoading,"aria-label":e.$i18n.get("label_sorting"),class:"button is-white"},[(0,n.Lk)("span",v,[(0,n.Lk)("i",{class:(0,n.C4)(["desc"==J.order?"tainacan-icon-sortdescending":"tainacan-icon-sortascending","tainacan-icon"])},null,2)]),t[28]||(t[28]=(0,n.eW)("   ",-1)),(0,n.Lk)("span",k,(0,n.v_)(e.$i18n.get("label_sorting")),1),(0,n.Lk)("span",y,(0,n.v_)(e.$i18n.get("label_sort")),1),t[29]||(t[29]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,f)),[[me,{delay:{show:500,hide:300},content:e.$i18n.getWithVariables("info_sorting_%s_by_%s",["asc"==J.order?e.$i18n.get("label_ascending"):e.$i18n.get("label_descending"),Z.orderByName]),autoHide:!1,html:!0,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]}]])]})),default:(0,n.k6)((function(){return[(0,n.Lk)("div",_,[(0,n.Lk)("div",C,[(0,n.bF)(ne,{"aria-controls":"collections-list-results",role:"button",class:(0,n.C4)({"is-active":"desc"==J.newOrder}),value:"desc",onClick:t[11]||(t[11]=function(e){return J.newOrder="desc"})},{default:(0,n.k6)((function(){return[t[30]||(t[30]=(0,n.Lk)("span",{class:"icon gray-icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-sortdescending"})],-1)),(0,n.Lk)("span",null,(0,n.v_)(e.$i18n.get("label_descending")),1)]})),_:1},8,["class"]),(0,n.bF)(ne,{"aria-controls":"collections-list-results",role:"button",class:(0,n.C4)({"is-active":"asc"==J.newOrder}),value:"asc",onClick:t[12]||(t[12]=function(e){return J.newOrder="asc"})},{default:(0,n.k6)((function(){return[t[31]||(t[31]=(0,n.Lk)("span",{class:"icon gray-icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-sortascending"})],-1)),(0,n.Lk)("span",null,(0,n.v_)(e.$i18n.get("label_ascending")),1)]})),_:1},8,["class"])]),(0,n.Lk)("div",w,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(J.sortingOptions,(function(e){return(0,n.uX)(),(0,n.Wv)(ne,{key:e.value,"aria-controls":"collections-list-results",role:"button",class:(0,n.C4)({"is-active":J.newOrderBy==e.value}),value:e.value,onClick:function(t){return J.newOrderBy=e.value}},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.label),1)]})),_:2},1032,["class","value","onClick"])})),128))])]),(0,n.Lk)("div",x,[(0,n.Lk)("button",{"aria-controls":"items-list-results",class:"button is-success",onClick:t[13]||(t[13]=function(e){return Z.onChangeOrderAndOrderBy(J.newOrder,J.newOrderBy)})},(0,n.v_)(e.$i18n.get("label_apply_changes")),1)])]})),_:1},8,["disabled"])),[[be]])]})),_:1})]),(0,n.Lk)("div",$,[(0,n.Lk)("div",L,[(0,n.bo)(((0,n.uX)(),(0,n.CE)("ul",P,[(0,n.Lk)("li",{tabindex:"-1",class:(0,n.C4)({"is-active":null==J.status||""==J.status||"publish,private,pending,draft"==J.status})},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("a",{id:"collections-status-tab-all",role:"tab","aria-selected":null==J.status||""==J.status||"publish,private,pending,draft"==J.status,tabindex:null==J.status||""==J.status||"publish,private,pending,draft"==J.status?0:-1,style:{"font-weight":"bold"},onClick:t[15]||(t[15]=function(e){return Z.onChangeTab("")})},[(0,n.eW)((0,n.v_)("".concat(e.$i18n.get("label_all_collections")))+" ",1),(0,n.Lk)("span",M," "+(0,n.v_)("".concat(" ".concat(e.repositoryTotalCollections?"(".concat(Number(e.repositoryTotalCollections.pending)+Number(e.repositoryTotalCollections.private)+Number(e.repositoryTotalCollections.publish),")"):""))),1)],8,O)),[[me,{content:e.$i18n.get("info_collections_tab_all"),autoHide:!0,placement:"auto",popperClass:["tainacan-tooltip","tooltip"]}]])],2),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Z.statusOptionsForCollections,(function(t,a){return(0,n.uX)(),(0,n.CE)("li",{key:a,tabindex:"-1",class:(0,n.C4)({"is-active":J.status==t.slug}),style:(0,n.Tr)({marginInlineEnd:"pending"==t.slug?"auto":"",marginInlineStart:"trash"==t.slug?"auto":""})},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("a",{id:"collections-status-tab-"+t.slug,role:"tab","aria-selected":J.status==t.slug,tabindex:J.status==t.slug?0:-1,onClick:function(e){return Z.onChangeTab(t.slug)}},[e.$statusHelper.hasIcon(t.slug)?((0,n.uX)(),(0,n.CE)("span",X,[(0,n.Lk)("i",{class:(0,n.C4)(["tainacan-icon tainacan-icon-1-125em",e.$statusHelper.getIcon(t.slug)]),"aria-hidden":"true"},null,2)])):(0,n.Q3)("",!0),(0,n.eW)(" "+(0,n.v_)(t.name)+" ",1),(0,n.Lk)("span",j," "+(0,n.v_)("".concat(" ".concat(e.repositoryTotalCollections?"(".concat(e.repositoryTotalCollections[t.slug],")"):""))),1)],8,E)),[[me,{content:e.$i18n.getWithVariables("info_%s_tab_"+t.slug,[e.$i18n.get("collections")]),autoHide:!0,placement:"auto",popperClass:["tainacan-tooltip","tooltip"]}]])],6)})),128))])),[[he]])]),(0,n.Lk)("div",null,[(0,n.bF)(de,{"is-loading":J.isLoading,"total-collections":J.totalCollections,page:J.page,"collections-per-page":J.collectionsPerPage,collections:e.collections,status:J.status},null,8,["is-loading","total-collections","page","collections-per-page","collections","status"]),e.collections.length<=0&&!J.isLoading?((0,n.uX)(),(0,n.CE)("div",A,[(0,n.Lk)("section",T,[(0,n.Lk)("div",I,[t[36]||(t[36]=(0,n.Lk)("p",null,[(0,n.Lk)("span",{class:"icon is-large"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-collections"})])],-1)),null==J.status||""==J.status?((0,n.uX)(),(0,n.CE)("p",S,(0,n.v_)(e.$i18n.get("info_no_collection_created")),1)):((0,n.uX)(),(0,n.CE)("p",D,(0,n.v_)(e.$i18n.get("info_no_collections_"+J.status)),1)),J.searchQuery?((0,n.uX)(),(0,n.CE)("p",F,(0,n.v_)(e.$i18n.get("info_try_empting_the_textual_search")),1)):(0,n.Q3)("",!0),""===J.authorFilter||J.searchQuery?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("p",H,(0,n.v_)(e.$i18n.get("info_try_selecting_all_collections_in_filter")),1)),!e.$adminOptions.hideCollectionsListCreationDropdown&&e.$userCaps.hasCapability("tnc_rep_edit_collections")&&null==J.status||""==J.status?((0,n.uX)(),(0,n.CE)("div",Q,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(oe,{id:"collection-creation-options-dropdown","trigger-tabindex":-1,"trap-focus":""},{trigger:(0,n.k6)((function(){return[(0,n.Lk)("button",W,[(0,n.Lk)("div",null,(0,n.v_)(e.$i18n.getFrom("collections","new_item")),1),t[32]||(t[32]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))])]})),default:(0,n.k6)((function(){return[(0,n.bF)(ne,null,{default:(0,n.k6)((function(){return[(0,n.bF)(ae,{to:{path:e.$routerHelper.getNewCollectionPath()},custom:""},{default:(0,n.k6)((function(a){var o=a.navigate;return[(0,n.Lk)("div",{id:"a-create-collection",role:"link",tabindex:"0",onClick:function(e){return o()},onKeydown:[(0,n.jR)((0,n.D$)((function(e){return o()}),["prevent"]),["enter"]),(0,n.jR)((0,n.D$)((function(e){return o()}),["prevent"]),["space"])]},[(0,n.eW)((0,n.v_)(e.$i18n.get("new_blank_collection"))+" ",1),t[33]||(t[33]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",z,(0,n.v_)(e.$i18n.get("info_choose_your_metadata")),1)],40,N)]})),_:1},8,["to"])]})),_:1}),(0,n.bF)(ne,null,{default:(0,n.k6)((function(){return[(0,n.Lk)("div",{id:"a-preset-collection",role:"button",tabindex:"0",onClick:t[16]||(t[16]=function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),onKeydown:[t[17]||(t[17]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),["prevent"]),["enter"])),t[18]||(t[18]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenCollectionCreationModal&&Z.onOpenCollectionCreationModal.apply(Z,arguments)}),["prevent"]),["space"]))]},[(0,n.eW)((0,n.v_)(e.$i18n.get("label_preset_collections"))+" ",1),t[34]||(t[34]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",R,(0,n.v_)(e.$i18n.get("info_preset_collections")),1)],32)]})),_:1}),(0,n.bF)(ne,null,{default:(0,n.k6)((function(){return[(0,n.Lk)("div",{id:"a-import-collection",role:"button",tabindex:"0",onClick:t[19]||(t[19]=function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),onKeydown:[t[20]||(t[20]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),["prevent"]),["enter"])),t[21]||(t[21]=(0,n.jR)((0,n.D$)((function(){return Z.onOpenImportersModal&&Z.onOpenImportersModal.apply(Z,arguments)}),["prevent"]),["space"]))]},[(0,n.eW)((0,n.v_)(e.$i18n.get("import"))+" ",1),t[35]||(t[35]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("small",V,(0,n.v_)(e.$i18n.get("info_import_collection")),1)],32)]})),_:1})]})),_:1})),[[be]])])):(0,n.Q3)("",!0)])])])):(0,n.Q3)("",!0),e.collections.length>0?((0,n.uX)(),(0,n.CE)("div",K,[(0,n.Lk)("div",B,(0,n.v_)(Z.showingCollectionsText),1),(0,n.Lk)("div",U,[(0,n.bF)(re,{horizontal:"",label:e.$i18n.get("label_collections_per_page")},{default:(0,n.k6)((function(){return[(0,n.bF)(ue,{"aria-label":e.$i18n.get("label_collections_per_page"),"model-value":J.collectionsPerPage,disabled:e.collections.length<=0||Z.collectionsPerPageOptions.length<=1,"onUpdate:modelValue":Z.onChangeCollectionsPerPage},{default:(0,n.k6)((function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(Z.collectionsPerPageOptions,(function(e){return(0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,n.v_)(e),9,Y)})),128))]})),_:1},8,["aria-label","model-value","disabled","onUpdate:modelValue"])]})),_:1},8,["label"])]),(0,n.Lk)("div",q,[(0,n.bF)(pe,{modelValue:J.page,"onUpdate:modelValue":t[22]||(t[22]=function(e){return J.page=e}),"aria-label":e.$i18n.get("label_pagination"),total:J.totalCollections,order:"is-centered",size:"is-small","per-page":J.collectionsPerPage,"aria-next-label":e.$i18n.get("label_next_page"),"aria-previous-label":e.$i18n.get("label_previous_page"),"aria-page-label":e.$i18n.get("label_page"),"aria-current-label":e.$i18n.get("label_current_page"),onChange:Z.onPageChange},null,8,["modelValue","aria-label","total","per-page","aria-next-label","aria-previous-label","aria-page-label","aria-current-label","onChange"])])])):(0,n.Q3)("",!0)])])])}},52563(e,t,a){a.d(t,{A:()=>i});var n=a(6339),o=a(63272);a(24625);const i=(0,a(66262).A)(o.A,[["render",n.X],["__scopeId","data-v-07b07f46"]])},54249(e,t,a){var n=a(85072),o=a.n(n),i=a(97825),l=a.n(i),r=a(77659),c=a.n(r),s=a(55056),d=a.n(s),u=a(10540),p=a.n(u),b=a(63494),m=a.n(b),h=a(62273),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p();o()(h.A,g),h.A&&h.A.locals&&h.A.locals},57630(e,t,a){a.d(t,{A:()=>n.A});var n=a(36343)},59988(e,t,a){a.d(t,{A:()=>d});var n=a(40834),o=a(57536),i=a(75552);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){s(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const d={name:"CollectionCreationModal",emits:["close"],data:function(){return{selectedEstrategy:"mappers",isLoadingMetadatumMappers:!0,collectionPresets:[],isCreatingCollectionPreset:!1}},computed:c(c({},(0,n.L8)("metadata",{metadatumMappers:"getMetadatumMappers"})),{},{hasPresetsHook:function(){return void 0!==wp&&void 0!==wp.hooks&&wp.hooks.hasFilter("tainacan_collections_presets")},getPresetsHook:function(){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_collections_presets",this.collectionPresets):this.collectionPresets}}),watch:{hasPresetsHook:{handler:function(){this.selectedEstrategy=this.hasPresetsHook?void 0:"mappers"},immediate:!0}},mounted:function(){var e=this;this.isLoadingMetadatumTypes=!0,this.fetchMetadatumMappers().then((function(){e.isLoadingMetadatumMappers=!1})).catch((function(){e.isLoadingMetadatumMappers=!1})),this.$refs.collectionCreationModal&&this.$refs.collectionCreationModal.focus()},methods:c(c({},(0,n.i0)("metadata",["fetchMetadatumMappers"])),{},{onNewCollectionPreset:function(e){var t=this;this.isCreatingCollectionPreset=!0,o.A.post(e.endpoint).then((function(){var a="function"==typeof e.onSuccess?e.onSuccess():t.$i18n.get("label_preset_success");t.$buefy.snackbar.open({message:a,type:"is-success",position:"is-bottom-right",pauseOnHover:!0,duration:3500,queue:!1}),t.isCreatingCollectionPreset=!1,t.$router.push(t.$routerHelper.getCollectionsPath()),t.$emit("close")})).catch((function(a){if("function"==typeof e.onError){var n=e.onError();t.$buefy.snackbar.open({message:n,type:"is-danger",position:"is-bottom-right",pauseOnHover:!0,duration:3500,queue:!1})}else(0,i.i0)(a);t.isCreatingCollectionPreset=!1}))}})}},60245(e,t,a){a(54249)},60584(e,t,a){a.d(t,{X:()=>n.X});var n=a(96721)},62273(e,t,a){a.d(t,{A:()=>r});var n=a(31601),o=a.n(n),i=a(76314),l=a.n(i)()(o());l.push([e.id,'.table-container[data-v-e66068dc]{overflow-x:hidden;padding:0 var(--tainacan-one-column);position:relative}.table-container .table-wrapper[data-v-e66068dc]{width:100%;height:100%;border-collapse:separate;overflow-x:auto;overflow-y:hidden;margin-bottom:0px !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton.thumbnail-cell[data-v-e66068dc]{max-height:52px;max-width:34px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:8px solid #fff !important;border-bottom:8px solid #fff !important;border-left:18px solid #fff !important;border-right:18px solid #fff !important}.table-container .table-wrapper table.tainacan-table-skeleton tbody td.skeleton[data-v-e66068dc]:not(.thumbnail-cell){max-height:52px;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-skeleton-color) !important;border-top:18px solid #fff !important;border-bottom:18px solid #fff !important;border-left:8px solid #fff !important;border-right:8px solid #fff !important}.table-container .table-wrapper table.tainacan-table[data-v-e66068dc]{animation-name:appear;animation-duration:.5s;width:100%;border-collapse:collapse;border-spacing:0;border-color:rgba(0,0,0,0)}.table-container .table-wrapper table.tainacan-table.is-narrow tbody td[data-v-e66068dc]{height:44px}.table-container .table-wrapper table.tainacan-table .checkbox-cell[data-v-e66068dc]{min-width:38px;width:38px;padding:0;inset-inline-start:0;top:auto;display:table-cell}.table-container .table-wrapper table.tainacan-table .checkbox-cell label.checkbox[data-v-e66068dc],.table-container .table-wrapper table.tainacan-table .checkbox-cell label.radio[data-v-e66068dc]{border-start-start-radius:var(--tainacan-item-border-radius, 0px);border-end-start-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);padding:0;width:100%;height:100%;display:flex;justify-content:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-checkbox.checkbox[data-v-e66068dc] .control-label,.table-container .table-wrapper table.tainacan-table .checkbox-cell .b-radio.radio[data-v-e66068dc] .control-label{display:none}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-e66068dc]{position:sticky !important;position:-webkit-sticky !important}.table-container .table-wrapper table.tainacan-table .checkbox-cell.is-selecting[data-v-e66068dc]::before{visibility:visible !important}.table-container .table-wrapper table.tainacan-table .thumbnail-cell[data-v-e66068dc]{width:60px;text-align:center}.table-container .table-wrapper table.tainacan-table .status-cell[data-v-e66068dc]{width:2rem;padding-left:1px;padding-right:1px;text-align:center}.table-container .table-wrapper table.tainacan-table .column-small-width[data-v-e66068dc]{min-width:80px;max-width:80px}.table-container .table-wrapper table.tainacan-table .column-small-width p[data-v-e66068dc]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-default-width[data-v-e66068dc]{min-width:80px;max-width:160px}.table-container .table-wrapper table.tainacan-table .column-default-width p[data-v-e66068dc]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-medium-width[data-v-e66068dc]{min-width:120px;max-width:200px}.table-container .table-wrapper table.tainacan-table .column-medium-width p[data-v-e66068dc]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-large-width[data-v-e66068dc]{min-width:120px;max-width:250px}.table-container .table-wrapper table.tainacan-table .column-large-width p[data-v-e66068dc]{color:var(--tainacan-info-color);font-size:.6875em;line-height:1.03125em}.table-container .table-wrapper table.tainacan-table .column-main-content[data-v-e66068dc]{min-width:120px !important;max-width:240px !important}.table-container .table-wrapper table.tainacan-table .column-main-content p[data-v-e66068dc]{font-size:.875em !important;line-height:1.125em;color:var(--tainacan-input-color) !important;margin:0px !important}.table-container .table-wrapper table.tainacan-table .column-needed-width[data-v-e66068dc]{max-width:unset !important}.table-container .table-wrapper table.tainacan-table .column-align-right[data-v-e66068dc]{text-align:end !important}.table-container .table-wrapper table.tainacan-table th[data-v-e66068dc]{background-color:var(--tainacan-background-color);border:0px solid rgba(0,0,0,0);border-bottom:1px solid var(--tainacan-input-border-color);top:0px;z-index:9;padding:10px;vertical-align:bottom;text-align:start}.table-container .table-wrapper table.tainacan-table th .th-wrap[data-v-e66068dc]{font-size:.75em !important;color:var(--tainacan-info-color);font-weight:normal !important;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-e66068dc]{cursor:pointer;border-radius:var(--tainacan-item-border-radius, 0px);background-color:var(--tainacan-item-background-color);transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-e66068dc]:not(:last-child){border-bottom:1px solid var(--tainacan-lists-separator-color, var(--tainacan-item-hover-background-color))}.table-container .table-wrapper table.tainacan-table tbody tr.selected-row[data-v-e66068dc]{--tainacan-item-background-color: var(--tainacan-primary);--tainacan-item-heading-hover-background-color: var(--tainacan-turquoise2);--tainacan-item-heading-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 5%, transparent);--tainacan-item-hover-background-color: var(--tainacan-primary);--tainacan-item-hover-background-color: color-mix(in srgb, var(--tainacan-secondary) 20%, transparent)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc]{height:60px;max-height:60px;padding:10px;vertical-align:middle;line-height:.75em;border:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc]:first-child{border-start-start-radius:var(--tainacan-item-border-radius, 0px);border-end-start-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc]:last-child{border-start-end-radius:var(--tainacan-item-border-radius, 0px);border-end-end-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.thumbnail-cell .skeleton[data-v-e66068dc]{height:38px;width:38px;border-radius:0;margin-top:-38px;margin-left:auto;margin-right:auto;position:relative;z-index:-1}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc]{font-size:.875em;margin:0px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group{display:inline-flex;align-items:center}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group>.multivalue-separator{display:inline-block;max-height:unset;margin:0 1.25em;height:2em;width:1px}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum{display:inline-flex;align-items:center;max-height:2.5em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header{display:inline-flex}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-relationship-metadatum-header .label{font-size:1.125em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum{display:inline-flex;align-items:baseline;margin-inline-start:.75em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum .label{margin-top:0;margin-bottom:0;margin-inline-end:.5em;font-size:.95em}.table-container .table-wrapper table.tainacan-table tbody tr td p[data-v-e66068dc] .tainacan-relationship-group .tainacan-relationship-metadatum .tainacan-metadatum p{font-size:1em}.table-container .table-wrapper table.tainacan-table tbody tr td a[data-v-e66068dc]{text-decoration:none !important}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group{display:inline-block;font-size:1.125em;margin-top:-0.25em;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;max-width:100%}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group *{display:inline}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group .label{font-size:1em;color:var(--tainacan-info-color)}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group .label:not(:first-child)::before{content:", ";font-size:1em;font-weight:normal;color:var(--tainacan-info-color);display:inline-block;margin-inline-end:.35em;margin-inline-start:-0.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group .label::after{content:": ";font-size:1em;color:var(--tainacan-info-color);display:inline-block;margin-inline-end:.15em}.table-container .table-wrapper table.tainacan-table tbody tr td[data-v-e66068dc] .tainacan-compound-group p{font-size:1em !important;line-height:1.25em !important}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-e66068dc],.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-e66068dc]{max-height:38px !important;min-height:38px;max-width:38px;border-radius:var(--tainacan-item-border-radius, 0px);padding-bottom:0px !important;padding-left:0px !important;padding-right:0px !important;padding-top:0px !important;word-wrap:anywhere;word-break:break-all;font-size:.75em;box-sizing:border-box;width:38px;display:inline-block}.table-container .table-wrapper table.tainacan-table tbody tr img.table-thumb[data-v-e66068dc] img,.table-container .table-wrapper table.tainacan-table tbody tr .table-thumb>div[data-v-e66068dc] img{border-radius:var(--tainacan-item-border-radius, 0px)}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell[data-v-e66068dc]{padding:0px;position:sticky !important;position:-webkit-sticky !important;inset-inline-end:0px;top:auto;width:100px}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell .actions-container[data-v-e66068dc]{border-start-end-radius:var(--tainacan-item-border-radius, 0px);border-end-end-radius:var(--tainacan-item-border-radius, 0px);display:flex;position:relative;padding:0;height:100%;width:100px;z-index:9;background-color:var(--tainacan-item-background-color);float:inline-end;justify-content:center;align-items:center;transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr td.actions-cell a[data-v-e66068dc]{margin:auto;font-size:1.125em !important}.table-container .table-wrapper table.tainacan-table tbody tr[data-v-e66068dc]:hover{background-color:var(--tainacan-item-hover-background-color) !important;cursor:pointer}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell[data-v-e66068dc]{position:sticky !important;position:-webkit-sticky !important;background-color:var(--tainacan-item-heading-hover-background-color)}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .checkbox[data-v-e66068dc]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .checkbox-cell .radio[data-v-e66068dc]{background-color:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell[data-v-e66068dc]{transition:background-color .15s ease}.table-container .table-wrapper table.tainacan-table tbody tr:hover .actions-cell .actions-container[data-v-e66068dc]{background:var(--tainacan-item-heading-hover-background-color) !important}.table-container .table-wrapper table.tainacan-table.hide-items-selection tr[data-v-e66068dc]:hover{background-color:rgba(0,0,0,0) !important;cursor:default}.selection-control[data-v-e66068dc]{padding-inline-start:12px;padding-inline-end:0px;padding-block-start:6px;padding-block-end:0px;background:var(--tainacan-background-color);height:40px}.selection-control .select-all[data-v-e66068dc]{color:var(--tainacan-info-color);font-size:.875em}.selection-control .select-all[data-v-e66068dc]:hover{color:var(--tainacan-info-color)}@media screen and (max-width: 1024px){.selection-control[data-v-e66068dc]{flex-wrap:wrap}}.total-items-header[data-v-e66068dc]{text-align:right}.context-menu .dropdown[data-v-e66068dc]{position:fixed;z-index:99999999999}.context-menu .context-menu-backdrop[data-v-e66068dc]{position:fixed;top:0;right:0;left:0;border:0;width:100%;height:100vh;height:100dvh;z-index:9999999}',""]);const r=l},63272(e,t,a){a.d(t,{A:()=>n.A});var n=a(28865)},75034(e,t,a){a.d(t,{X:()=>J});var n=a(6934);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var l={key:0,class:"table-container"},r={key:0,class:"selection-control"},c={class:"field select-all is-pulled-left"},s={class:"field is-pulled-right"},d=["disabled"],u={class:"table-wrapper"},p={key:0,class:"context-menu"},b={id:"collections-list-results",class:"tainacan-table"},m={key:0},h={class:"sr-only"},g={key:1},f={class:"sr-only"},v={class:"thumbnail-cell"},k={class:"th-wrap"},y={class:"th-wrap"},_={class:"th-wrap"},C={key:2},w={class:"th-wrap total-items-header"},x={class:"th-wrap"},$={class:"th-wrap"},L={class:"th-wrap"},P={key:3,class:"actions-header"},O={class:"sr-only"},M={key:1,class:"status-cell"},E={key:0,class:"icon has-text-dark"},X=["label","aria-label","onClick","onContextmenu"],j=["alt","src"],A=["label","aria-label","onClick","onContextmenu"],T=["label","aria-label","onClick","onContextmenu"],I=["innerHTML"],S=["label","aria-label","onClick","onContextmenu"],D=["innerHTML"],F=["label","aria-label","onClick","onContextmenu"],H=["innerHTML"],Q=["label","aria-label","onClick","onContextmenu"],W=["innerHTML"],N=["label","aria-label","onClick","onContextmenu"],z=["innerHTML"],R=["label","onClick"],V={key:0,class:"actions-container"},K=["id","aria-label","href","onClick"],B={class:"icon"},U=["id","aria-label","onClick"],Y={class:"icon"},q=["id","aria-label","href"],G={class:"icon"};function J(e,t,a,i,J,Z){var ee=(0,n.g2)("b-checkbox"),te=(0,n.g2)("b-dropdown-item"),ae=(0,n.g2)("b-dropdown"),ne=(0,n.gN)("a11y-dropdown"),oe=(0,n.gN)("tooltip");return a.collections.length>0&&!a.isLoading?((0,n.uX)(),(0,n.CE)("div",l,[e.$userCaps.hasCapability("tnc_rep_delete_collections")?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("div",c,[(0,n.Lk)("span",null,[(0,n.bF)(ee,{"model-value":J.allCollectionsOnPageSelected,"onUpdate:modelValue":t[0]||(t[0]=function(e){return Z.selectAllCollectionsOnPage()})},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.get("label_select_all_collections_page")),1)]})),_:1},8,["model-value"])])]),(0,n.Lk)("div",s,[(0,n.bo)(((0,n.uX)(),(0,n.Wv)(ae,{id:"bulk-actions-dropdown","trigger-tabindex":-1,position:"is-bottom-left",disabled:!J.isSelectingCollections,"trap-focus":""},{trigger:(0,n.k6)((function(){return[(0,n.Lk)("button",{disabled:!J.isSelectingCollections,class:"button is-white"},[(0,n.Lk)("span",null,(0,n.v_)(e.$i18n.get("label_bulk_actions")),1),t[22]||(t[22]=(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,d)]})),default:(0,n.k6)((function(){return[(0,n.bF)(te,{id:"item-delete-selected-items",onClick:t[1]||(t[1]=function(e){return Z.deleteSelectedCollections()}),onKeydown:[t[2]||(t[2]=(0,n.jR)((0,n.D$)((function(e){return Z.deleteSelectedCollections()}),["prevent"]),["enter"])),t[3]||(t[3]=(0,n.jR)((0,n.D$)((function(e){return Z.deleteSelectedCollections()}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.get("label_delete_selected_collections")),1)]})),_:1})]})),_:1},8,["disabled"])),[[ne]])])])):(0,n.Q3)("",!0),(0,n.Lk)("div",u,[J.cursorPosY>0&&J.cursorPosX>0?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",{class:"context-menu-backdrop",onClick:t[4]||(t[4]=(0,n.D$)((function(e){return Z.clearContextMenu()}),["left"])),onContextmenu:t[5]||(t[5]=(0,n.D$)((function(e){return Z.clearContextMenu()}),["right"]))},null,32),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(ae,{inline:"",style:(0,n.Tr)({top:J.cursorPosY+"px",left:J.cursorPosX+"px"}),"trap-focus":""},{default:(0,n.k6)((function(){return[Z.isOnTrash?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(te,{key:0,onClick:t[6]||(t[6]=function(e){return Z.openCollection()}),onKeydown:[t[7]||(t[7]=(0,n.jR)((0,n.D$)((function(e){return Z.openCollection()}),["prevent"]),["enter"])),t[8]||(t[8]=(0,n.jR)((0,n.D$)((function(e){return Z.openCollection()}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.getFrom("collections","view_item")),1)]})),_:1})),Z.isOnTrash?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(te,{key:1,onClick:t[9]||(t[9]=function(e){return Z.openCollectionOnNewTab()}),onKeydown:[t[10]||(t[10]=(0,n.jR)((0,n.D$)((function(e){return Z.openCollectionOnNewTab()}),["prevent"]),["enter"])),t[11]||(t[11]=(0,n.jR)((0,n.D$)((function(e){return Z.openCollectionOnNewTab()}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.get("label_open_collection_new_tab")),1)]})),_:1})),null!=J.contextMenuIndex?((0,n.uX)(),(0,n.Wv)(te,{key:2,onClick:t[12]||(t[12]=function(e){return Z.selectCollection()}),onKeydown:[t[13]||(t[13]=(0,n.jR)((0,n.D$)((function(e){return Z.selectCollection()}),["prevent"]),["enter"])),t[14]||(t[14]=(0,n.jR)((0,n.D$)((function(e){return Z.selectCollection()}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(J.selectedCollections[J.contextMenuIndex]?e.$i18n.get("label_unselect_collection"):e.$i18n.get("label_select_collection")),1)]})),_:1})):(0,n.Q3)("",!0),null!=J.contextMenuCollection&&a.collections[J.contextMenuIndex]&&a.collections[J.contextMenuIndex].current_user_can_edit?((0,n.uX)(),(0,n.Wv)(te,{key:3,onClick:t[15]||(t[15]=function(e){return Z.goToCollectionEditPage(J.contextMenuCollection)}),onKeydown:[t[16]||(t[16]=(0,n.jR)((0,n.D$)((function(e){return Z.goToCollectionEditPage(J.contextMenuCollection)}),["prevent"]),["enter"])),t[17]||(t[17]=(0,n.jR)((0,n.D$)((function(e){return Z.goToCollectionEditPage(J.contextMenuCollection)}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.getFrom("collections","edit_item")),1)]})),_:1})):(0,n.Q3)("",!0),null!=J.contextMenuCollection&&a.collections[J.contextMenuIndex]&&a.collections[J.contextMenuIndex].current_user_can_delete?((0,n.uX)(),(0,n.Wv)(te,{key:4,onClick:t[18]||(t[18]=function(e){return Z.deleteOneCollection(a.collections[J.contextMenuIndex])}),onKeydown:[t[19]||(t[19]=(0,n.jR)((0,n.D$)((function(e){return Z.deleteOneCollection(a.collections[J.contextMenuIndex])}),["prevent"]),["enter"])),t[20]||(t[20]=(0,n.jR)((0,n.D$)((function(e){return Z.deleteOneCollection(a.collections[J.contextMenuIndex])}),["prevent"]),["space"]))]},{default:(0,n.k6)((function(){return[(0,n.eW)((0,n.v_)(e.$i18n.get("label_delete_collection")),1)]})),_:1})):(0,n.Q3)("",!0)]})),_:1},8,["style"])),[[ne]])])):(0,n.Q3)("",!0),(0,n.Lk)("table",b,[(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[e.$userCaps.hasCapability("tnc_rep_delete_collections")?((0,n.uX)(),(0,n.CE)("th",m,[(0,n.Lk)("span",h,(0,n.v_)(e.$i18n.get("label_select_collection")),1)])):(0,n.Q3)("",!0),Z.isOnAllCollectionsTab?((0,n.uX)(),(0,n.CE)("th",g,[(0,n.Lk)("span",f,(0,n.v_)(e.$i18n.get("label_status")),1)])):(0,n.Q3)("",!0),(0,n.Lk)("th",v,[(0,n.Lk)("div",k,(0,n.v_)(e.$i18n.get("label_thumbnail")),1)]),(0,n.Lk)("th",null,[(0,n.Lk)("div",y,(0,n.v_)(e.$i18n.get("label_name")),1)]),(0,n.Lk)("th",null,[(0,n.Lk)("div",_,(0,n.v_)(e.$i18n.get("label_description")),1)]),Z.isOnTrash?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("th",C,[(0,n.Lk)("div",w,(0,n.v_)(e.$i18n.get("label_total_items")),1)])),(0,n.Lk)("th",null,[(0,n.Lk)("div",x,(0,n.v_)(e.$i18n.get("label_modification_date")),1)]),(0,n.Lk)("th",null,[(0,n.Lk)("div",$,(0,n.v_)(e.$i18n.get("label_creation_date")),1)]),(0,n.Lk)("th",null,[(0,n.Lk)("div",L,(0,n.v_)(e.$i18n.get("label_created_by")),1)]),a.collections.findIndex((function(e){return e.current_user_can_edit||e.current_user_can_delete}))>=0?((0,n.uX)(),(0,n.CE)("th",P,[(0,n.Lk)("span",O,(0,n.v_)(e.$i18n.get("label_actions")),1)])):(0,n.Q3)("",!0)])]),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(a.collections,(function(a,i){return(0,n.uX)(),(0,n.CE)("tr",{key:i,class:(0,n.C4)({"selected-row":J.selectedCollections[i]})},[e.$userCaps.hasCapability("tnc_rep_delete_collections")?((0,n.uX)(),(0,n.CE)("td",{key:0,class:(0,n.C4)([{"is-selecting":J.isSelectingCollections},"checkbox-cell"])},[(0,n.bF)(ee,{modelValue:J.selectedCollections[i],"onUpdate:modelValue":function(e){return J.selectedCollections[i]=e},"aria-label":e.$i18n.get("label_select_collection")+": "+a.name},null,8,["modelValue","onUpdate:modelValue","aria-label"])],2)):(0,n.Q3)("",!0),Z.isOnAllCollectionsTab?((0,n.uX)(),(0,n.CE)("td",M,[e.$statusHelper.hasIcon(a.status)?(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",E,[(0,n.Lk)("i",{class:(0,n.C4)(["tainacan-icon tainacan-icon-1em",e.$statusHelper.getIcon(a.status)])},null,2)])),[[oe,{content:e.$i18n.get("status_"+a.status),autoHide:!0,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("td",{class:"thumbnail-cell column-default-width",label:e.$i18n.get("label_thumbnail"),"aria-label":e.$i18n.get("label_thumbnail"),onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.Lk)("span",null,[(0,n.Lk)("img",{alt:e.$i18n.get("label_thumbnail"),class:"table-thumb",src:e.$thumbHelper.getSrc(a.thumbnail,"tainacan-small")},null,8,j)])],40,X),(0,n.Lk)("td",{class:"column-default-width column-main-content",label:e.$i18n.get("label_name"),"aria-label":e.$i18n.get("label_name")+": "+a.name,onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",null,[(0,n.eW)((0,n.v_)(a.name),1)])),[[oe,{delay:{show:500,hide:300},content:a.name,autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],40,A),(0,n.Lk)("td",{class:"column-large-width",label:e.$i18n.get("label_description"),"aria-label":e.$i18n.get("label_description")+": "+(null!=a.description&&""!=a.description)?a.description:"<span class='has-text-dark is-italic'>"+e.$i18n.get("label_description_not_provided")+"</span>",onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.bo)((0,n.Lk)("p",{innerHTML:null!=a.description&&""!=a.description?a.description:"<span class='has-text-dark is-italic'>"+e.$i18n.get("label_description_not_provided")+"</span>"},null,8,I),[[oe,{delay:{show:500,hide:300},content:null!=a.description&&""!=a.description?a.description:"<span class='has-text-dark is-italic'>"+e.$i18n.get("label_description_not_provided")+"</span>",autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],40,T),(0,n.Lk)("td",{class:"column-small-width column-align-right",label:e.$i18n.get("label_total_items"),"aria-label":e.$i18n.get("label_total_items")+": "+(a.total_items?Z.getTotalItems(a.total_items):0),onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[null!=a.total_items?(0,n.bo)(((0,n.uX)(),(0,n.CE)("p",{key:0,innerHTML:Z.getTotalItems(a.total_items)},null,8,D)),[[oe,{delay:{show:500,hide:300},content:Z.getTotalItemsDetailed(a.total_items),autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,n.Q3)("",!0)],40,S),(0,n.Lk)("td",{class:"table-modification column-default-width",label:e.$i18n.get("label_modification_date"),"aria-label":e.$i18n.get("label_modification_date")+": "+a.modification_date,onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.bo)((0,n.Lk)("p",{innerHTML:a.modification_date},null,8,H),[[oe,{delay:{show:500,hide:300},content:a.modification_date,autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],40,F),(0,n.Lk)("td",{class:"table-creation column-default-width",label:e.$i18n.get("label_creation_date"),"aria-label":e.$i18n.get("label_creation_date")+": "+a.creation_date,onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.bo)((0,n.Lk)("p",{innerHTML:a.creation_date},null,8,W),[[oe,{delay:{show:500,hide:300},content:a.creation_date,autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],40,Q),(0,n.Lk)("td",{class:"table-creation column-default-width",label:e.$i18n.get("label_created_by"),"aria-label":e.$i18n.get("label_created_by")+": "+a.author_name,onClick:(0,n.D$)((function(e){return Z.onClickCollection(e,a.id,i)}),["left"]),onContextmenu:(0,n.D$)((function(e){return Z.onRightClickCollection(e,a.id,i)}),["right"])},[(0,n.bo)((0,n.Lk)("p",{innerHTML:a.author_name},null,8,z),[[oe,{delay:{show:500,hide:300},content:a.author_name,autoHide:!1,html:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],40,N),a.current_user_can_edit||a.current_user_can_delete?((0,n.uX)(),(0,n.CE)("td",{key:2,class:(0,n.C4)(["column-default-width",{"actions-cell":a.current_user_can_edit||a.current_user_can_delete}]),label:e.$i18n.get("label_actions"),onClick:function(e){return Z.onClickCollection(e,a.id,i)}},[J.isSelectingCollections?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("div",V,[a.current_user_can_edit?((0,n.uX)(),(0,n.CE)("a",{key:0,id:"button-edit-"+a.id,class:"button-edit","aria-label":e.$i18n.getFrom("collections","edit_item"),href:e.$routerHelper.getAbsoluteAdminPath()+e.$routerHelper.getCollectionEditPath(a.id),onClick:(0,n.D$)((function(e){return Z.goToCollectionEditPage(a.id)}),["prevent","stop"])},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",B,o(t[23]||(t[23]=[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-settings"},null,-1)])))),[[oe,{content:e.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto",html:!0}]])],8,K)):(0,n.Q3)("",!0),a.current_user_can_delete?((0,n.uX)(),(0,n.CE)("a",{key:1,id:"button-delete-"+a.id,class:"button-delete",role:"button",tabindex:"0","aria-label":e.$i18n.get("label_button_delete"),onClick:(0,n.D$)((function(e){return Z.deleteOneCollection(a)}),["prevent","stop"])},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",Y,[(0,n.Lk)("i",{class:(0,n.C4)([{"tainacan-icon-delete":!Z.isOnTrash,"tainacan-icon-deleteforever":Z.isOnTrash},"tainacan-icon tainacan-icon-1-25em"])},null,2)])),[[oe,{content:e.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto"}]])],8,U)):(0,n.Q3)("",!0),(0,n.Lk)("a",{id:"button-open-external-"+a.id,class:"button-open-external","aria-label":e.$i18n.getFrom("collections","view_item"),target:"_blank",href:a.url,onClick:t[21]||(t[21]=(0,n.D$)((function(){}),["stop"]))},[(0,n.bo)(((0,n.uX)(),(0,n.CE)("span",G,o(t[24]||(t[24]=[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-1-125em tainacan-icon-openurl"},null,-1)])))),[[oe,{content:e.$i18n.get("label_view_collection_on_website"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto",html:!0}]])],8,q)]))],10,R)):(0,n.Q3)("",!0)],2)})),128))])])])])):(0,n.Q3)("",!0)}},80224(e,t,a){a.d(t,{A:()=>r});var n=a(31601),o=a.n(n),i=a(76314),l=a.n(i)()(o());l.push([e.id,".tainacan-clickable-cards[data-v-530564b3]{display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));grid-gap:1rem;padding:var(--tainacan-container-padding) var(--tainacan-one-column);list-style:none}.tainacan-clickable-cards .tainacan-clickable-card[data-v-530564b3]{background-color:var(--tainacan-clickable-card-background-color, var(--tainacan-white));border:1px solid var(--tainacan-clickable-card-border-color, var(--tainacan-input-border-color, var(--tainacan-gray2)));border-radius:var(--tainacan-clickable-card-border-radius, var(--tainacan-button-border-radius, 4px));color:var(--tainacan-clickable-card-color, var(--tainacan-gray4));padding:15px;cursor:pointer;transition:border .3s ease;text-decoration:none;display:flex;flex-direction:column;align-items:flex-start;gap:.25em}.tainacan-clickable-cards .tainacan-clickable-card[data-v-530564b3]:hover,.tainacan-clickable-cards .tainacan-clickable-card[data-v-530564b3]:focus{background-color:var(--tainacan-clickable-card-background-color-hover, var(--tainacan-item-hover-background-color, --tainacan-gray1));border:1px solid var(--tainacan-clickable-card-border-color-hover, var(--tainacan-secondary))}.tainacan-clickable-cards .tainacan-clickable-card:hover h3[data-v-530564b3],.tainacan-clickable-cards .tainacan-clickable-card:hover h4[data-v-530564b3],.tainacan-clickable-cards .tainacan-clickable-card:focus h3[data-v-530564b3],.tainacan-clickable-cards .tainacan-clickable-card:focus h4[data-v-530564b3]{color:var(--tainacan-clickable-card-title-color-hover, var(--tainacan-secondary))}.tainacan-clickable-cards .tainacan-clickable-card h3[data-v-530564b3],.tainacan-clickable-cards .tainacan-clickable-card h4[data-v-530564b3]{font-weight:500;font-size:1em !important;margin:0;color:var(--tainacan-clickable-card-title-color, var(--tainacan-gray5))}.tainacan-clickable-cards .tainacan-clickable-card p[data-v-530564b3]{font-size:.75em;margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--tainacan-clickable-card-color, var(--tainacan-gray4))}",""]);const r=l},83165(e,t,a){a.d(t,{A:()=>r});var n=a(31601),o=a.n(n),i=a(76314),l=a.n(i)()(o());l.push([e.id,".tainacan-clickable-cards[data-v-07b07f46]{display:grid;grid-template-columns:repeat(auto-fill, minmax(250px, 1fr));grid-gap:1rem;padding:var(--tainacan-container-padding) var(--tainacan-one-column);list-style:none}.tainacan-clickable-cards .tainacan-clickable-card[data-v-07b07f46]{background-color:var(--tainacan-clickable-card-background-color, var(--tainacan-white));border:1px solid var(--tainacan-clickable-card-border-color, var(--tainacan-input-border-color, var(--tainacan-gray2)));border-radius:var(--tainacan-clickable-card-border-radius, var(--tainacan-button-border-radius, 4px));color:var(--tainacan-clickable-card-color, var(--tainacan-gray4));padding:15px;cursor:pointer;transition:border .3s ease;text-decoration:none;display:flex;flex-direction:column;align-items:flex-start;gap:.25em}.tainacan-clickable-cards .tainacan-clickable-card[data-v-07b07f46]:hover,.tainacan-clickable-cards .tainacan-clickable-card[data-v-07b07f46]:focus{background-color:var(--tainacan-clickable-card-background-color-hover, var(--tainacan-item-hover-background-color, --tainacan-gray1));border:1px solid var(--tainacan-clickable-card-border-color-hover, var(--tainacan-secondary))}.tainacan-clickable-cards .tainacan-clickable-card:hover h3[data-v-07b07f46],.tainacan-clickable-cards .tainacan-clickable-card:hover h4[data-v-07b07f46],.tainacan-clickable-cards .tainacan-clickable-card:focus h3[data-v-07b07f46],.tainacan-clickable-cards .tainacan-clickable-card:focus h4[data-v-07b07f46]{color:var(--tainacan-clickable-card-title-color-hover, var(--tainacan-secondary))}.tainacan-clickable-cards .tainacan-clickable-card h3[data-v-07b07f46],.tainacan-clickable-cards .tainacan-clickable-card h4[data-v-07b07f46]{font-weight:500;font-size:1em !important;margin:0;color:var(--tainacan-clickable-card-title-color, var(--tainacan-gray5))}.tainacan-clickable-cards .tainacan-clickable-card p[data-v-07b07f46]{font-size:.75em;margin:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;color:var(--tainacan-clickable-card-color, var(--tainacan-gray4))}",""]);const r=l},95262(e,t,a){a.d(t,{X:()=>b});var n=a(6934);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var l={style:{width:"auto"}},r={class:"tainacan-modal-title"},c=["aria-label"],s={class:"tainacan-form"},d={role:"list",class:"importer-types-container tainacan-clickable-cards"},u={class:"field is-grouped form-submit"},p={class:"control"};function b(e,t,a,i,b,m){var h=(0,n.g2)("router-link"),g=(0,n.g2)("b-loading");return(0,n.uX)(),(0,n.CE)("form",{ref:"availableImportersModal",action:"",autofocus:"",role:"dialog",class:(0,n.C4)(["tainacan-modal-content",{"tainacan-repository-level-colors":isNaN(a.targetCollection)||!a.targetCollection}]),tabindex:"-1","aria-modal":""},[(0,n.Lk)("div",l,[(0,n.Lk)("header",r,[(0,n.Lk)("h2",null,(0,n.v_)(e.$i18n.get("importers")),1),(0,n.Lk)("button",{class:"button is-medium is-white is-align-self-flex-start","aria-label":e.$i18n.get("close"),onClick:t[0]||(t[0]=function(t){return e.$emit("close")})},o(t[4]||(t[4]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,c)]),(0,n.Lk)("section",s,[(0,n.Lk)("p",null,(0,n.v_)(e.$i18n.get("instruction_select_an_importer_type")),1),(0,n.Lk)("div",d,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(b.availableImporters,(function(o){return(0,n.uX)(),(0,n.CE)(n.FK,{key:o.slug},[!a.hideWhenManualCollection||o.manual_collection?((0,n.uX)(),(0,n.Wv)(h,{key:0,role:"listitem",class:"importer-type tainacan-clickable-card",to:{path:e.$routerHelper.getImporterEditionPath(o.slug),query:{targetCollection:a.targetCollection}},onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},{default:(0,n.k6)((function(){return[(0,n.Lk)("h4",null,(0,n.v_)(o.name),1),(0,n.Lk)("p",null,(0,n.v_)(o.description),1)]})),_:2},1032,["to"])):(0,n.Q3)("",!0)],64)})),128)),(0,n.bF)(g,{modelValue:b.isLoading,"onUpdate:modelValue":t[2]||(t[2]=function(e){return b.isLoading=e}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"])]),(0,n.Lk)("footer",u,[(0,n.Lk)("div",p,[(0,n.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[3]||(t[3]=function(t){return e.$emit("close")})},"Close")])])])])],2)}},96324(e,t,a){a(99863)},96721(e,t,a){a.d(t,{X:()=>C});var n=a(6934);function o(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?i(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}var l={ref:"collectionCreationModal","aria-labelledby":"collection-creation-title",autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content tainacan-repository-level-colors",style:{width:"auto"}},r={class:"tainacan-modal-title"},c={key:0,id:"collection-creation-title"},s={key:1,id:"collection-creation-title"},d={key:2,id:"collection-creation-title"},u=["aria-label"],p={class:"tainacan-form"},b={key:0,class:"collection-creation-options-container tainacan-clickable-cards"},m={key:1,class:"collection-creation-options-container tainacan-clickable-cards",role:"list"},h=["onClick"],g={key:0},f={key:2,class:"collection-creation-options-container tainacan-clickable-cards",role:"list"},v=["onClick"],k={key:0},y={class:"field is-grouped form-submit"},_={class:"control"};function C(e,t,a,i,C,w){var x=(0,n.g2)("b-loading");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("header",r,["mappers"==C.selectedEstrategy?((0,n.uX)(),(0,n.CE)("h2",c,(0,n.v_)(e.$i18n.get("label_create_collection_from_mapper")),1)):"presets"==C.selectedEstrategy?((0,n.uX)(),(0,n.CE)("h2",s,(0,n.v_)(e.$i18n.get("label_create_collection_from_preset")),1)):((0,n.uX)(),(0,n.CE)("h2",d,(0,n.v_)(e.$i18n.get("label_create_collection")),1)),(0,n.Lk)("button",{class:"button is-medium is-white is-align-self-flex-start","aria-label":e.$i18n.get("close"),onClick:t[0]||(t[0]=function(t){return e.$emit("close")})},o(t[6]||(t[6]=[(0,n.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,n.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,u)]),(0,n.Lk)("section",p,[null==C.selectedEstrategy?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.Lk)("button",{class:"collection-creation-option tainacan-clickable-card",role:"listitem",onClick:t[1]||(t[1]=function(e){return C.selectedEstrategy="mappers"})},[(0,n.Lk)("h3",null,(0,n.v_)(e.$i18n.get("label_from_a_mapper")),1),(0,n.Lk)("p",null,(0,n.v_)(e.$i18n.get("info_create_collection_from_mapper")),1)]),(0,n.Lk)("button",{class:"collection-creation-option tainacan-clickable-card",role:"listitem",onClick:t[2]||(t[2]=function(e){return C.selectedEstrategy="presets"})},[(0,n.Lk)("h3",null,(0,n.v_)(e.$i18n.get("label_using_a_preset")),1),(0,n.Lk)("p",null,(0,n.v_)(e.$i18n.get("info_create_collection_from_preset")),1)])])):(0,n.Q3)("",!0),"mappers"==C.selectedEstrategy?((0,n.uX)(),(0,n.CE)("div",m,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.metadatumMappers,(function(t){return(0,n.uX)(),(0,n.CE)(n.FK,{key:t.slug},[0!=t.metadata?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"collection-creation-option tainacan-clickable-card",role:"listitem",onClick:function(a){e.$router.push(e.$routerHelper.getNewMappedCollectionPath(t.slug)),e.$emit("close")}},[(0,n.Lk)("h3",null,(0,n.v_)(t.name),1),t.description?((0,n.uX)(),(0,n.CE)("p",g,(0,n.v_)(t.description),1)):(0,n.Q3)("",!0)],8,h)):(0,n.Q3)("",!0)],64)})),128))])):(0,n.Q3)("",!0),"presets"==C.selectedEstrategy?((0,n.uX)(),(0,n.CE)("div",f,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(w.getPresetsHook,(function(e){return(0,n.uX)(),(0,n.CE)("button",{key:e.slug,class:"collection-creation-option tainacan-clickable-card",role:"listitem",onClick:function(t){return w.onNewCollectionPreset(e)}},[(0,n.Lk)("h3",null,(0,n.v_)(e.name),1),e.description?((0,n.uX)(),(0,n.CE)("p",k,(0,n.v_)(e.description),1)):(0,n.Q3)("",!0)],8,v)})),128))])):(0,n.Q3)("",!0),(0,n.bF)(x,{modelValue:C.isLoadingMetadatumMappers,"onUpdate:modelValue":t[3]||(t[3]=function(e){return C.isLoadingMetadatumMappers=e}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"]),(0,n.bF)(x,{modelValue:C.isCreatingCollectionPreset,"onUpdate:modelValue":t[4]||(t[4]=function(e){return C.isCreatingCollectionPreset=e}),"is-full-page":!1,"can-cancel":!1},null,8,["modelValue"]),(0,n.Lk)("footer",y,[(0,n.Lk)("div",_,[(0,n.Lk)("button",{class:"button is-outlined",type:"button",onClick:t[5]||(t[5]=function(t){return e.$emit("close")})},(0,n.v_)(e.$i18n.get("close")),1)])])])],512)}},98217(e,t,a){a.d(t,{A:()=>n.A});var n=a(59988)},99863(e,t,a){var n=a(85072),o=a.n(n),i=a(97825),l=a.n(i),r=a(77659),c=a.n(r),s=a(55056),d=a.n(s),u=a(10540),p=a.n(u),b=a(63494),m=a.n(b),h=a(80224),g={};g.styleTagTransform=m(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=p();o()(h.A,g),h.A&&h.A.locals&&h.A.locals}}]);