"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[7498],{456(t,a,e){e.d(a,{A:()=>v});var i=e(40834),n=e(11158),o=e(23527),r=e(3012),d=e(48766);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return c(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function c(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function m(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?m(Object(e),!0).forEach((function(a){p(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function p(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==l(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const v={components:{MetadatumEditionForm:n.A,MetadatumDetails:o.A,Sortable:d.L},props:{isRepositoryLevel:Boolean,parent:Object,isParentMultiple:Boolean,metadataNameFilterString:String,hasSomeMetadataTypeFilterApplied:{type:Boolean,default:new Boolean},metadataTypeFilterOptions:{type:Array,default:new Array},collapseAll:{type:Boolean,default:new Boolean},sectionId:String},data:function(){return{collectionId:"",isLoadingMetadata:!1,isUpdatingMetadataOrder:!1,openedMetadatumId:"",highlightedMetadatum:"",metadataSearchCancel:void 0,childrenMetadata:[],collapses:{}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){var a=this.childrenMetadata.findIndex((function(a){return a&&a.id==t.edit}));a>=0&&this.editMetadatum(this.childrenMetadata[a])}},immediate:!0,deep:!0},"parent.metadata_type_options.children_objects":{handler:function(t){t&&t.length>0?this.childrenMetadata=t:this.childrenMetadata=[]},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.childrenMetadata.forEach((function(e){return Object.assign(a.collapses,p({},e.id,t))}))}},mounted:function(){this.isRepositoryLevel?this.collectionId="default":this.collectionId=this.$route.params.collectionId},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled.")},methods:u(u(u({},(0,i.i0)("metadata",["fetchMetadata","sendMetadatum","deleteMetadatum","updateChildMetadataOrder"])),(0,i.L8)("metadata",["getMetadatumTypes"])),{},{handleChange:function(t){switch(t.type){case"add":t.from.classList.contains("active-metadata-area")||(this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex),t.to.removeChild(t.item));break;case"remove":this.removeMetadatum(this.childrenMetadata[t.oldIndex]);break;case"change":case"update":var a=JSON.parse(JSON.stringify(this.childrenMetadata)),e=a.splice(t.oldIndex,1)[0];a.splice(t.newIndex,0,e),this.childrenMetadata=a,this.updateMetadataOrder()}},updateMetadataOrder:function(){var t,a=this,e=[],i=s(this.childrenMetadata);try{for(i.s();!(t=i.n()).done;){var n=t.value;null!=n&&e.push({id:n.id})}}catch(t){i.e(t)}finally{i.f()}this.isUpdatingMetadataOrder=!0,this.updateChildMetadataOrder({isRepositoryLevel:this.isRepositoryLevel,collectionId:this.collectionId,parentMetadatumId:this.parent.id,childMetadataOrder:e}).then((function(){return a.isUpdatingMetadataOrder=!1})).catch((function(){return a.isUpdatingMetadataOrder=!1}))},addNewMetadatum:function(t,a){var e=this;this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className?t.className:t.metadata_type,status:"auto-draft",isRepositoryLevel:this.isRepositoryLevel,newIndex:a,parent:this.parent.id,sectionId:!!this.sectionId&&this.sectionId}).then((function(t){e.updateMetadataOrder(),e.toggleMetadatumEdition(t.id),e.highlightedMetadatum=""})).catch((function(t){e.$console.error(t)}))},removeMetadatum:function(t){var a=this,e="";t&&"object"===l(t)&&(void 0!==t.name&&null!==t.name&&""!==t.name?e=t.name:t.id&&(e="ID: "+t.id));var i=this.$i18n.getWithVariables("info_warning_metadatum_delete_%s",[e]);this.$buefy.modal.open({component:r.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:i,onConfirm:function(){a.deleteMetadatum({collectionId:a.collectionId,metadatumId:t.id,isRepositoryLevel:a.isRepositoryLevel}).then((function(){a.updateMetadataOrder()})).catch((function(){a.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},toggleMetadatumEdition:function(t){this.openedMetadatumId==t?(this.openedMetadatumId="",this.$router.push({query:{}})):this.$router.push({query:{edit:t}})},editMetadatum:function(t){this.openedMetadatumId=t.id},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},moveMetadatumUpViaButton:function(t){this.childrenMetadata.splice(t-1,0,this.childrenMetadata.splice(t,1)[0]),this.updateMetadataOrder()},moveMetadatumDownViaButton:function(t){this.childrenMetadata.splice(t+1,0,this.childrenMetadata.splice(t,1)[0]),this.updateMetadataOrder()},isAvailableChildMetadata:function(t,a,e){return!(!this.isRepositoryLevel&&"default"===this.parent.collection_id)&&(!!(e&&e.dataset&&e.dataset.metadatumType)&&((!a.el||"active-metadata-area"!==a.el.className)&&!["tainacan-compound","tainacan-taxonomy"].includes(e.dataset.metadatumType)))},isCollapseOpen:function(t){return 1==this.collapses[t]},filterByMetadatumName:function(t){return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;var a,e=s(this.metadataTypeFilterOptions);try{for(e.s();!(a=e.n()).done;){var i=a.value;if(i.enabled&&t.metadata_type==i.type)return!0}}catch(t){e.e(t)}finally{e.f()}return!1}})}},2390(t,a,e){e.d(a,{A:()=>o});var i=e(98059),n=e(84161);const o=(0,e(66262).A)(n.A,[["render",i.X]])},4459(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,'.available-metadata-types-area{padding-inline-start:10px !important;padding-inline-end:0 !important;padding-block-start:10px !important;padding-block-end:10px !important;margin:0;max-width:260px;min-width:20.8333333%;max-height:calc(100vh - 7.75em);max-height:calc(100dvh - 7.75em);top:calc(.125rem + var(--tainacan-container-padding) + var(--tainacan-button-min-height, 2.571em));position:sticky;font-size:.875em}@media screen and (max-width: 1023px){.available-metadata-types-area{max-width:100%;padding:10px}.available-metadata-types-area h2,.available-metadata-types-area h3{margin:1em 0em 1em 0em !important}.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadata-section-item::before,.available-metadata-types-area .available-metadata-section-item::after{display:none !important}}.available-metadata-types-area h2,.available-metadata-types-area h3{margin:.875em 0em 1em 0em}.available-metadata-types-area .available-metadatum-item,.available-metadata-types-area .available-metadata-section-item{padding:.6em;margin:4px 4px 4px 1.2em;background-color:var(--tainacan-white);cursor:pointer;inset-inline-start:0;height:2.8571em;border-radius:var(--tainacan-button-border-radius, 0px);position:relative;border:1px solid var(--tainacan-gray2);transition:inset-inline-start .2s ease}.available-metadata-types-area .available-metadatum-item .grip-icon,.available-metadata-types-area .available-metadata-section-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.available-metadata-types-area .available-metadatum-item .icon,.available-metadata-types-area .available-metadata-section-item .icon{position:relative;bottom:1px}.available-metadata-types-area .available-metadatum-item .preview-help-icon,.available-metadata-types-area .available-metadata-section-item .preview-help-icon{position:absolute;top:6px}.available-metadata-types-area .available-metadatum-item .metadatum-name,.available-metadata-types-area .available-metadata-section-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;font-weight:bold;margin-inline-start:.4em;display:inline-block;max-width:180px;width:60%}.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadata-section-item::after,.available-metadata-types-area .available-metadata-section-item::before{content:"";display:block;position:absolute;inset-inline-end:100%;width:0;height:0;border-style:solid;border-radius:var(--tainacan-button-border-radius, 0px)}.available-metadata-types-area .available-metadatum-item::after,.available-metadata-types-area .available-metadata-section-item::after{top:-1px;border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-inline-end-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;inset-inline-start:calc(-19px + var(--tainacan-button-border-radius, 0px)/2)}.available-metadata-types-area .available-metadatum-item::before,.available-metadata-types-area .available-metadata-section-item::before{top:-1px;border-color:rgba(0,0,0,0) var(--tainacan-gray2) rgba(0,0,0,0) rgba(0,0,0,0);border-inline-end-width:16px;border-top-width:1.4286em;border-bottom-width:1.4286em;inset-inline-start:calc(-20px + var(--tainacan-button-border-radius, 0px)/2)}.available-metadata-types-area .available-metadata-section-item{margin-top:2em;color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}.available-metadata-types-area .available-metadata-section-item::before{border-color:rgba(0,0,0,0) var(--tainacan-secondary) rgba(0,0,0,0) rgba(0,0,0,0)}.available-metadata-types-area .sortable-drag{opacity:1 !important}.available-metadata-types-area .sortable-chosen .metadata-type-preview{display:none}@keyframes hightlighten{0%{color:#222;background-color:var(--tainacan-white);border-color:var(--tainacan-white)}25%{color:var(--tainacan-white);background-color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}75%{color:var(--tainacan-white);background-color:var(--tainacan-secondary);border-color:var(--tainacan-secondary)}100%{color:#222;background-color:var(--tainacan-white);border-color:var(--tainacan-white)}}@keyframes hightlighten-icon{0%{color:var(--tainacan-gray3)}25%{color:var(--tainacan-white)}75%{color:var(--tainacan-white)}100%{color:var(--tainacan-gray3)}}@keyframes hightlighten-arrow{0%{border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0)}25%{border-color:rgba(0,0,0,0) var(--tainacan-secondary) rgba(0,0,0,0) rgba(0,0,0,0);border-color:rgba(0,0,0,0) var(--tainacan-secondary) rgba(0,0,0,0) rgba(0,0,0,0)}75%{border-color:rgba(0,0,0,0) var(--tainacan-secondary) rgba(0,0,0,0) rgba(0,0,0,0);border-color:rgba(0,0,0,0) var(--tainacan-secondary) rgba(0,0,0,0) rgba(0,0,0,0)}100%{border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0);border-color:rgba(0,0,0,0) #fff rgba(0,0,0,0) rgba(0,0,0,0)}}.available-metadata-types-area .highlighted-metadatum{background-color:var(--tainacan-white);position:relative;inset-inline-start:0px;animation-name:hightlighten;animation-duration:1s;animation-iteration-count:2}.available-metadata-types-area .highlighted-metadatum .grip-icon{animation-name:hightlighten-icon;animation-duration:1s;animation-iteration-count:2}.available-metadata-types-area .highlighted-metadatum::before,.available-metadata-types-area .highlighted-metadatum::after{animation-name:hightlighten-arrow;animation-duration:1s;animation-iteration-count:2}.available-metadata-types-area .available-metadatum-item:hover,.available-metadata-types-area .available-metadata-section-item:hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise2);position:relative;inset-inline-start:-4px}.available-metadata-types-area .available-metadatum-item:hover:after,.available-metadata-types-area .available-metadata-section-item:hover:after{border-color:rgba(0,0,0,0) var(--tainacan-turquoise1) rgba(0,0,0,0) rgba(0,0,0,0)}.available-metadata-types-area .available-metadatum-item:hover:before,.available-metadata-types-area .available-metadata-section-item:hover:before{border-color:rgba(0,0,0,0) var(--tainacan-turquoise2) rgba(0,0,0,0) rgba(0,0,0,0)}.available-metadata-types-area .available-metadatum-item:hover .grip-icon,.available-metadata-types-area .available-metadata-section-item:hover .grip-icon{color:var(--tainacan-secondary)}.inherited-metadatum.available-metadatum-item:hover,.inherited-metadatum.available-metadata-section-item:hover{background-color:var(--tainacan-blue1) !important;border-color:var(--tainacan-blue2) !important}.inherited-metadatum.available-metadatum-item:hover .grip-icon,.inherited-metadatum.available-metadata-section-item:hover .grip-icon{color:var(--tainacan-blue5) !important}.inherited-metadatum.available-metadatum-item:hover:after,.inherited-metadatum.available-metadata-section-item:hover:after{border-color:rgba(0,0,0,0) var(--tainacan-blue1) rgba(0,0,0,0) rgba(0,0,0,0) !important}.inherited-metadatum.available-metadatum-item:hover:before,.inherited-metadatum.available-metadata-section-item:hover:before{border-color:rgba(0,0,0,0) var(--tainacan-blue2) rgba(0,0,0,0) rgba(0,0,0,0) !important}',""]);const d=r},7456(t,a,e){e.d(a,{X:()=>i.X});var i=e(94229)},10281(t,a,e){e.d(a,{A:()=>u});var i=e(6934),n=e(40834),o=e(74042);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function d(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return l(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function l(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==r(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const u={name:"MetadataSectionEditionForm",components:{TainacanSelectbox:(0,i.$V)((function(){return e.e(5724).then(e.bind(e,93343))})),TainacanTaxonomy:(0,i.$V)((function(){return Promise.all([e.e(3709),e.e(7158)]).then(e.bind(e,14777))}))},mixins:[o.X3],props:{index:"",originalMetadataSection:Object,collectionId:"",isInsideImporterFlow:!1},emits:["on-edition-finished","on-edition-canceled"],data:function(){return{form:{},formErrors:{},formErrorMessage:"",closedByForm:!1,entityName:"metadataSection",isUpdating:!1,selectedConditionalMetadatumId:void 0,selectedConditionalValue:[],hideConditionalSectionSettings:!1,shouldUpdateConditionalValue:!0}},computed:c(c({},(0,n.L8)("metadata",["getMetadataSections"])),{},{availableConditionalMetadata:function(){var t=this;if(this.getMetadataSections.length){var a,e=this.getMetadataSections.filter((function(a){return a.id!=t.form.id})),i=[],n=d(e);try{for(n.s();!(a=n.n()).done;){var o=a.value;i.push.apply(i,o.metadata_object_list)}}catch(t){n.e(t)}finally{n.f()}return i.filter((function(t){return"Tainacan\\Metadata_Types\\Selectbox"===t.metadata_type||"Tainacan\\Metadata_Types\\Taxonomy"===t.metadata_type}))}return[]},isConditionalSection:function(){return"yes"==this.form.is_conditional_section},selectedConditionalMetadatum:function(){var t=this;return this.availableConditionalMetadata.find((function(a){return a.id==t.selectedConditionalMetadatumId}))}}),created:function(){if(this.form=JSON.parse(JSON.stringify(this.originalMetadataSection)),"auto-draft"==this.form.status&&(this.form.status="publish"),"yes"==this.form.is_conditional_section&&Object.keys(this.form.conditional_section_rules).length){var t=Object.keys(this.form.conditional_section_rules)[0];this.selectedConditionalMetadatumId=t,this.selectedConditionalValue=this.form.conditional_section_rules[t]}this.formErrors=null!=this.form.formErrors?this.form.formErrors:{},this.formErrorMessage=null!=this.form.formErrors?this.form.formErrorMessage:""},mounted:function(){var t=this;(0,i.dY)().then((function(){t.updateExtraFormData(t.form)}))},methods:c(c({},(0,n.i0)("metadata",["updateMetadataSection"])),{},{saveEdition:function(t){var a=this;"yes"==this.form.is_conditional_section&&this.selectedConditionalMetadatumId&&this.selectedConditionalValue?(this.form.conditional_section_rules={},this.form.conditional_section_rules[this.selectedConditionalMetadatumId]=this.selectedConditionalValue):this.form.conditional_section_rules=null,this.fillExtraFormData(this.form),this.isUpdating=!0,this.updateMetadataSection({collectionId:this.collectionId,metadataSectionId:t.id,index:this.index,options:this.form}).then((function(){a.form={},a.formErrors={},a.formErrorMessage="",a.isUpdating=!1,a.closedByForm=!0,a.$emit("on-edition-finished")})).catch((function(t){a.isUpdating=!1;var e,i=d(t.errors);try{for(i.s();!(e=i.n()).done;)for(var n=e.value,o=0,r=Object.keys(n);o<r.length;o++){var l=r[o];a.formErrors[l]=n[l]}}catch(t){i.e(t)}finally{i.f()}a.formErrorMessage=t.error_message,a.form.formErrors=a.formErrors,a.form.formErrorMessage=a.formErrorMessage}))},clearErrors:function(t){this.formErrors[t]=void 0},cancelEdition:function(){this.closedByForm=!0,this.$emit("on-edition-canceled")},selectConditionalValue:function(t){var a=Array.isArray(t)?t:[t];this.selectedConditionalValue=a.map((function(t){return t.value?t.value:t}))},reloadConditionalValueComponent:function(){var t=this;this.shouldUpdateConditionalValue=!1,this.selectedConditionalValue=[],this.$nextTick((function(){return t.shouldUpdateConditionalValue=!0}))}})}},10510(t,a,e){e(32583)},11391(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".metadatum-details[data-v-0dc68a3e]{padding:.75em 1.5em .75em 3.5em;-moz-column-count:3;-moz-column-gap:0;-moz-column-rule:none;-webkit-column-count:3;-webkit-column-gap:0;-webkit-column-rule:none;column-count:3;-moz-column-gap:4em;column-gap:4em;column-rule:none}@media screen and (max-width: 1024px){.metadatum-details[data-v-0dc68a3e]{-moz-column-count:2;column-count:2}}@media screen and (max-width: 768px){.metadatum-details[data-v-0dc68a3e]{-moz-column-count:1;column-count:1}}.metadatum-details[data-v-0dc68a3e] .field{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid;margin-bottom:.5em}.metadatum-details[data-v-0dc68a3e] .field>.field:not(:last-child){margin-bottom:0em}.metadatum-details[data-v-0dc68a3e] .field .label{white-space:normal}.metadatum-details[data-v-0dc68a3e] .field .value{font-size:.9em}.metadatum-details[data-v-0dc68a3e] .field:only-child{-moz-column-span:all;column-span:all}",""]);const d=r},12746(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(11391),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},20363(t,a,e){e.d(a,{X:()=>E});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function r(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return d(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var l={class:"child-metadata-list-container"},s={key:0,class:"field is-grouped-centered section not-sortable-item"},c={class:"content has-text-dark has-text-centered"},m=["data-metadatum-id","data-collection-id"],u={class:"sorting-buttons"},p=["disabled","aria-label","onClick"],v=["disabled","aria-label","onClick"],b=["onClick"],g={class:"metadatum-name"},h={key:0,class:"label-details"},f={key:0},y={key:1},_={key:2},M={key:3,class:"icon"},k={class:"icon icon-level-identifier"},w={key:1,class:"loading-spinner"},C={key:2,class:"controls"},L=["aria-label","onClick"],S={class:"icon"},x=["aria-label","onClick"],O={class:"icon"};function E(t,a,e,n,d,E){var I=(0,i.g2)("metadatum-details"),$=(0,i.g2)("metadatum-edition-form"),A=(0,i.g2)("b-modal"),j=(0,i.g2)("sortable"),F=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",l,[a[14]||(a[14]=(0,i.Lk)("span",{class:"icon children-icon not-sortable-item"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-nextlevel tainacan-icon-is-rtl-mirrored"})],-1)),d.childrenMetadata.length<=0?((0,i.uX)(),(0,i.CE)("section",s,[(0,i.Lk)("div",c,[a[6]||(a[6]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-18px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_child_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(j,{list:d.childrenMetadata,style:(0,i.Tr)({minHeight:d.childrenMetadata.length>0?"50px":"80px"}),class:"active-metadata-area child-metadata-area","item-key":"id",options:{group:{name:"metadata",pull:!1,put:E.isAvailableChildMetadata},sort:""==d.openedMetadatumId||null==d.openedMetadatumId,handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:a[3]||(a[3]=function(t){return E.handleChange(t)}),onAdd:a[4]||(a[4]=function(t){return E.handleChange(t)}),onRemove:a[5]||(a[5]=function(t){return E.handleChange(t)})},{item:(0,i.k6)((function(n){var l=n.element,s=n.index;return[(0,i.bo)((0,i.Lk)("div",{"data-metadatum-id":l.id,"data-collection-id":l.collection_id,class:(0,i.C4)(["active-metadatum-item",{"not-sortable-item":null==l.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||0==l.parent||l.collection_id!=d.collectionId||""!=e.metadataNameFilterString||e.hasSomeMetadataTypeFilterApplied,"not-focusable-item":d.openedMetadatumId==l.id,"disabled-metadatum":0==e.parent.enabled,"inherited-metadatum tainacan-repository-level-colors":l.collection_id!=d.collectionId&&0==l.parent||e.isRepositoryLevel}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+l.id,class:"handle"},[(0,i.Lk)("span",u,[(0,i.Lk)("button",{disabled:0==s,class:"link-button","aria-label":t.$i18n.get("label_move_up"),onClick:function(t){return E.moveMetadatumUpViaButton(s)}},r(a[7]||(a[7]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)])),8,p),(0,i.Lk)("button",{disabled:s==d.childrenMetadata.length-1,class:"link-button","aria-label":t.$i18n.get("label_move_down"),onClick:function(t){return E.moveMetadatumDownViaButton(s)}},r(a[8]||(a[8]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)])),8,v)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==l.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||0==l.parent||l.collection_id!=d.collectionId||""!=e.metadataNameFilterString||e.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon","aria-hidden":"true"},r(a[9]||(a[9]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])),4)),[[F,{content:null==l.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder?t.$i18n.get("info_not_allowed_change_order_metadata"):t.$i18n.get("instruction_drag_and_drop_metadatum_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon","aria-label":"$i18n.get('label_view_metadata_details')","aria-hidden":"true",style:(0,i.Tr)({cursor:"pointer",opacity:d.openedMetadatumId!=l.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(d.collapses,o({},l.id,!E.isCollapseOpen(l.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+(E.isCollapseOpen(l.id)?"arrowdown":"arrowright tainacan-icon-is-rtl-mirrored"))},null,2)],12,b)),[[F,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",g,(0,i.v_)(l.name),1),null!=l.id&&l.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",h,["yes"===l.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",f,r(a[10]||(a[10]=[(0,i.eW)(" *  ",-1)])))),[[F,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(l.metadata_type_object.name)+") ",1),l.metadata_type_object.core&&"title"==l.metadata_type_object.related_mapped_prop?((0,i.uX)(),(0,i.CE)("em",y,(0,i.v_)(t.$i18n.get("label_core_title")),1)):(0,i.Q3)("",!0),l.metadata_type_object.core&&"description"==l.metadata_type_object.related_mapped_prop?((0,i.uX)(),(0,i.CE)("em",_,(0,i.v_)(t.$i18n.get("label_core_description")),1)):(0,i.Q3)("",!0),"private"==l.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",M,r(a[11]||(a[11]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[F,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,[(0,i.Lk)("i",{class:(0,i.C4)([o(o({"tainacan-icon-collection":"default"!=l.collection_id&&!e.isRepositoryLevel,"tainacan-icon-repository":"default"==l.collection_id||e.isRepositoryLevel,"has-text-secondary":"default"!=l.collection_id&&!e.isRepositoryLevel},"has-text-secondary","default"==l.collection_id||e.isRepositoryLevel),"has-text-grey",!e.parent.enabled),"tainacan-icon"])},null,2)])),[[F,{content:"default"==l.collection_id||e.isRepositoryLevel?t.$i18n.get("label_repository_metadatum"):t.$i18n.get("label_collection_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])])):(0,i.Q3)("",!0),null==l.id?((0,i.uX)(),(0,i.CE)("span",w)):(0,i.Q3)("",!0),void 0!==l.id?((0,i.uX)(),(0,i.CE)("span",C,[l.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("edit"),onClick:(0,i.D$)((function(t){return E.toggleMetadatumEdition(l.id)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",S,r(a[12]||(a[12]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[F,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,L)):(0,i.Q3)("",!0),l.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId||"title"==l.metadata_type_object.related_mapped_prop||"description"==l.metadata_type_object.related_mapped_prop?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("delete"),onClick:(0,i.D$)((function(t){return E.removeMetadatum(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",O,r(a[13]||(a[13]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[F,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,x)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[E.isCollapseOpen(l.id)&&d.openedMetadatumId!==l.id?((0,i.uX)(),(0,i.Wv)(I,{key:0,metadatum:l},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024),(0,i.bF)(A,{"model-value":d.openedMetadatumId==l.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","can-cancel":["escape","outside"],onClose:a[2]||(a[2]=function(t){return E.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)($,{"collection-id":d.collectionId,"original-metadatum":l,"is-parent-multiple":e.isParentMultiple,"is-repository-level":e.isRepositoryLevel,index:s,onOnEditionFinished:a[0]||(a[0]=function(t){return E.onEditionFinished()}),onOnEditionCanceled:a[1]||(a[1]=function(t){return E.onEditionCanceled()})},null,8,["collection-id","original-metadatum","is-parent-multiple","is-repository-level","index"])]})),_:2},1032,["model-value"])],10,m),[[i.aG,(""==e.metadataNameFilterString||E.filterByMetadatumName(l))&&E.filterByMetadatumType(l)]])]})),_:1},8,["list","style","options"])])}},21447(t,a,e){e.d(a,{A:()=>i.A});var i=e(61352)},23527(t,a,e){e.d(a,{A:()=>o});var i=e(80307),n=e(96688);e(29235);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-0dc68a3e"]])},24954(t,a,e){e.d(a,{X:()=>$});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function r(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return d(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var l={class:"column is-12-touch"},s={class:"tainacan-form sub-header"},c=["aria-expanded"],m={"aria-hidden":"true",class:"icon"},u={class:"collapse-all__text"},p=["aria-label","disabled"],v={class:"metadata-options-container"},b={key:0,class:"field is-grouped-centered section"},g={class:"content has-text-dark has-text-centered"},h={class:"active-metadata-sections-area"},f={key:0},y={style:{opacity:"0.0"},class:"icon grip-icon"},_=["onClick"],M={class:"metadatum-name"},k={key:0},w={key:1,class:"icon"},C={class:"icon icon-level-identifier"},L={key:1,class:"loading-spinner"},S={key:2,class:"controls"},x=["aria-label","onClick"],O={class:"icon"},E=["aria-label","onClick"],I={class:"icon"};function $(t,a,e,n,d,$){var A=(0,i.g2)("b-loading"),j=(0,i.g2)("b-checkbox"),F=(0,i.g2)("b-dropdown-item"),X=(0,i.g2)("b-dropdown"),T=(0,i.g2)("b-field"),V=(0,i.g2)("b-input"),U=(0,i.g2)("metadatum-details"),P=(0,i.g2)("child-metadata-list"),z=(0,i.g2)("metadatum-edition-form"),N=(0,i.g2)("b-modal"),H=(0,i.g2)("sortable"),Q=(0,i.gN)("a11y-dropdown"),D=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(A,{modelValue:d.isLoadingMetadata,"onUpdate:modelValue":a[0]||(a[0]=function(t){return d.isLoadingMetadata=t}),"is-full-page":!1},null,8,["modelValue"]),(0,i.Lk)("div",s,[$.activeMetadatumList&&!d.isLoadingMetadata?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[$.activeMetadatumList.length>0?((0,i.uX)(),(0,i.CE)("button",{key:0,"aria-expanded":!d.collapseAll,class:"button link-style collapse-all",onClick:a[1]||(a[1]=function(t){return d.collapseAll=!d.collapseAll})},[(0,i.Lk)("span",m,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-arrowdown":d.collapseAll,"tainacan-icon-arrowright tainacan-icon-is-rtl-mirrored":!d.collapseAll},"has-text-secondary tainacan-icon tainacan-icon-1-125em"])},null,2)]),(0,i.Lk)("span",u,(0,i.v_)(d.collapseAll?t.$i18n.get("label_hide_details"):t.$i18n.get("label_show_details")),1)],8,c)):(0,i.Q3)("",!0),(0,i.bF)(T,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bo)(((0,i.uX)(),(0,i.Wv)(X,{"trigger-tabindex":-1,"mobile-modal":!0,disabled:$.activeMetadatumList.length<=0,class:"show metadata-options-dropdown","trap-focus":""},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",{"aria-label":t.$i18n.get("label_filter_by_metadata_type"),disabled:$.activeMetadatumList.length<=0,class:"button is-white"},[(0,i.Lk)("span",null,(0,i.v_)(t.$i18n.get("label_filter_by_type")),1),a[9]||(a[9]=(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,p)]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",v,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.metadataTypeFilterOptions,(function(t,a){return(0,i.uX)(),(0,i.Wv)(F,{key:a,class:(0,i.C4)(["control",{"is-active":t.enabled}]),custom:""},{default:(0,i.k6)((function(){return[(0,i.bF)(j,{modelValue:t.enabled,"onUpdate:modelValue":function(a){return t.enabled=a},"native-value":t.enabled},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","native-value"])]})),_:2},1032,["class"])})),128))])]})),_:1},8,["disabled"])),[[Q]])]})),_:1}),(0,i.bF)(T,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(V,{modelValue:d.metadataNameFilterString,"onUpdate:modelValue":a[2]||(a[2]=function(t){return d.metadataNameFilterString=t}),placeholder:t.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:a[3]||(a[3]=function(t){return d.metadataNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})],64)):(0,i.Q3)("",!0)]),$.activeMetadatumList.length<=0&&!d.isLoadingMetadata?((0,i.uX)(),(0,i.CE)("section",b,[(0,i.Lk)("div",g,[a[10]||(a[10]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",h,[(0,i.bF)(H,{list:$.activeMetadatumList,"item-key":"id",class:"active-metadata-area",options:{group:{name:"metadata",pull:!1,put:!0},sort:!1,handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onAdd:a[7]||(a[7]=function(t){return $.handleChange(t)}),onRemove:a[8]||(a[8]=function(t){return $.handleChange(t)})},{item:(0,i.k6)((function(n){var l=n.element,s=n.index;return[null!=l&&0==l.parent?(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",f,[(0,i.Lk)("div",{class:(0,i.C4)(["active-metadatum-item",{"is-compact-item":!$.isCollapseOpen(l.id),"not-sortable-item":!0,"not-focusable-item":d.openedMetadatumId==l.id,"disabled-metadatum":0==l.enabled,"inherited-metadatum tainacan-repository-level-colors":!0,"child-metadatum":l.parent>0}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+l.id,class:"handle"},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",y,r(a[11]||(a[11]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])))),[[D,{content:t.$i18n.get("info_not_allowed_change_order_metadata"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon","aria-hidden":"true",style:(0,i.Tr)({cursor:"pointer",opacity:d.openedMetadatumId!=l.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(d.collapses,o({},l.id,!$.isCollapseOpen(l.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+($.isCollapseOpen(l.id)?"arrowdown":"arrowright tainacan-icon-is-rtl-mirrored"))},null,2)],12,_)),[[D,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",M,(0,i.v_)(l.name),1),null!=l.id&&l.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":l.metadata_type_object.core}])},["yes"===l.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,r(a[12]||(a[12]=[(0,i.eW)(" *  ",-1)])))),[[D,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(l.metadata_type_object.name)+") ",1),"private"===l.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",w,r(a[13]||(a[13]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[D,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",C,[(0,i.Lk)("i",{class:(0,i.C4)([{"has-text-secondary":l.enabled,"has-text-grey":!l.enabled},"tainacan-icon tainacan-icon-repository"])},null,2)])),[[D,{content:t.$i18n.get("label_repository_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],2)):(0,i.Q3)("",!0),null==l.id?((0,i.uX)(),(0,i.CE)("span",L)):(0,i.Q3)("",!0),void 0!==l.id?((0,i.uX)(),(0,i.CE)("span",S,[l.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("edit"),onClick:(0,i.D$)((function(t){return $.toggleMetadatumEdition(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",O,r(a[14]||(a[14]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[D,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],12,x)):(0,i.Q3)("",!0),l.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId||l.metadata_type_object.core?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("delete"),onClick:(0,i.D$)((function(t){return $.removeMetadatum(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",I,r(a[15]||(a[15]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[D,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip","tainacan-repository-tooltip"],placement:"auto-start"}]])],12,E)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[$.isCollapseOpen(l.id)&&d.openedMetadatumId!==l.id?((0,i.uX)(),(0,i.Wv)(U,{key:0,metadatum:l},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024)],2),l.metadata_type_object&&"tainacan-compound"==l.metadata_type_object.component?((0,i.uX)(),(0,i.Wv)(P,{key:0,parent:l,"metadata-name-filter-string":d.metadataNameFilterString,"metadata-type-filter-options":e.metadataTypeFilterOptions,"has-some-metadata-type-filter-applied":$.hasSomeMetadataTypeFilterApplied,"is-parent-multiple":"yes"==l.multiple,"is-repository-level":!0,"collapse-all":d.collapseAll},null,8,["parent","metadata-name-filter-string","metadata-type-filter-options","has-some-metadata-type-filter-applied","is-parent-multiple","collapse-all"])):(0,i.Q3)("",!0),(0,i.bF)(N,{"model-value":d.openedMetadatumId==l.id,"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","can-cancel":["escape","outside"],onClose:a[6]||(a[6]=function(t){return $.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(z,{"collection-id":d.collectionId,"original-metadatum":l,"is-repository-level":!0,index:s,onOnEditionFinished:a[4]||(a[4]=function(t){return $.onEditionFinished()}),onOnEditionCanceled:a[5]||(a[5]=function(t){return $.onEditionCanceled()})},null,8,["collection-id","original-metadatum","index"])]})),_:2},1032,["model-value"])],512)),[[i.aG,(""==d.metadataNameFilterString||$.filterByMetadatumName(l))&&$.filterByMetadatumType(l)]]):(0,i.Q3)("",!0)]})),_:1},8,["list"])])])}},26971(t,a,e){e.d(a,{A:()=>l});var i=e(40834);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){d(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function d(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const l={name:"MetadataTypesList",components:{Sortable:e(48766).L},props:{isRepositoryLevel:Boolean,highlightedMetadatum:String},emits:["on-finished-loading-metadata-types"],data:function(){return{isLoadingMetadataTypes:!0,availableMetadataSectionsList:[{label:this.$i18n.get("label_add_new_section"),name:this.$i18n.get("label_new_metadata_section"),id:"metadataSectionCreator"}]}},computed:r({},(0,i.L8)("metadata",{availableMetadataTypes:"getMetadatumTypes"})),mounted:function(){var t=this;this.isLoadingMetadataTypes=!0,this.fetchMetadatumTypes().then((function(){t.$emit("on-finished-loading-metadata-types"),t.isLoadingMetadataTypes=!1})).catch((function(){t.isLoadingMetadataTypes=!1}))},methods:r(r({},(0,i.i0)("metadata",["fetchMetadatumTypes"])),{},{addMetadatumViaButton:function(t){this.$emitter.emit("addMetadatumViaButton",t)},addMetadataSectionViaButton:function(){this.$emitter.emit("addMetadataSectionViaButton")},getPreviewTemplateContent:function(t){return'<div class="metadata-type-preview tainacan-form">\n                        <span class="metadata-type-label">'+this.$i18n.get("label_metadatum_type_preview")+'</span>\n                        <div class="field">\n                            <span class="collapse-handle">\n                                <span class="icon">\n                                    <i class="has-text-secondary tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"></i>\n                                </span> \n                                <label class="label has-tooltip">'+t.name+"</label>\n                            </span>\n                            <div>"+t.preview_template+"</div>\n                        </div>\n                    </div>"}})}},27090(t,a,e){e.d(a,{X:()=>i.X});var i=e(80189)},29235(t,a,e){e(12746)},29799(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(77942),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},31968(t,a,e){e.d(a,{A:()=>o});var i=e(54936),n=e(91859);e(68634);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-2a6cdd26"]])},32583(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(86354),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},36053(t,a,e){e.d(a,{A:()=>i.A});var i=e(42091)},38424(t,a,e){e.d(a,{A:()=>b});var i=e(11158),n=e(23527),o=e(31968),r=e(3012),d=e(40834),l=e(48766);function s(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return c(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function c(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function u(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function p(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?u(Object(e),!0).forEach((function(a){v(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function v(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=m(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=m(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==m(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const b={name:"RepositoryMetadataList",components:{MetadatumEditionForm:i.A,ChildMetadataList:o.A,MetadatumDetails:n.A,Sortable:l.L},props:{metadataTypeFilterOptions:Array},emits:["on-update-highlighted-metadatum"],data:function(){return{collectionId:"default",isLoadingMetadata:!1,openedMetadatumId:"",highlightedMetadatum:"",collapses:{},collapseAll:!1,metadataNameFilterString:"",metadataSearchCancel:void 0}},computed:{hasSomeMetadataTypeFilterApplied:function(){return this.metadataTypeFilterOptions.length>0&&this.metadataTypeFilterOptions.some((function(t){return t.enabled}))},activeMetadatumList:{get:function(){return this.getMetadata()},set:function(t){this.updateMetadata(t)}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){var a=this.activeMetadatumList.findIndex((function(a){return a&&a.id==t.edit}));a>=0&&this.editMetadatum(this.activeMetadatumList[a])}},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.activeMetadatumList.forEach((function(e){return Object.assign(a.collapses,v({},e.id,t))}))}},mounted:function(){this.cleanMetadata(),this.loadMetadata(),this.$emitter.on("addMetadatumViaButton",this.addMetadatumViaButton)},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled."),this.$emitter.off("addMetadatumViaButton",this.addMetadatumViaButton)},methods:p(p(p({},(0,d.i0)("metadata",["fetchMetadata","sendMetadatum","deleteMetadatum","updateMetadata","cleanMetadata"])),(0,d.L8)("metadata",["getMetadata","getMetadatumTypes"])),{},{handleChange:function(t){switch(t.type){case"add":t.from.classList.contains("active-metadata-area")||(this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex),t.to.removeChild(t.item));break;case"remove":this.removeMetadatum(this.activeMetadatumList[t.oldIndex])}},addMetadatumViaButton:function(t){var a=this.activeMetadatumList.length;this.addNewMetadatum(t,a),this.highlightedMetadatum=t.name,this.$emit("on-update-highlighted-metadatum",this.highlightedMetadatum)},addNewMetadatum:function(t,a){var e=this;this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className,status:"auto-draft",isRepositoryLevel:!0,newIndex:a,parent:"0"}).then((function(t){e.toggleMetadatumEdition(t),e.highlightedMetadatum="",e.$emit("on-update-highlighted-metadatum",e.highlightedMetadatum)})).catch((function(t){e.$console.error(t)}))},removeMetadatum:function(t){var a=this,e="";t&&"object"===m(t)&&(void 0!==t.name&&null!==t.name&&""!==t.name?e=t.name:t.id&&(e="ID: "+t.id));var i=this.$i18n.getWithVariables("info_warning_metadatum_delete_%s",[e]);this.$buefy.modal.open({component:r.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:i,onConfirm:function(){a.deleteMetadatum({collectionId:a.collectionId,metadatumId:t.id,isRepositoryLevel:!0}).catch((function(){a.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},toggleMetadatumEdition:function(t){this.$router.push({query:{edit:t.id}})},editMetadatum:function(t){this.openedMetadatumId=t.id},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},loadMetadata:function(){var t=this;this.isLoadingMetadata=!0,null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled."),this.fetchMetadata({collectionId:this.collectionId,isRepositoryLevel:!0,isContextEdit:!0,includeDisabled:!0,parent:"0",includeOptionsAsHtml:!0}).then((function(a){a.request.then((function(){if(t.isLoadingMetadata=!1,null!=t.$route.query.edit){var a=t.activeMetadatumList.findIndex((function(a){return a.id==t.$route.query.edit}));a>=0&&t.editMetadatum(t.activeMetadatumList[a])}})).catch((function(){t.isLoadingMetadata=!1})),t.metadataSearchCancel=a.source})).catch((function(){return t.isLoadingMetadata=!1}))},filterByMetadatumName:function(t){var a=this;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var e=t.metadata_type_options.children_objects.map((function(t){return t.name}));return e.push(t.name),e.some((function(t){return t.toString().toLowerCase().indexOf(a.metadataNameFilterString.toString().toLowerCase())>=0}))}return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var a=t.metadata_type_options.children_objects.map((function(t){return t.metadata_type}));a.push(t.metadata_type);var e,i=s(this.metadataTypeFilterOptions);try{var n,o=function(){var t=e.value;if(t.enabled&&a.some((function(a){return a==t.type})))return{v:!0}};for(i.s();!(e=i.n()).done;)if(n=o())return n.v}catch(t){i.e(t)}finally{i.f()}}else{var r,d=s(this.metadataTypeFilterOptions);try{for(d.s();!(r=d.n()).done;){var l=r.value;if(l.enabled&&t.metadata_type==l.type)return!0}}catch(t){d.e(t)}finally{d.f()}}return!1},isCollapseOpen:function(t){return 1==this.collapses[t]}})}},38567(t,a,e){e.d(a,{A:()=>i});const i={props:{metadatum:Object},computed:{insertOptions:function(){var t=[];return"yes"===this.metadatum.required&&t.push(this.$i18n.getHelperTitle("metadata","required")),"yes"===this.metadatum.multiple&&t.push(this.$i18n.getHelperTitle("metadata","multiple")),"yes"===this.metadatum.collection_key&&t.push(this.$i18n.getHelperTitle("metadata","collection_key")),t.join(", ")}}}},40152(t,a,e){e.d(a,{X:()=>f});var i=e(6934);function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return o(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var r={key:0,class:"column available-metadata-types-area is-12-touch"},d={class:"field"},l={class:"label"},s=["data-metadatum-type","onClick"],c={class:"icon grip-icon"},m={class:"metadatum-name"},u={class:"icon preview-help-icon has-text-secondary"},p={key:0,class:"loading-spinner"},v=["id"],b={class:"icon grip-icon"},g={class:"metadatum-name"},h={class:"icon preview-help-icon has-text-secondary"};function f(t,a,e,o,f,y){var _=(0,i.g2)("b-loading"),M=(0,i.g2)("sortable"),k=(0,i.gN)("tooltip");return e.isRepositoryLevel&&t.$userCaps.hasCapability("tnc_rep_edit_metadata")||!e.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(_,{modelValue:f.isLoadingMetadataTypes,"onUpdate:modelValue":a[0]||(a[0]=function(t){return f.isLoadingMetadataTypes=t})},null,8,["modelValue"]),(0,i.Lk)("div",d,[(0,i.Lk)("h2",l,(0,i.v_)(t.$i18n.get("label_available_metadata_types")),1),(0,i.bF)(M,{list:t.availableMetadataTypes,"item-key":"component",options:{group:{name:"metadata",pull:"clone",put:!1,revertClone:!0},draggable:".available-metadatum-item",sort:!1,dragClass:"sortable-drag"}},{item:(0,i.k6)((function(o){var r=o.element;return[(0,i.Lk)("div",{"data-metadatum-type":r.component,class:(0,i.C4)(["available-metadatum-item",{"highlighted-metadatum":e.highlightedMetadatum==r.name,"inherited-metadatum":r.inherited||e.isRepositoryLevel}]),onClick:(0,i.D$)((function(t){return y.addMetadatumViaButton(r)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",c,n(a[2]||(a[2]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])))),[[k,{content:t.$i18n.get("instruction_click_or_drag_metadatum_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",m,[(0,i.eW)((0,i.v_)(r.name)+" ",1),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",u,n(a[3]||(a[3]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-help"},null,-1)])))),[[k,{popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":"","metadata-type-preview-tooltip"],content:y.getPreviewTemplateContent(r),html:!0,delay:{show:0,hide:100},placement:"top"}]])]),e.highlightedMetadatum==r.name?((0,i.uX)(),(0,i.CE)("span",p)):(0,i.Q3)("",!0)],10,s)]})),_:1},8,["list"]),e.isRepositoryLevel?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.Wv)(M,{key:0,list:f.availableMetadataSectionsList,"item-key":"id",options:{group:{name:"metadata-sections",pull:"clone",put:!1,revertClone:!0},draggable:".available-metadatum-item",sort:!1,dragClass:"sortable-drag"}},{item:(0,i.k6)((function(o){var r=o.element;return[(0,i.Lk)("div",{id:r.id,class:"available-metadata-section-item",onClick:a[1]||(a[1]=function(t){return y.addMetadataSectionViaButton()})},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",b,n(a[4]||(a[4]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])))),[[k,{content:t.$i18n.get("instruction_click_or_drag_metadatum_create"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]]),(0,i.Lk)("span",g,[(0,i.eW)((0,i.v_)(r.label)+" ",1),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",h,n(a[5]||(a[5]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-help"},null,-1)])))),[[k,{popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":"","metadata-type-preview-tooltip"],content:t.$i18n.get("info_create_section"),html:!0,delay:{show:0,hide:100},placement:"top"}]])])],8,v)]})),_:1},8,["list"]))])])):(0,i.Q3)("",!0)}},42091(t,a,e){e.d(a,{A:()=>g});var i=e(11158),n=e(78061),o=e(23527),r=e(31968),d=e(3012),l=e(40834),s=e(48766);function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function m(t,a){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,a){if(t){if("string"==typeof t)return u(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(t,a):void 0}}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){r=!0,n=t},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function u(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}function p(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function v(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?p(Object(e),!0).forEach((function(a){b(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function b(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==c(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const g={name:"CollectionMetadataList",components:{MetadatumEditionForm:i.A,MetadataSectionEditionForm:n.A,ChildMetadataList:r.A,MetadatumDetails:o.A,Sortable:s.L},props:{metadataTypeFilterOptions:Array},emits:["on-update-highlighted-metadatum"],data:function(){return{collectionId:"",isLoadingMetadataSections:!1,isUpdatingMetadataOrder:!1,openedMetadatumId:"",openedMetadataSectionId:"",highlightedMetadatum:"",collapses:{},collapseAll:!1,metadataNameFilterString:"",isUpdatingMetadataSectionsOrder:!1,isUpdatingMetadatum:!1,metadataSearchCancel:void 0}},computed:{hasSomeMetadataTypeFilterApplied:function(){return this.metadataTypeFilterOptions.length>0&&this.metadataTypeFilterOptions.some((function(t){return t.enabled}))},activeMetadataSectionsList:{get:function(){return this.getMetadataSections()},set:function(t){this.updateMetadataSections(t)}}},watch:{"$route.query":{handler:function(t){if(null!=t.edit){for(var a=-1,e=-1,i=0;i<this.activeMetadataSectionsList.length;i++)if((a=this.activeMetadataSectionsList[i].metadata_object_list.findIndex((function(a){return a&&a.id==t.edit})))>=0){e=i;break}a>=0&&e>=0&&this.editMetadatum(t.edit)}else if(null!=t.sectionEdit){this.activeMetadataSectionsList.findIndex((function(a){return a&&a.id==t.sectionEdit}))>=0&&this.editMetadataSection(t.sectionEdit)}},immediate:!0,deep:!0},collapseAll:function(t){var a=this;this.activeMetadataSectionsList.forEach((function(e){e.metadata_object_list&&Array.isArray(e.metadata_object_list)&&e.metadata_object_list.forEach((function(e){return Object.assign(a.collapses,b({},e.id,t))}))}))}},mounted:function(){var t=this;this.cleanMetadataSections(),this.$emitter.on("addMetadatumViaButton",this.addMetadatumViaButton),this.$emitter.on("addMetadataSectionViaButton",this.addMetadataSectionViaButton),this.collectionId=this.$route.params.collectionId,this.isLoadingMetadataSections=!0,this.fetchMetadataSections({collectionId:this.collectionId,isContextEdit:!0,includeDisabled:!0}).then((function(){t.isLoadingMetadataSections=!1})).catch((function(a){t.$console.error(a),t.isLoadingMetadataSections=!1}))},beforeUnmount:function(){null!=this.metadataSearchCancel&&this.metadataSearchCancel.cancel("Metadata search Canceled."),this.$emitter.off("addMetadatumViaButton",this.addMetadatumViaButton),this.$emitter.off("addMetadataSectionViaButton",this.addMetadataSectionViaButton)},methods:v(v(v({},(0,l.i0)("metadata",["sendMetadatum","sendMetadataSection","deleteMetadatum","updateMetadatum","updateCollectionMetadataOrder","updateCollectionMetadataSectionsOrder","updateMetadataSections","fetchMetadataSections","deleteMetadataSection","cleanMetadataSections","moveMetadataSectionUp","moveMetadataSectionDown","moveMetadatumUp","moveMetadatumDown","moveMetadatum"])),(0,l.L8)("metadata",["getMetadataSections","getMetadatumTypes"])),{},{handleSectionChange:function(t){switch(t.type){case"add":this.addNewMetadataSection(t.newIndex);break;case"remove":this.removeMetadataSection(this.activeFiltersList[t.oldIndex]);break;case"change":case"update":var a=JSON.parse(JSON.stringify(this.activeMetadataSectionsList)),e=a.splice(t.oldIndex,1)[0];a.splice(t.newIndex,0,e),this.updateMetadataSections(a),this.updateMetadataSectionsOrder()}},handleChange:function(t,a){var e=this;switch(t.type){case"add":if(t.from.classList.contains("active-metadata-area")){this.isLoadingMetadataSections=!0;var i=t.item.dataset.originalSectionIndex,n=JSON.parse(JSON.stringify(this.activeMetadataSectionsList[i].metadata_object_list)),o=JSON.parse(JSON.stringify(this.activeMetadataSectionsList[a].metadata_object_list)),r=n.splice(t.oldIndex,1)[0];o.splice(t.newIndex,0,r);var d=JSON.parse(JSON.stringify(this.activeMetadataSectionsList));d[a].metadata_object_list=o,d[i].metadata_object_list=n,this.updateMetadataSections(d),t.to.removeChild(t.item),this.updateMetadatum({collectionId:this.collectionId,metadatumId:t.item.dataset.metadatumId,isRepositoryLevel:"default"===t.item.dataset.collectionId,index:t.newIndex,options:{},includeOptionsAsHtml:!0,sectionId:this.activeMetadataSectionsList[a].id}).then((function(){e.updateMetadataSectionsOrder(d).then((function(){return e.isLoadingMetadataSections=!1})).catch((function(){return e.isLoadingMetadataSections=!1}))})).catch((function(){e.isLoadingMetadataSections=!1}))}else this.addNewMetadatum(this.getMetadatumTypes()[t.oldIndex],t.newIndex,a),t.to.removeChild(t.item);break;case"change":case"update":this.moveMetadatum({newIndex:t.newIndex,oldIndex:t.oldIndex,sectionIndex:a}),this.updateMetadataOrder(a)}},updateMetadataOrder:function(t){var a,e=this,i=[],n=m(this.activeMetadataSectionsList[t].metadata_object_list);try{for(n.s();!(a=n.n()).done;){var o=a.value;null!=o&&i.push({id:o.id,enabled:o.enabled})}}catch(t){n.e(t)}finally{n.f()}this.isUpdatingMetadataOrder=!0,this.updateCollectionMetadataOrder({collectionId:this.collectionId,metadataOrder:i,metadataSectionId:this.activeMetadataSectionsList[t].id}).then((function(){return e.isUpdatingMetadataOrder=!1})).catch((function(){return e.isUpdatingMetadataOrder=!1}))},updateMetadataSectionsOrder:function(t){var a=this;null==t&&(t=this.activeMetadataSectionsList);var e,i=[],n=m(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;null!=o&&i.push({id:o.id,enabled:o.enabled,metadata_order:o.metadata_object_list.map((function(t){return{id:t.id,enabled:t.enabled}}))})}}catch(t){n.e(t)}finally{n.f()}this.isUpdatingMetadataSectionsOrder=!0,this.updateCollectionMetadataSectionsOrder({collectionId:this.collectionId,metadataSectionsOrder:i}).then((function(){return a.isUpdatingMetadataSectionsOrder=!1})).catch((function(){return a.isUpdatingMetadataSectionsOrder=!1}))},onChangeEnable:function(t,a,e){var i,n=this,o=[],r=m(this.activeMetadataSectionsList[e].metadata_object_list);try{for(r.s();!(i=r.n()).done;){var d=i.value;null!=d&&o.push({id:d.id,enabled:d.enabled})}}catch(t){r.e(t)}finally{r.f()}o[a].enabled=t,this.isUpdatingMetadataOrder=!0,this.updateCollectionMetadataOrder({collectionId:this.collectionId,metadataOrder:o,metadataSectionId:this.activeMetadataSectionsList[e].id}).then((function(){return n.isUpdatingMetadataOrder=!1})).catch((function(){return n.isUpdatingMetadataOrder=!1}))},onChangeEnableSection:function(t,a){var e,i=this,n=[],o=m(this.activeMetadataSectionsList);try{for(o.s();!(e=o.n()).done;){var r=e.value;null!=r&&n.push({id:r.id,enabled:r.enabled,metadata_order:r.metadata_object_list.map((function(t){return{id:t.id,enabled:t.enabled}}))})}}catch(t){o.e(t)}finally{o.f()}n[a].enabled=t,this.isUpdatingMetadataSectionsOrder=!0,this.updateCollectionMetadataSectionsOrder({collectionId:this.collectionId,metadataSectionsOrder:n}).then((function(){return i.isUpdatingMetadataSectionsOrder=!1})).catch((function(){return i.isUpdatingMetadataSectionsOrder=!1}))},addMetadatumViaButton:function(t){this.addNewMetadatum(t,this.activeMetadataSectionsList[0].metadata_object_list.length,0),this.highlightedMetadatum=t.name,this.$emit("on-update-highlighted-metadatum",this.highlightedMetadatum)},addMetadataSectionViaButton:function(){var t=this.activeMetadataSectionsList.length;this.addNewMetadataSection(t)},addNewMetadatum:function(t,a,e){var i=this;this.isUpdatingMetadatum=!0,this.sendMetadatum({collectionId:this.collectionId,name:t.name,metadatumType:t.className,status:"auto-draft",isRepositoryLevel:!1,newIndex:a,parent:"0",sectionId:this.activeMetadataSectionsList[e].id}).then((function(t){i.updateMetadataOrder(e),i.toggleMetadatumEdition(t),i.highlightedMetadatum="",i.isUpdatingMetadatum=!1,i.$emit("on-update-highlighted-metadatum",i.highlightedMetadatum)})).catch((function(t){i.isUpdatingMetadatum=!1,i.$console.error(t)}))},addNewMetadataSection:function(t){var a=this;this.isUpdatingMetadatum=!0,this.sendMetadataSection({collectionId:this.collectionId,name:this.$i18n.get("label_new_metadata_section"),status:"auto-draft",newIndex:t}).then((function(t){a.updateMetadataSectionsOrder(),a.toggleMetadataSectionEdition(t),a.isUpdatingMetadatum=!1})).catch((function(t){a.$console.error(t),a.isUpdatingMetadatum=!1}))},removeMetadatum:function(t,a){var e=this,i="";t&&"object"===c(t)&&(void 0!==t.name&&null!==t.name&&""!==t.name?i=t.name:t.id&&(i="ID: "+t.id));var n=this.$i18n.getWithVariables("info_warning_metadatum_delete_%s",[i]);this.$buefy.modal.open({component:d.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:n,onConfirm:function(){e.isUpdatingMetadataOrder=!0,e.deleteMetadatum({collectionId:e.collectionId,metadatumId:t.id,isRepositoryLevel:!1}).then((function(){e.updateMetadataOrder(a)})).catch((function(){e.isUpdatingMetadataOrder=!1,e.$console.log("Error deleting metadatum.")}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},removeMetadataSection:function(t){var a=this,e="";t&&"object"===c(t)&&(void 0!==t.name&&null!==t.name&&""!==t.name?e=t.name:t.id&&(e="ID: "+t.id));var i=this.$i18n.getWithVariables("info_warning_metadata_section_delete_%s",[e]);this.$buefy.modal.open({component:d.default,props:{icon:"alert",title:this.$i18n.get("label_warning"),message:i,onConfirm:function(){a.isUpdatingMetadataSectionsOrder=!0,a.deleteMetadataSection({collectionId:a.collectionId,metadataSectionId:t.id}).then((function(){a.updateMetadataSectionsOrder()})).catch((function(){a.isUpdatingMetadataSectionsOrder=!1,a.$console.log("Error deleting metadata section.")}))}},trapFocus:!0,customClass:"tainacan-modal",canCancel:["escape","outside"]})},toggleMetadatumEdition:function(t){this.$router.push({query:{edit:t.id}})},toggleMetadataSectionEdition:function(t){this.$router.push({query:{sectionEdit:t.id}})},editMetadatum:function(t){this.openedMetadatumId=t},editMetadataSection:function(t){this.openedMetadataSectionId=t},onEditionFinished:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onEditionCanceled:function(){this.openedMetadatumId="",this.$router.push({query:{}})},onSectionEditionFinished:function(){this.openedMetadataSectionId="",this.$router.push({query:{}})},onSectionEditionCanceled:function(){this.openedMetadataSectionId="",this.$router.push({query:{}})},moveMetadatumUpViaButton:function(t,a){this.moveMetadatumUp({index:t,sectionIndex:a}),this.updateMetadataOrder(a)},moveMetadatumDownViaButton:function(t,a){this.moveMetadatumDown({index:t,sectionIndex:a}),this.updateMetadataOrder(a)},moveMetadataSectionUpViaButon:function(t){this.moveMetadataSectionUp(t),this.updateMetadataSectionsOrder()},moveMetadataSectionDownViaButton:function(t){this.moveMetadataSectionDown(t),this.updateMetadataSectionsOrder()},filterByMetadatumName:function(t){var a=this;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var e=t.metadata_type_options.children_objects.map((function(t){return t.name}));return e.push(t.name),e.some((function(t){return t.toString().toLowerCase().indexOf(a.metadataNameFilterString.toString().toLowerCase())>=0}))}return t.name.toString().toLowerCase().indexOf(this.metadataNameFilterString.toString().toLowerCase())>=0},filterByMetadatumType:function(t){if(!this.hasSomeMetadataTypeFilterApplied)return!0;if(t.metadata_type_object&&"tainacan-compound"==t.metadata_type_object.component&&t.metadata_type_options&&t.metadata_type_options.children_objects&&t.metadata_type_options.children_objects.length){var a=t.metadata_type_options.children_objects.map((function(t){return t.metadata_type}));a.push(t.metadata_type);var e,i=m(this.metadataTypeFilterOptions);try{var n,o=function(){var t=e.value;if(t.enabled&&a.some((function(a){return a==t.type})))return{v:!0}};for(i.s();!(e=i.n()).done;)if(n=o())return n.v}catch(t){i.e(t)}finally{i.f()}}else{var r,d=m(this.metadataTypeFilterOptions);try{for(d.s();!(r=d.n()).done;){var l=r.value;if(l.enabled&&t.metadata_type==l.type)return!0}}catch(t){d.e(t)}finally{d.f()}}return!1},isCollapseOpen:function(t){return 1==this.collapses[t]}})}},45480(t,a,e){e.d(a,{X:()=>y});var i=e(6934),n={class:"tainacan-form metadatum-details"},o={key:0,class:"field"},r={class:"label"},d={class:"value"},l={key:1,class:"field"},s={class:"label"},c={class:"value"},m={class:"field"},u={class:"label"},p={class:"value"},v={key:2,class:"field"},b={class:"label"},g={class:"value"},h={key:0},f=["innerHTML"];function y(t,a,e,y,_,M){return(0,i.uX)(),(0,i.CE)("div",n,[e.metadatum.description?((0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("div",r,(0,i.v_)(t.$i18n.getHelperTitle("metadata","description")),1),(0,i.Lk)("div",d,(0,i.v_)(e.metadatum.description),1)])):(0,i.Q3)("",!0),e.metadatum.semantic_uri?((0,i.uX)(),(0,i.CE)("div",l,[(0,i.Lk)("div",s,(0,i.v_)(t.$i18n.getHelperTitle("metadata","semantic_uri")),1),(0,i.Lk)("div",c,(0,i.v_)(e.metadatum.semantic_uri),1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",m,[(0,i.Lk)("div",u,(0,i.v_)(t.$i18n.get("label_display")),1),(0,i.Lk)("div",p,["yes"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_display_default")),1)],64)):(0,i.Q3)("",!0),"no"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_not_display")),1)],64)):(0,i.Q3)("",!0),"never"===e.metadatum.display?((0,i.uX)(),(0,i.CE)(i.FK,{key:2},[(0,i.eW)((0,i.v_)(t.$i18n.get("label_display_never")),1)],64)):(0,i.Q3)("",!0)])]),""!=M.insertOptions?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("div",b,(0,i.v_)(t.$i18n.get("label_insert_options")),1),(0,i.Lk)("div",g,[(0,i.eW)((0,i.v_)(M.insertOptions)+" ",1),"yes"===e.metadatum.multiple&&null!=e.metadatum.cardinality&&0!=e.metadatum.cardinality&&1!=e.metadatum.cardinality&&""!=e.metadatum.cardinality?((0,i.uX)(),(0,i.CE)("span",h,"  ("+(0,i.v_)(t.$i18n.getWithVariables("label_maximum_of_%s_values",[e.metadatum.cardinality]))+") ",1)):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),e.metadatum.options_as_html?((0,i.uX)(),(0,i.CE)("div",{key:3,innerHTML:e.metadatum.options_as_html},null,8,f)):(0,i.Q3)("",!0)])}},47498(t,a,e){e.r(a),e.d(a,{default:()=>o});var i=e(7456),n=e(68913);e(69788);const o=(0,e(66262).A)(n.A,[["render",i.X]])},53904(t,a,e){e.d(a,{A:()=>u});var i=e(2390),n=e(85954),o=e(60760),r=e(98023),d=e(40834);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function s(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function c(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?s(Object(e),!0).forEach((function(a){m(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function m(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==l(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const u={name:"MetadataPage",components:{RepositoryMetadataList:i.A,CollectionMetadataList:n.A,MetadataTypesList:r.A,MetadataMappingList:o.A},data:function(){return{isRepositoryLevel:!1,activeTab:0,highlightedMetadatum:"",metadataTypeFilterOptions:[]}},computed:c(c({},(0,d.L8)("collection",{collection:"getCollection"})),{},{repositoryTabLabel:function(){var t=this.$i18n.get("metadata"),a=this.getMetadata();return Array.isArray(a)&&a.length&&(t+=" ("+a.length+")"),t},collectionTabLabel:function(){var t=this.$i18n.get("label_metadata_and_sections"),a=this.getMetadataSections();if(Array.isArray(a)&&a.length){var e=a.reduce((function(t,a){return a.metadata_object_list?t+parseInt(a.metadata_object_list.length):0}),0);t=this.$i18n.getWithVariables("label_metadata_%s_and_sections_%s",[e,a.length])}return t}}),created:function(){this.isRepositoryLevel=void 0===this.$route.params.collectionId},methods:c(c({},(0,d.L8)("metadata",["getMetadatumTypes","getMetadata","getMetadataSections"])),{},{createMetadataTypeFilterOptions:function(){this.metadataTypeFilterOptions=JSON.parse(JSON.stringify(this.getMetadatumTypes())).map((function(t){return{enabled:!1,name:t.name,type:t.className}}))}})}},54936(t,a,e){e.d(a,{X:()=>i.X});var i=e(20363)},55235(t,a,e){e.d(a,{X:()=>I});var i=e(6934);function n(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return o(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var r={class:"metadata-mappers-area"},d={style:{"line-height":"2em"}},l=["value"],s={key:0,class:"field is-grouped-centered section"},c={class:"content has-text-dark has-text-centered"},m={key:1,class:"tainacan-form"},u={class:"mapping-control"},p={key:0,class:"modal-new-link"},v={key:0,class:"mapping-header"},b={value:""},g=["value","disabled"],h=["onClick"],f={class:"icon"},y=["onClick"],_={class:"icon"},M={key:1,class:"field is-grouped form-submit fixed-form-submit"},k={class:"control"},w={class:"control"},C={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content"},L={class:"tainacan-modal-title"},S={class:"field is-grouped form-submit"},x={class:"control"},O={class:"control"},E=["disabled"];function I(t,a,e,o,I,$){var A=(0,i.g2)("b-loading"),j=(0,i.g2)("b-select"),F=(0,i.g2)("b-field"),X=(0,i.g2)("b-input"),T=(0,i.g2)("b-modal"),V=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(A,{modelValue:I.isLoadingMetadatumMappers,"onUpdate:modelValue":a[0]||(a[0]=function(t){return I.isLoadingMetadatumMappers=t}),"can-cancel":!1,"is-full-page":!1},null,8,["modelValue"]),(0,i.bF)(A,{modelValue:I.isLoadingMetadata,"onUpdate:modelValue":a[1]||(a[1]=function(t){return I.isLoadingMetadata=t}),"can-cancel":!1,"is-full-page":!1},null,8,["modelValue"]),(0,i.bF)(F,null,{default:(0,i.k6)((function(){return[(0,i.Lk)("p",d,(0,i.v_)(t.$i18n.get("info_metadata_mapper_helper")),1),(0,i.bF)(j,{id:"mappers-options-dropdown",size:"is-small",placeholder:t.$i18n.get("instruction_select_a_mapper"),"model-value":I.mapper,"onUpdate:modelValue":a[2]||(a[2]=function(t){return $.onSelectMetadataMapper(t)})},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.metadatumMappers,(function(t){return(0,i.uX)(),(0,i.CE)("option",{key:t.slug,value:t},(0,i.v_)(t.name),9,l)})),128))]})),_:1},8,["placeholder","model-value"])]})),_:1}),t.activeMetadatumList.length<=0&&!I.isLoadingMetadata?((0,i.uX)(),(0,i.CE)("section",s,[(0,i.Lk)("div",c,[a[11]||(a[11]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1)])])):((0,i.uX)(),(0,i.CE)("form",m,[(0,i.Lk)("div",u,[""!=I.mapper&&I.mapper.allow_extra_metadata?((0,i.uX)(),(0,i.CE)("div",p,[null!=I.collectionId&&null!=I.collectionId?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"is-inline is-pulled-right add-link",onClick:a[3]||(a[3]=function(t){return $.onNewMetadataMapperMetadata()})},[a[12]||(a[12]=(0,i.Lk)("span",{"aria-hidden":"true",class:"icon is-small"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-add"})],-1)),(0,i.eW)(" "+(0,i.v_)(t.$i18n.get("label_add_more_mapper_metadata")),1)])):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)]),I.mapperMetadata.length>0?((0,i.uX)(),(0,i.CE)("div",v,[(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("label_from_source_mapper")),1),a[13]||(a[13]=(0,i.Lk)("hr",null,null,-1)),a[14]||(a[14]=(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-pointer tainacan-icon-1-25em"})],-1)),a[15]||(a[15]=(0,i.Lk)("hr",null,null,-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("label_to_target_mapper")),1)])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(I.mapperMetadata,(function(o,r){return(0,i.uX)(),(0,i.CE)("div",{key:r,class:"source-metadatum"},[(0,i.bF)(j,{modelValue:o.selected,"onUpdate:modelValue":[function(t){return o.selected=t},$.onSelectMetadatumForMapperMetadata],name:"mappers-metadatum-select-"+o.slug},{default:(0,i.k6)((function(){return[(0,i.Lk)("option",b,(0,i.v_)(t.$i18n.get("instruction_select_a_metadatum")),1),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.activeMetadatumList,(function(t,a){return(0,i.uX)(),(0,i.CE)("option",{key:a,value:t.id,disabled:$.isMetadatumSelected(t.id)},(0,i.v_)(t.name),9,g)})),128))]})),_:1},8,["modelValue","onUpdate:modelValue","name"]),(0,i.Lk)("p",null,[(0,i.eW)((0,i.v_)(o.label)+" ",1),(0,i.Lk)("a",{style:(0,i.Tr)({visibility:o.isCustom?"visible":"hidden"}),onClick:(0,i.D$)((function(t){return $.editMetadatumCustomMapper(o)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",f,n(a[16]||(a[16]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[V,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,h),(0,i.Lk)("a",{style:(0,i.Tr)({visibility:o.isCustom?"visible":"hidden"}),onClick:(0,i.D$)((function(t){return $.removeMetadatumCustomMapper(o)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",_,n(a[17]||(a[17]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[V,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip",e.isRepositoryLevel?"tainacan-repository-tooltip":""],placement:"auto-start"}]])],12,y)])])})),128)),""==I.mapper||I.isLoadingMetadatumMappers?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("div",k,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:a[4]||(a[4]=function(){return $.onCancelUpdateMetadataMapperMetadata&&$.onCancelUpdateMetadataMapperMetadata.apply($,arguments)})},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("div",w,[(0,i.Lk)("button",{class:(0,i.C4)([{"is-loading":I.isMapperMetadataLoading},"button is-success"]),onClick:a[5]||(a[5]=(0,i.D$)((function(){return $.onUpdateMetadataMapperMetadataClick&&$.onUpdateMetadataMapperMetadataClick.apply($,arguments)}),["prevent"]))},(0,i.v_)(t.$i18n.get("save")),3)])]))])),(0,i.bF)(T,{modelValue:I.isMapperMetadataCreating,"onUpdate:modelValue":a[10]||(a[10]=function(t){return I.isMapperMetadataCreating=t}),"trap-focus":"","aria-modal":"","aria-role":"dialog","custom-class":"tainacan-modal","can-cancel":["escape","outside"],onClose:$.onCancelNewMetadataMapperMetadata},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",C,[(0,i.Lk)("div",L,[(0,i.Lk)("h2",null,(0,i.v_)(t.$i18n.get("instruction_insert_mapper_metadatum_info")),1),a[18]||(a[18]=(0,i.Lk)("hr",null,null,-1))]),(0,i.bF)(F,null,{default:(0,i.k6)((function(){return[(0,i.bF)(X,{modelValue:I.newMetadataLabel,"onUpdate:modelValue":a[6]||(a[6]=function(t){return I.newMetadataLabel=t}),required:"",placeholder:t.$i18n.get("label_name")},null,8,["modelValue","placeholder"])]})),_:1}),(0,i.bF)(F,null,{default:(0,i.k6)((function(){return[(0,i.bF)(X,{modelValue:I.newMetadataUri,"onUpdate:modelValue":a[7]||(a[7]=function(t){return I.newMetadataUri=t}),placeholder:"URI",type:"url",required:""},null,8,["modelValue"])]})),_:1}),(0,i.Lk)("div",S,[(0,i.Lk)("div",x,[(0,i.Lk)("button",{class:"button is-outlined",type:"button",onClick:a[8]||(a[8]=function(){return $.onCancelNewMetadataMapperMetadata&&$.onCancelNewMetadataMapperMetadata.apply($,arguments)})},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("div",O,[(0,i.Lk)("button",{class:(0,i.C4)([{"is-loading":I.isMapperMetadataLoading,"is-success":!I.isMapperMetadataLoading},"button"]),disabled:$.isNewMetadataMapperMetadataDisabled||I.isMapperMetadataLoading,onClick:a[9]||(a[9]=(0,i.D$)((function(){return $.onSaveNewMetadataMapperMetadata&&$.onSaveNewMetadataMapperMetadata.apply($,arguments)}),["prevent"]))},(0,i.v_)(t.$i18n.get("save")),11,E)])])])]})),_:1},8,["modelValue","onClose"])])}},56170(t,a,e){e.d(a,{A:()=>i.A});var i=e(10281)},60760(t,a,e){e.d(a,{A:()=>o});var i=e(95592),n=e(21447);e(96914);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-563ca327"]])},61038(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(4459),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},61352(t,a,e){e.d(a,{A:()=>l});var i=e(40834);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,i)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?o(Object(e),!0).forEach((function(a){d(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}function d(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}const l={name:"MetadataMappingList",props:{isRepositoryLevel:Boolean},data:function(){return{collectionId:"",isLoadingMetadatumMappers:!0,isLoadingMetadata:!1,mapper:"",mapperMetadata:[],isMapperMetadataLoading:!1,isMapperMetadataCreating:!1,mappedMetadata:[],newMapperMetadataList:[],newMetadataLabel:"",newMetadataUri:""}},computed:r(r({},(0,i.L8)("metadata",{metadatumMappers:"getMetadatumMappers",activeMetadatumList:"getMetadata"})),{},{isNewMetadataMapperMetadataDisabled:function(){return!this.newMetadataLabel||!this.newMetadataUri}}),mounted:function(){var t=this;this.isRepositoryLevel?this.loadMetadataMappers():(this.collectionId=this.$route.params.collectionId,this.isLoadingMetadata=!0,this.cleanMetadata(),this.fetchMetadata({collectionId:this.collectionId,isRepositoryLevel:!1,isContextEdit:!0,includeDisabled:!0,includeOptionsAsHtml:!1}).then((function(a){a.request.then((function(){t.loadMetadataMappers(),t.isLoadingMetadata=!1})).catch((function(){t.isLoadingMetadata=!1}))})).catch((function(){return t.isLoadingMetadata=!1})))},methods:r(r({},(0,i.i0)("metadata",["fetchMetadata","cleanMetadata","fetchMetadatumMappers","updateMetadataMapperMetadata"])),{},{loadMetadataMappers:function(){var t=this;this.isLoadingMetadatumMappers=!0,this.fetchMetadatumMappers().then((function(){t.isLoadingMetadatumMappers=!1,t.metadatumMappers.length>=1&&t.onSelectMetadataMapper(t.metadatumMappers[0])})).catch((function(){t.isLoadingMetadatumMappers=!1}))},onSelectMetadataMapper:function(t){var a=this;if(this.isMapperMetadataLoading=!0,this.mapper=t,this.mapperMetadata=[],this.mappedMetadata=[],this.mapper&&this.mapper.metadata){var e=function(){var t=a.mapper.metadata[i];t.slug=i,t.selected="",t.isCustom=!1,a.activeMetadatumList.forEach((function(e){Object.prototype.hasOwnProperty.call(e.exposer_mapping,a.mapper.slug)&&e.exposer_mapping[a.mapper.slug]==t.slug&&(t.selected=e.id,t.isRepositoryLevel="default"===e.collection_id,a.mappedMetadata.push(e.id))})),a.mapperMetadata.push(t)};for(var i in this.mapper.metadata)e();this.activeMetadatumList.forEach((function(t){if(Object.prototype.hasOwnProperty.call(t.exposer_mapping,a.mapper.slug)&&"object"==n(t.exposer_mapping[a.mapper.slug])){a.newMapperMetadataList.push(Object.assign({},t.exposer_mapping[a.mapper.slug])),a.mappedMetadata.push(t.id);var e=Object.assign({},t.exposer_mapping[a.mapper.slug]);e.selected=t.id,e.isCustom=!0,e.isRepositoryLevel="default"===t.collection_id;var i=a.mapperMetadata.findIndex((function(t){return t.slug==e.slug}));i>=0?a.mapperMetadata[i]=e:a.mapperMetadata.push(e)}}))}this.isMapperMetadataLoading=!1},isMetadatumSelected:function(t){return this.mappedMetadata.indexOf(t)>-1},onSelectMetadatumForMapperMetadata:function(){var t=this;this.mappedMetadata=[],this.mapperMetadata.forEach((function(a){0!=a.selected.length&&t.mappedMetadata.push(a.selected)}))},onUpdateMetadataMapperMetadataClick:function(){var t=this;this.isMapperMetadataLoading=!0;var a=[];this.mapperMetadata.forEach((function(t){if(0!=t.selected.length){var e={metadatum_id:t.selected,mapper_metadata:t.slug};a.push(e)}})),this.activeMetadatumList.forEach((function(e){if(-1==t.mappedMetadata.indexOf(e.id)){var i={metadatum_id:e.id,mapper_metadata:""};a.push(i)}})),this.newMapperMetadataList.forEach((function(t){var e=t.slug;a.forEach((function(i,n){if(i.mapper_metadata==e){var o=Object.assign({},t);delete o.selected,delete o.isCustom,i.mapper_metadata=o,a[n]=i}}))})),this.updateMetadataMapperMetadata({metadataMapperMetadata:a,mapper:this.mapper.slug}).then((function(){t.isMapperMetadataLoading=!1})).catch((function(){t.isMapperMetadataLoading=!1}))},onCancelUpdateMetadataMapperMetadata:function(){this.isMapperMetadataLoading=!0,this.onSelectMetadataMapper(this.mapper),this.isMapperMetadataLoading=!1},onNewMetadataMapperMetadata:function(){this.isMapperMetadataCreating=!0},onCancelNewMetadataMapperMetadata:function(){this.isMapperMetadataCreating=!1,this.newMetadataLabel="",this.newMetadataUri="",this.new_metadata_slug=""},onSaveNewMetadataMapperMetadata:function(){var t=this;this.isMapperMetadataLoading=!0;var a={label:this.newMetadataLabel,uri:this.newMetadataUri,slug:this.stringToSlug(this.newMetadataLabel),isCustom:!0},e="";""!=this.new_metadata_slug&&this.newMapperMetadataList.forEach((function(a,i){a.slug==t.new_metadata_slug&&(t.newMapperMetadataList.splice(i),t.mapperMetadata.forEach((function(a,i){a.slug==t.new_metadata_slug&&(e=a.selected,t.mapperMetadata.splice(i))})))})),this.newMapperMetadataList.push(a),a.selected=e,this.mapperMetadata.push(a),this.newMetadataLabel="",this.newMetadataUri="",this.new_metadata_slug="",this.isMapperMetadataCreating=!1,this.isMapperMetadataLoading=!1},stringToSlug:function(t){t=(t=t.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var a="àáäâèéëêìíïîòóöôùúüûñç·/_,:;",e=0;e<28;e++)t=t.replace(new RegExp(a.charAt(e),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(e));return t=t.replace(".","-").replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},editMetadatumCustomMapper:function(t){this.newMetadataLabel=t.label,this.newMetadataUri=t.uri,this.new_metadata_slug=t.slug,this.isMapperMetadataCreating=!0},removeMetadatumCustomMapper:function(t){var a=this,e=0;return this.newMapperMetadataList.forEach((function(i,n){if(i.slug==t.slug){a.newMapperMetadataList.splice(n);var o=a.mappedMetadata.indexOf(i.selected);a.mappedMetadata.splice(o),e=t.selected}})),""!=e&&e>0&&this.mapperMetadata.forEach((function(t,i){t.selected==e&&a.mapperMetadata.splice(i)})),!0}})}},63792(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,'.metadata-list-page{padding-bottom:0}.metadata-list-page .b-tabs .tab-content{overflow:visible;min-height:300px;padding-bottom:0;padding-left:0;padding-right:0}.metadata-list-page .column{overflow-x:hidden;overflow-y:auto;padding:.75em 0}.metadata-list-page .column section.field.is-grouped-centered.section{position:absolute;width:63%;background:var(--tainacan-background-color);padding-top:5em}.metadata-list-page .column:not(.available-metadata-types-area){margin-inline-end:var(--tainacan-one-column);flex-grow:2}@media screen and (max-width: 768px){.metadata-list-page .column:not(.available-metadata-types-area){margin-inline-end:0}}.metadata-list-page .column h3{font-weight:500}.metadata-list-page .page-title{border-bottom:1px solid var(--tainacan-secondary);margin:1em 0em 2em 0em}.metadata-list-page .page-title h2{color:var(--tainacan-blue5);font-weight:500}.metadata-list-page .sub-header{display:flex;align-items:center;justify-content:space-between;padding:.5em 1em .5em 0em}.metadata-list-page .sub-header .header-item{margin-inline-start:.75rem;margin-bottom:0px}.metadata-list-page .sub-header h3{margin-inline-end:auto}.metadata-list-page .sub-header .dropdown-menu{display:block}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content{padding:0}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .metadata-options-container{max-height:288px;overflow:auto;font-size:1.125em}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .dropdown-item{padding:.25em 1em .25em .75em}.metadata-list-page .sub-header .dropdown-menu div.dropdown-content .dropdown-item span{vertical-align:middle}.metadata-list-page .collapse-all{display:inline-flex;align-items:center;margin-inline-start:-0.875em;margin-inline-end:auto !important}.metadata-list-page .loading-spinner{animation:spinAround 500ms infinite linear;border:2px solid var(--tainacan-gray2);border-radius:290486px;border-inline-end-color:rgba(0,0,0,0);border-top-color:rgba(0,0,0,0);content:"";display:inline-block;height:1em;width:1em}.metadata-list-page .active-metadata-area,.metadata-list-page .active-metadata-sections-area{min-height:3em;transition:min-height .2s ease}.metadata-list-page .active-metadata-area:empty,.metadata-list-page .active-metadata-sections-area:empty{min-height:220px}@media screen and (max-width: 768px){.metadata-list-page .active-metadata-area,.metadata-list-page .active-metadata-sections-area{min-height:45px;margin:0;padding-inline-end:0em}}.metadata-list-page .active-metadata-area.metadata-area-receive,.metadata-list-page .active-metadata-sections-area.metadata-area-receive{border:1px dashed var(--tainacan-gray4)}.metadata-list-page .active-metadata-area .collapse,.metadata-list-page .active-metadata-sections-area .collapse{display:initial}.metadata-list-page .active-metadata-area.active-metadata-sections-area,.metadata-list-page .active-metadata-sections-area.active-metadata-sections-area{font-size:.875em;margin-inline-start:1em;padding-inline-end:1em;min-height:330px}.metadata-list-page .active-metadata-area .active-metadatum-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item{background-color:var(--tainacan-white);padding:0;margin:0px 4px;min-height:2.8571em;display:block;position:relative;cursor:grab;opacity:1 !important}.metadata-list-page .active-metadata-area .active-metadatum-item>.field,.metadata-list-page .active-metadata-area .active-metadatum-item form,.metadata-list-page .active-metadata-area .active-metadata-sections-item>.field,.metadata-list-page .active-metadata-area .active-metadata-sections-item form,.metadata-list-page .active-metadata-sections-area .active-metadatum-item>.field,.metadata-list-page .active-metadata-sections-area .active-metadatum-item form,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item>.field,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item form{background-color:var(--tainacan-white) !important}.metadata-list-page .active-metadata-area .active-metadatum-item .handle,.metadata-list-page .active-metadata-area .active-metadata-sections-item .handle,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .handle,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .handle{padding-inline-end:6.9em;padding-inline-start:.9em;padding-block-start:.813em;padding-block-end:.813em;border-radius:var(--tainacan-button-border-radius, 0px);white-space:nowrap;display:flex}.metadata-list-page .active-metadata-area .active-metadatum-item .grip-icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .grip-icon{color:var(--tainacan-gray3);position:relative;flex-shrink:0}.metadata-list-page .active-metadata-area .active-metadatum-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .metadatum-name{white-space:nowrap;font-weight:bold;margin-inline-start:.4em;margin-inline-end:.4em;color:var(--tainacan-gray4)}.metadata-list-page .active-metadata-area .active-metadatum-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-area .active-metadata-sections-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .metadatum-name.is-danger,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .metadatum-name.is-danger{color:var(--tainacan-danger) !important}.metadata-list-page .active-metadata-area .active-metadatum-item.active-metadata-sections-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.active-metadata-sections-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.active-metadata-sections-item{padding-inline-start:0;margin-top:1rem;border-bottom:1px solid var(--tainacan-gray2)}.metadata-list-page .active-metadata-area .active-metadatum-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-area .active-metadata-sections-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.active-metadata-sections-item .metadatum-name h3,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.active-metadata-sections-item .metadatum-name h3{color:var(--tainacan-gray4) !important;font-size:1.25em;line-height:normal}.metadata-list-page .active-metadata-area .active-metadatum-item .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .label-details{font-weight:normal;color:var(--tainacan-gray3);text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.metadata-list-page .active-metadata-area .active-metadatum-item .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .not-saved{font-style:italic;font-weight:bold;color:var(--tainacan-danger);margin-inline-start:.5em !important}.metadata-list-page .active-metadata-area .active-metadatum-item .controls,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls{font-size:.875em;position:absolute;inset-inline-end:11px;top:11px;display:flex;align-items:center}.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon{width:1.875em}.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon i,.metadata-list-page .active-metadata-area .active-metadatum-item .controls .icon i:before,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon i,.metadata-list-page .active-metadata-area .active-metadata-sections-item .controls .icon i:before,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon i,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .controls .icon i:before,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon i,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .controls .icon i:before{font-size:1.25em}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons{display:flex;flex-direction:column;position:absolute;overflow:hidden;border-start-end-radius:0;border-end-end-radius:0;border-start-start-radius:var(--tainacan-button-border-radius, 3px);border-end-start-radius:var(--tainacan-button-border-radius, 3px);font-size:.938em;inset-inline-start:0em;top:0px;opacity:0;visibility:hidden;transition:opacity .2s ease,inset-inline-start .2s ease}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons button,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons button,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons button,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons button{border:none;background:var(--tainacan-turquoise1)}.metadata-list-page .active-metadata-area .active-metadatum-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item .sorting-buttons button:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item .sorting-buttons button:hover{color:var(--tainacan-secondary)}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-area .active-metadata-sections-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover>.sorting-buttons,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:not(.not-sortable-item) .handle:hover>.sorting-buttons{opacity:1;visibility:visible;inset-inline-start:-1.062em}.metadata-list-page .active-metadata-area .active-metadatum-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.is-compact-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.is-compact-item .metadatum-name{text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap}.metadata-list-page .active-metadata-area .active-metadatum-item.not-sortable-item,.metadata-list-page .active-metadata-area .active-metadatum-item.not-sortable-item:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-sortable-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-sortable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-sortable-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-sortable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-sortable-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-sortable-item:hover{cursor:default;background-color:var(--tainacan-white) !important}.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item,.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item:hover{cursor:default}.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadatum-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.not-focusable-item:hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.not-focusable-item:hover .metadatum-name{color:var(--tainacan-secondary)}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item),.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover{color:var(--tainacan-gray3)}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .metadatum-name,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .metadatum-name{opacity:.7}.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item) .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item.disabled-metadatum:not(.not-sortable-item):hover .not-saved{color:var(--tainacan-gray3) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(:hover) .icon-level-identifier .tainacan-icon::before,.metadata-list-page .active-metadata-sections-area .active-filter-item:hover.not-sortable-item .icon-level-identifier .tainacan-icon::before{color:var(--tainacan-gray3) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover{background-color:var(--tainacan-turquoise1);border-color:var(--tainacan-turquoise1)}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .not-saved,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .label-details,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .not-saved{color:var(--tainacan-gray4) !important}.metadata-list-page .active-metadata-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .active-metadata-sections-area .active-metadata-sections-item:hover:not(.not-sortable-item) .handle:hover .grip-icon{color:var(--tainacan-secondary) !important}.metadata-list-page .active-metadata-area .sortable-ghost,.metadata-list-page .active-metadata-sections-area .sortable-ghost{border:1px dashed var(--tainacan-gray2);background:var(--tainacan-white);display:block;padding:.25em .9em;margin:4px;height:2.8571em;position:relative}.metadata-list-page .active-metadata-area .sortable-ghost .grip-icon,.metadata-list-page .active-metadata-sections-area .sortable-ghost .grip-icon{color:var(--tainacan-white)}.metadata-list-page .inherited-metadatum .switch.is-small input[type=checkbox]:checked+.check{border:1.5px solid var(--tainacan-blue5)}.metadata-list-page .inherited-metadatum .switch.is-small input[type=checkbox]:checked+.check::before{background-color:var(--tainacan-blue5)}.metadata-list-page .inherited-metadatum.active-metadatum-item:not(.not-sortable-item) .handle:hover,.metadata-list-page .inherited-metadatum.active-metadata-sections-item:not(.not-sortable-item) .handle:hover{background-color:var(--tainacan-blue1);border-color:var(--tainacan-blue1)}.metadata-list-page .inherited-metadatum.active-metadatum-item:not(.not-sortable-item) .handle:hover .grip-icon,.metadata-list-page .inherited-metadatum.active-metadata-sections-item:not(.not-sortable-item) .handle:hover .grip-icon{color:var(--tainacan-blue5) !important}.metadata-list-page .inherited-metadatum>.sorting-buttons button{background:var(--tainacan-blue1)}.metadata-list-page .inherited-metadatum>.sorting-buttons button:hover{color:var(--tainacan-blue5)}@media screen and (max-width: 1023px){.metadata-list-page .sub-header,.metadata-list-page .active-metadata-area.active-metadata-sections-area,.metadata-list-page .active-metadata-sections-area.active-metadata-sections-area{padding-inline-end:0}}.tainacan-repository-level-colors .tainacan-form.sub-header{padding-inline-start:2.75em !important}.tainacan-repository-level-colors .active-metadata-sections-area,.tainacan-repository-level-colors .active-metadata-area{margin-inline-start:0px !important}',""]);const d=r},65569(t,a,e){e.d(a,{X:()=>q});var i=e(6934);function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,a,e){return(a=function(t){var a=function(t,a){if("object"!=n(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,a||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==n(a)?a:a+""}(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function r(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,a){if(t){if("string"==typeof t)return d(t,a);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(t,a):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,i=Array(a);e<a;e++)i[e]=t[e];return i}var l={class:"column is-12-touch"},s={class:"tainacan-form sub-header"},c=["aria-expanded"],m={"aria-hidden":"true",class:"icon"},u={class:"collapse-all__text"},p=["aria-label","disabled"],v={class:"metadata-options-container"},b={key:0,class:"field is-grouped-centered section"},g={class:"content has-text-dark has-text-centered"},h={class:"sorting-buttons"},f=["disabled","onClick"],y=["disabled","onClick"],_={class:"metadatum-name"},M={key:0},k={key:1,class:"icon"},w={key:1,class:"loading-spinner"},C={key:2,class:"controls"},L={class:"sr-only"},S=["aria-label","onClick"],x={class:"icon"},O=["disabled","aria-label","onClick"],E={class:"icon"},I={key:0,class:"field is-grouped-centered section"},$={class:"content has-text-dark has-text-centered"},A=["data-metadatum-id","data-collection-id","data-original-section-index"],j={class:"sorting-buttons"},F=["disabled","aria-label","onClick"],X=["disabled","aria-label","onClick"],T=["onClick"],V={class:"metadatum-name"},U={key:0},P={key:1,class:"icon"},z={class:"icon icon-level-identifier"},N={key:1,class:"loading-spinner"},H={key:2,class:"controls"},Q={class:"sr-only"},D=["aria-label","onClick"],B={class:"icon"},R=["aria-label","onClick"],W={class:"icon"};function q(t,a,e,n,d,q){var K=(0,i.g2)("b-loading"),J=(0,i.g2)("b-checkbox"),G=(0,i.g2)("b-dropdown-item"),Y=(0,i.g2)("b-dropdown"),Z=(0,i.g2)("b-field"),tt=(0,i.g2)("b-input"),at=(0,i.g2)("b-switch"),et=(0,i.g2)("metadatum-details"),it=(0,i.g2)("child-metadata-list"),nt=(0,i.g2)("metadatum-edition-form"),ot=(0,i.g2)("b-modal"),rt=(0,i.g2)("sortable"),dt=(0,i.g2)("metadata-section-edition-form"),lt=(0,i.gN)("a11y-dropdown"),st=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",l,[(0,i.bF)(K,{modelValue:d.isLoadingMetadataSections,"onUpdate:modelValue":a[0]||(a[0]=function(t){return d.isLoadingMetadataSections=t}),"is-full-page":!1},null,8,["modelValue"]),(0,i.Lk)("div",s,[q.activeMetadataSectionsList?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[q.activeMetadataSectionsList.length>0?((0,i.uX)(),(0,i.CE)("button",{key:0,"aria-expanded":!d.collapseAll,class:"button link-style collapse-all",onClick:a[1]||(a[1]=function(t){return d.collapseAll=!d.collapseAll})},[(0,i.Lk)("span",m,[(0,i.Lk)("i",{class:(0,i.C4)([{"tainacan-icon-arrowdown":d.collapseAll,"tainacan-icon-arrowright tainacan-icon-is-rtl-mirrored":!d.collapseAll},"has-text-secondary tainacan-icon tainacan-icon-1-125em"])},null,2)]),(0,i.Lk)("span",u,(0,i.v_)(d.collapseAll?t.$i18n.get("label_hide_details"):t.$i18n.get("label_show_details")),1)],8,c)):(0,i.Q3)("",!0),(0,i.bF)(Z,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bo)(((0,i.uX)(),(0,i.Wv)(Y,{"trigger-tabindex":-1,"mobile-modal":!0,disabled:q.activeMetadataSectionsList.length<=0,class:"show metadata-options-dropdown","trap-focus":""},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",{"aria-label":t.$i18n.get("label_filter_by_metadata_type"),disabled:q.activeMetadataSectionsList.length<=0,class:"button is-white"},[(0,i.Lk)("span",null,(0,i.v_)(t.$i18n.get("label_filter_by_type")),1),a[14]||(a[14]=(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))],8,p)]})),default:(0,i.k6)((function(){return[(0,i.Lk)("div",v,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.metadataTypeFilterOptions,(function(t,a){return(0,i.uX)(),(0,i.Wv)(G,{key:a,class:(0,i.C4)(["control",{"is-active":t.enabled}]),custom:""},{default:(0,i.k6)((function(){return[(0,i.bF)(J,{modelValue:t.enabled,"onUpdate:modelValue":function(a){return t.enabled=a},"native-value":t.enabled},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.name),1)]})),_:2},1032,["modelValue","onUpdate:modelValue","native-value"])]})),_:2},1032,["class"])})),128))])]})),_:1},8,["disabled"])),[[lt]])]})),_:1}),(0,i.bF)(Z,{class:"header-item"},{default:(0,i.k6)((function(){return[(0,i.bF)(tt,{modelValue:d.metadataNameFilterString,"onUpdate:modelValue":a[2]||(a[2]=function(t){return d.metadataNameFilterString=t}),placeholder:t.$i18n.get("instruction_type_search_metadata_filter"),icon:"magnify",size:"is-small","icon-right":"close-circle","icon-right-clickable":"",onIconRightClick:a[3]||(a[3]=function(t){return d.metadataNameFilterString=""})},null,8,["modelValue","placeholder"])]})),_:1})],64)):(0,i.Q3)("",!0)]),q.activeMetadataSectionsList.length<=0&&!d.isLoadingMetadataSections?((0,i.uX)(),(0,i.CE)("section",b,[(0,i.Lk)("div",g,[a[15]||(a[15]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadata_section")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(rt,{list:q.activeMetadataSectionsList,"item-key":"id",class:"active-metadata-sections-area",options:{group:{name:"metadata-sections",pull:!1,put:["metadata-sections"]},sort:!(""!=d.openedMetadataSectionId&&null!=d.openedMetadataSectionId||""!=d.openedMetadatumId&&null!=d.openedMetadatumId),direction:"vertical",handle:".handle",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250},onUpdate:a[11]||(a[11]=function(t){return q.handleSectionChange(t)}),onAdd:a[12]||(a[12]=function(t){return q.handleSectionChange(t)}),onRemove:a[13]||(a[13]=function(t){return q.handleSectionChange(t)})},{item:(0,i.k6)((function(n){var l=n.element,s=n.index;return[((0,i.uX)(),(0,i.CE)("div",{key:l.id},[(0,i.Lk)("div",{class:(0,i.C4)(["active-metadata-sections-item",{"is-compact-item":!q.isCollapseOpen(l.id),"not-sortable-item":null==l.id||""!=d.openedMetadatumId||""!=d.openedMetadataSectionId||d.isUpdatingMetadataOrder||d.isUpdatingMetadatum||d.isUpdatingMetadataSectionsOrder||""!=d.metadataNameFilterString||q.hasSomeMetadataTypeFilterApplied,"not-focusable-item":d.openedMetadataSectionId==l.id,"disabled-metadatum":0==l.enabled,"inherited-metadatum":!1}])},[(0,i.Lk)("div",{ref:"metadata-section-handler-"+l.id,class:"handle"},[(0,i.Lk)("span",h,[(0,i.Lk)("button",{disabled:0==s,class:"link-button",onClick:function(t){return q.moveMetadataSectionUpViaButon(s)}},r(a[16]||(a[16]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)])),8,f),(0,i.Lk)("button",{disabled:s==q.activeMetadataSectionsList.length-1,class:"link-button",onClick:function(t){return q.moveMetadataSectionDownViaButton(s)}},r(a[17]||(a[17]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)])),8,y)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==l.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||""!=d.openedMetadataSectionId||d.isUpdatingMetadataSectionsOrder||""!=d.metadataNameFilterString||q.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon"},r(a[18]||(a[18]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])),4)),[[st,{content:null==l.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||""!=d.openedMetadataSectionId||d.isUpdatingMetadataSectionsOrder||d.isUpdatingMetadatum?t.$i18n.get("info_not_allowed_change_order_metadata_sections"):t.$i18n.get("instruction_drag_and_drop_metadata_sections_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",_,[(0,i.Lk)("h3",null,(0,i.v_)(l.name),1)]),null!=l.id?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":"default_section"===l.id}])},["default_section"===l.id?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",M,[(0,i.eW)(" * ("+(0,i.v_)(t.$i18n.get("label_default_section"))+") ",1)])),[[st,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),"private"===l.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",k,r(a[19]||(a[19]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[st,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0),null==l.id?((0,i.uX)(),(0,i.CE)("span",w)):(0,i.Q3)("",!0),void 0!==l.id?((0,i.uX)(),(0,i.CE)("span",C,[(0,i.bF)(at,{disabled:d.isUpdatingMetadataSectionsOrder,size:"is-small","model-value":l.enabled,"onUpdate:modelValue":function(t){return q.onChangeEnableSection(t,s)}},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",L,(0,i.v_)(l.enabled?t.$i18n.get("label_enabled"):t.$i18n.get("label_disabled")),1)]})),_:2},1032,["disabled","model-value","onUpdate:modelValue"]),l.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("edit"),onClick:(0,i.D$)((function(t){return q.toggleMetadataSectionEdition(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",x,r(a[20]||(a[20]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[st,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,S)):(0,i.Q3)("",!0),l.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,disabled:l.metadata_object_list.length>0,style:(0,i.Tr)({visibility:l.collection_id!=d.collectionId||"default_section"===l.id||l.metadata_object_list.length?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("delete"),onClick:(0,i.D$)((function(t){return q.removeMetadataSection(l)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",E,r(a[21]||(a[21]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[st,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,O)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512)],2),l.metadata_object_list&&l.metadata_object_list.length<=0?((0,i.uX)(),(0,i.CE)("section",I,[(0,i.Lk)("div",$,[a[22]||(a[22]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon is-large"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-36px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_there_is_no_metadatum")),1),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_create_metadata")),1)])])):(0,i.Q3)("",!0),(0,i.bF)(K,{modelValue:d.isUpdatingMetadatum,"onUpdate:modelValue":a[4]||(a[4]=function(t){return d.isUpdatingMetadatum=t})},null,8,["modelValue"]),l.metadata_object_list&&Array.isArray(l.metadata_object_list)?((0,i.uX)(),(0,i.Wv)(rt,{key:1,list:l.metadata_object_list.filter((function(t){return null!=t&&0==t.parent})),"item-key":"id",class:"active-metadata-area",options:{group:{name:"metadata",pull:["metadata"],put:["metadata"]},sort:!(""!=d.openedMetadatumId&&null!=d.openedMetadatumId||""!=d.openedMetadataSectionId&&null!=d.openedMetadataSectionId),handle:".handle",direction:"vertical",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",filter:".not-sortable-item",preventOnFilter:!1,animation:250,dataIdAttr:"data-metadatum-id"},onUpdate:function(t){return q.handleChange(t,s)},onAdd:function(t){return q.handleChange(t,s)},onRemove:function(t){return q.handleChange(t,s)}},{item:(0,i.k6)((function(n){var c=n.element,m=n.index;return[(0,i.bo)(((0,i.uX)(),(0,i.CE)("div",{key:c.id,"data-metadatum-id":c.id,"data-collection-id":c.collection_id,"data-original-section-index":s,class:(0,i.C4)(["active-metadatum-item",{"is-compact-item":!q.isCollapseOpen(c.id),"not-sortable-item":null==c.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||""!=d.metadataNameFilterString||q.hasSomeMetadataTypeFilterApplied||d.isUpdatingMetadatum,"not-focusable-item":d.openedMetadatumId==c.id,"disabled-metadatum":0==l.enabled||0==c.enabled,"inherited-metadatum tainacan-repository-level-colors":c.inherited,"child-metadatum":c.parent>0}])},[(0,i.Lk)("div",{ref:"metadatum-handler-"+c.id,class:"handle"},[(0,i.Lk)("span",j,[(0,i.Lk)("button",{disabled:0==m,class:"link-button","aria-label":t.$i18n.get("label_move_up"),role:"button",onClick:function(t){return q.moveMetadatumUpViaButton(m,s)}},r(a[23]||(a[23]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-previous tainacan-icon-rotate-90"})],-1)])),8,F),(0,i.Lk)("button",{disabled:m==l.metadata_object_list.filter((function(t){return null!=t&&0==t.parent})).length-1,class:"link-button","aria-label":t.$i18n.get("label_move_down"),role:"button",onClick:function(t){return q.moveMetadatumDownViaButton(m,s)}},r(a[24]||(a[24]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-next tainacan-icon-rotate-90"})],-1)])),8,X)]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{style:(0,i.Tr)({opacity:null==c.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||""!=d.metadataNameFilterString||q.hasSomeMetadataTypeFilterApplied?"0.0":"1.0"}),class:"icon grip-icon"},r(a[25]||(a[25]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"currentColor"},[(0,i.Lk)("path",{d:"M0 0h24v24H0V0z",fill:"transparent"}),(0,i.Lk)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})],-1)])),4)),[[st,{content:null==c.id||""!=d.openedMetadatumId||d.isUpdatingMetadataOrder||d.isUpdatingMetadatum?t.$i18n.get("info_not_allowed_change_order_metadata"):t.$i18n.get("instruction_drag_and_drop_metadatum_sort"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",{class:"gray-icon icon","aria-hidden":"true",style:(0,i.Tr)({cursor:"pointer",opacity:d.openedMetadatumId!=c.id?"1.0":"0.0"}),onClick:function(t){return Object.assign(d.collapses,o({},c.id,!q.isCollapseOpen(c.id)))}},[(0,i.Lk)("i",{class:(0,i.C4)("tainacan-icon tainacan-icon-1-25em tainacan-icon-"+(q.isCollapseOpen(c.id)?"arrowdown":"arrowright tainacan-icon-is-rtl-mirrored"))},null,2)],12,T)),[[st,{content:t.$i18n.get("label_view_metadata_details"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]),(0,i.Lk)("span",V,(0,i.v_)(c.name),1),null!=c.id&&c.metadata_type_object?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,i.C4)(["label-details",{"has-text-weight-bold":c.metadata_type_object.core}])},["yes"===c.required?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",U,r(a[26]||(a[26]=[(0,i.eW)(" *  ",-1)])))),[[st,{content:t.$i18n.get("label_required"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.eW)(" ("+(0,i.v_)(c.metadata_type_object.name)+") ",1),"private"===c.status?(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",P,r(a[27]||(a[27]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-private"},null,-1)])))),[[st,{content:t.$i18n.get("status_private"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]]):(0,i.Q3)("",!0),(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",z,["default"==c.collection_id?((0,i.uX)(),(0,i.CE)("i",{key:0,class:(0,i.C4)([{"has-text-secondary":c.enabled,"has-text-grey":!c.enabled},"tainacan-icon tainacan-icon-repository"])},null,2)):((0,i.uX)(),(0,i.CE)("i",{key:1,class:(0,i.C4)([{"has-text-secondary":c.enabled,"has-text-grey":!c.enabled},"tainacan-icon tainacan-icon-collection"])},null,2))])),[[st,{content:"default"==c.collection_id?t.$i18n.get("label_repository_metadatum"):t.$i18n.get("label_collection_metadatum"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],2)):(0,i.Q3)("",!0),null==c.id||d.isUpdatingMetadatum?((0,i.uX)(),(0,i.CE)("span",N)):(0,i.Q3)("",!0),void 0!==c.id?((0,i.uX)(),(0,i.CE)("span",H,[(0,i.bF)(at,{style:(0,i.Tr)({visibility:l.enabled?"visible":"hidden"}),disabled:d.isUpdatingMetadataOrder||!l.enabled,size:"is-small","model-value":c.enabled,"onUpdate:modelValue":function(t){return q.onChangeEnable(t,m,s)}},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",Q,(0,i.v_)(c.enabled?t.$i18n.get("label_enabled"):t.$i18n.get("label_disabled")),1)]})),_:2},1032,["style","disabled","model-value","onUpdate:modelValue"]),c.current_user_can_edit?((0,i.uX)(),(0,i.CE)("a",{key:0,style:(0,i.Tr)({visibility:c.collection_id!=d.collectionId?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("edit"),onClick:(0,i.D$)((function(t){return q.toggleMetadatumEdition(c)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",B,r(a[28]||(a[28]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-edit"},null,-1)])))),[[st,{content:t.$i18n.get("edit"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,D)):(0,i.Q3)("",!0),c.current_user_can_delete?((0,i.uX)(),(0,i.CE)("a",{key:1,style:(0,i.Tr)({visibility:c.collection_id!=d.collectionId||c.metadata_type_object.core?"hidden":"visible"}),role:"button",tabindex:"0","aria-label":t.$i18n.get("delete"),onClick:(0,i.D$)((function(t){return q.removeMetadatum(c,s)}),["prevent"])},[(0,i.bo)(((0,i.uX)(),(0,i.CE)("span",W,r(a[29]||(a[29]=[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-delete"},null,-1)])))),[[st,{content:t.$i18n.get("delete"),autoHide:!0,popperClass:["tainacan-tooltip","tooltip"],placement:"auto-start"}]])],12,R)):(0,i.Q3)("",!0)])):(0,i.Q3)("",!0)],512),(0,i.bF)(i.eB,{name:"form-collapse"},{default:(0,i.k6)((function(){return[q.isCollapseOpen(c.id)&&d.openedMetadatumId!==c.id?((0,i.uX)(),(0,i.Wv)(et,{key:0,metadatum:c},null,8,["metadatum"])):(0,i.Q3)("",!0)]})),_:2},1024),c.metadata_type_object&&"tainacan-compound"==c.metadata_type_object.component?((0,i.uX)(),(0,i.Wv)(it,{key:0,parent:c,"metadata-name-filter-string":d.metadataNameFilterString,"metadata-type-filter-options":e.metadataTypeFilterOptions,"has-some-metadata-type-filter-applied":q.hasSomeMetadataTypeFilterApplied,"is-parent-multiple":"yes"==c.multiple,"is-repository-level":!1,"collapse-all":d.collapseAll,"section-id":l.id+""},null,8,["parent","metadata-name-filter-string","metadata-type-filter-options","has-some-metadata-type-filter-applied","is-parent-multiple","collapse-all","section-id"])):(0,i.Q3)("",!0)],10,A)),[[i.aG,(""==d.metadataNameFilterString||q.filterByMetadatumName(c))&&q.filterByMetadatumType(c)]]),d.openedMetadatumId==c.id?((0,i.uX)(),(0,i.Wv)(ot,{key:0,"model-value":d.openedMetadatumId==c.id,"trap-focus":"","aria-modal":"","aria-role":"dialog",width:"860px","custom-class":"tainacan-modal","can-cancel":["escape","outside"],onClose:a[7]||(a[7]=function(t){return q.onEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(nt,{"collection-id":d.collectionId,"original-metadatum":c,"is-repository-level":!1,index:m,onOnEditionFinished:a[5]||(a[5]=function(t){return q.onEditionFinished()}),onOnEditionCanceled:a[6]||(a[6]=function(t){return q.onEditionCanceled()})},null,8,["collection-id","original-metadatum","index"])]})),_:2},1032,["model-value"])):(0,i.Q3)("",!0)]})),_:2},1032,["list","options","onUpdate","onAdd","onRemove"])):(0,i.Q3)("",!0),(0,i.bF)(ot,{"model-value":d.openedMetadataSectionId==l.id,"trap-focus":"","aria-modal":"","aria-role":"dialog",width:"820px","custom-class":"tainacan-modal","can-cancel":["escape","outside"],onClose:a[10]||(a[10]=function(t){return q.onSectionEditionCanceled()})},{default:(0,i.k6)((function(){return[(0,i.bF)(dt,{"collection-id":d.collectionId,"original-metadata-section":l,index:s,onOnEditionFinished:a[8]||(a[8]=function(t){return q.onSectionEditionFinished()}),onOnEditionCanceled:a[9]||(a[9]=function(t){return q.onSectionEditionCanceled()})},null,8,["collection-id","original-metadata-section","index"])]})),_:2},1032,["model-value"])]))]})),_:1},8,["list","options"])])}},66763(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(72470),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},67348(t,a,e){e.d(a,{X:()=>i.X});var i=e(65569)},68634(t,a,e){e(66763)},68913(t,a,e){e.d(a,{A:()=>i.A});var i=e(53904)},69788(t,a,e){e(83211)},72470(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,".child-metadata-list-container[data-v-2a6cdd26]{position:relative;margin-inline-start:42px;border-inline-start:1px solid var(--tainacan-gray2)}.child-metadata-list-container section.field[data-v-2a6cdd26]{padding:.5em 1em 0 1em !important;position:absolute;width:100% !important}.child-metadata-list-container .children-icon[data-v-2a6cdd26]{position:absolute;top:0;inset-inline-start:-22px}.child-metadata-list-container .children-icon .icon[data-v-2a6cdd26]{color:var(--tainacan-info-color) !important}.child-metadata-list-container .child-metadata-area[data-v-2a6cdd26]{padding:0;margin:0;font-size:1em}.child-metadata-list-container .child-metadata-area section[data-v-2a6cdd26]{padding:.5em 1em}.child-metadata-list-container .child-metadata-area .active-metadatum-item[data-v-2a6cdd26]{margin-inline-start:0}",""]);const d=r},77942(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,'.metadata-mappers-area[data-v-563ca327]{padding:0 1em}.tainacan-form[data-v-563ca327]{display:flex;flex-direction:column;justify-content:space-between;min-height:247px}.form-submit[data-v-563ca327]{margin-top:24px}.add-link[data-v-563ca327]{font-size:.875em}.field[data-v-563ca327]{position:relative}.mapping-control[data-v-563ca327]{background-color:var(--tainacan-background-color, white);position:sticky;top:-34px;z-index:9;height:2.5rem;padding-top:12px}.mapping-header[data-v-563ca327]{background-color:var(--tainacan-background-color, white);position:sticky;top:0;z-index:9;width:100%;display:flex;justify-content:space-between;align-items:center;color:var(--tainacan-info-color);font-size:.875em;font-weight:bold;margin:0 0 12px 0;border-bottom:1px solid var(--tainacan-gray3);box-shadow:0 5px 12px -14px var(--tainacan-gray5)}.mapping-header p[data-v-563ca327]{white-space:nowrap}.mapping-header hr[data-v-563ca327]{width:100%;margin-left:12px;margin-right:12px;height:1px;background:var(--tainacan-gray3)}@media screen and (max-width: 768px){.mapping-header p[data-v-563ca327]{white-space:normal}.mapping-header hr[data-v-563ca327]{display:none}}.source-metadatum[data-v-563ca327]{padding:2px 0;min-height:35px;width:100%;margin:3px 16px 6px 16px;display:flex;justify-content:space-between;align-items:center;position:relative}.source-metadatum[data-v-563ca327]::before{display:block;content:"";position:absolute;height:1px;width:100%;background-color:var(--tainacan-gray2);z-index:0}.source-metadatum>p[data-v-563ca327]{font-weight:normal;transition:font-weight .1s ease;padding-left:6px;overflow:hidden;word-wrap:break-word;background-color:var(--tainacan-background-color, white);z-index:1}.source-metadatum .control[data-v-563ca327]{max-width:60%}.source-metadatum[data-v-563ca327]:hover{--tainacan-input-border-color: var(--tainacan-gray4)}.source-metadatum[data-v-563ca327]:hover::before{background-color:var(--tainacan-gray4)}.source-metadatum:hover>p[data-v-563ca327]{font-weight:bold}.fixed-form-submit[data-v-563ca327]{margin-top:24px;position:sticky !important;bottom:0;background:var(--tainacan-background-color, white);z-index:9;padding:12px;border-top:1px solid var(--tainacan-gray3);box-shadow:0 -5px 12px -14px var(--tainacan-gray5)}',""]);const d=r},78061(t,a,e){e.d(a,{A:()=>o});var i=e(27090),n=e(56170);e(10510);const o=(0,e(66262).A)(n.A,[["render",i.X],["__scopeId","data-v-5e686911"]])},80189(t,a,e){e.d(a,{X:()=>$});var i=e(6934),n={key:0,class:"tainacan-modal-content"},o={class:"tainacan-modal-title"},r={key:0},d={key:1},l={class:"tainacan-form"},s={class:"options-columns"},c={class:"two-thirds-layout-options"},m={class:"label is-inline"},u={class:"label is-inline"},p={type:"button",class:"button is-outlined",style:{width:"auto"}},v={"aria-hidden":"true",class:"icon has-text-dark"},b={"aria-hidden":"true",class:"icon has-text-dark"},g={key:0,class:"is-small",style:{"margin-left":"2px"}},h=["innerHTML"],f={class:"label is-inline"},y={"aria-hidden":"true",class:"icon"},_={class:"options-columns"},M={key:0},k={style:{"break-inside":"avoid"}},w={class:"label is-inline"},C=["value"],L={class:"label is-inline"},S=["innerHTML"],x={class:"field is-grouped form-submit"},O={class:"control"},E={class:"help is-danger"},I={class:"control"};function $(t,a,e,$,A,j){var F=(0,i.g2)("help-button"),X=(0,i.g2)("b-input"),T=(0,i.g2)("b-field"),V=(0,i.g2)("b-dropdown-item"),U=(0,i.g2)("b-dropdown"),P=(0,i.g2)("b-switch"),z=(0,i.g2)("b-select"),N=(0,i.g2)("b-button"),H=(0,i.gN)("a11y-dropdown");return(0,i.uX)(),(0,i.CE)("form",{id:"metadataSectionEditForm",autofocus:"true",tabindex:"-1",role:"dialog","aria-modal":"",onSubmit:a[13]||(a[13]=(0,i.D$)((function(t){return j.saveEdition(A.form)}),["prevent"]))},[A.form&&Object.keys(A.form).length?((0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",o,[A.form.name?((0,i.uX)(),(0,i.CE)("h2",r,[(0,i.eW)((0,i.v_)(t.$i18n.get("instruction_configure_the_metadata_section"))+" ",1),(0,i.Lk)("em",null,(0,i.v_)(A.form.name),1)])):((0,i.uX)(),(0,i.CE)("h2",d,(0,i.v_)(t.$i18n.get("instruction_configure_new_metadata_section")),1))]),(0,i.Lk)("div",l,[(0,i.Lk)("div",s,[(0,i.Lk)("div",c,[(0,i.bF)(T,{addons:!1,type:null!=A.formErrors.name?"is-danger":"",message:null!=A.formErrors.name?A.formErrors.name:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",m,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_name"))+" ",1),(0,i.Lk)("span",{class:(0,i.C4)(["required-metadata-section-asterisk",null!=A.formErrors.name?"is-danger":""])},"*",2),(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","name"),message:t.$i18n.getHelperMessage("metadata-sections","name")},null,8,["title","message"])]),(0,i.bF)(X,{modelValue:A.form.name,"onUpdate:modelValue":a[0]||(a[0]=function(t){return A.form.name=t}),name:"name",onFocus:a[1]||(a[1]=function(t){return j.clearErrors("name")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),"default_section"!==A.form.id?((0,i.uX)(),(0,i.Wv)(T,{key:0,addons:!1,type:null!=A.formErrors.status?"is-danger":"",message:null!=A.formErrors.status?A.formErrors.status:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",u,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_status"))+" ",1),(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","status"),message:t.$i18n.getHelperMessage("metadata-sections","status")},null,8,["title","message"])]),(0,i.bo)(((0,i.uX)(),(0,i.Wv)(U,{ref:"metadatum-edition-status-dropdown","trigger-tabindex":-1,class:"metadatum-edition-status-dropdown",position:"is-bottom-left",triggers:["click"]},{trigger:(0,i.k6)((function(){return[(0,i.Lk)("button",p,[(0,i.Lk)("span",v,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon tainacan-icon-18px",t.$statusHelper.getIcon(A.form.status)])},null,2)]),"auto-draft"!==A.form.status&&t.$statusHelper.getStatuses().find((function(t){return t.slug==A.form.status}))?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)((0,i.v_)(t.$statusHelper.getStatuses().find((function(t){return t.slug==A.form.status})).name),1)],64)):"auto-draft"===A.form.status?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.eW)((0,i.v_)(t.$i18n.get("status_auto-draft")),1)],64)):(0,i.Q3)("",!0),a[14]||(a[14]=(0,i.Lk)("span",{style:{"margin-inline-start":"0.5em"},class:"icon is-small","aria-hidden":"true"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-1-25em tainacan-icon-arrowdown"})],-1))])]})),default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.$statusHelper.getStatuses().filter((function(t){return"trash"!=t.slug&&"draft"!=t.slug&&"pending"!=t.slug&&("auto-draft"!=A.form.status||"trash"!=t.slug)})),(function(e,n){return(0,i.uX)(),(0,i.Wv)(V,{key:n,onClick:function(t){return A.form.status=e.slug},onKeydown:[(0,i.jR)((0,i.D$)((function(t){return A.form.status=e.slug}),["prevent"]),["enter"]),(0,i.jR)((0,i.D$)((function(t){return A.form.status=e.slug}),["prevent"]),["space"])]},{default:(0,i.k6)((function(){return[(0,i.Lk)("span",b,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon tainacan-icon-18px",t.$statusHelper.getIcon(e.slug)])},null,2)]),(0,i.eW)(" "+(0,i.v_)(e.name)+" ",1),a[15]||(a[15]=(0,i.Lk)("br",null,null,-1)),t.$statusHelper.hasDescription(e.slug)?((0,i.uX)(),(0,i.CE)("small",g,(0,i.v_)(t.$statusHelper.getDescription(e.slug)),1)):(0,i.Q3)("",!0)]})),_:2},1032,["onClick","onKeydown"])})),128))]})),_:1})),[[H]])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]),t.hasBeginLeftForm&&"default_section"!==A.form.id?((0,i.uX)(),(0,i.CE)("form",{key:0,id:"form-metadataSection-begin-left",class:"form-hook-region",innerHTML:t.getBeginLeftForm},null,8,h)):(0,i.Q3)("",!0),(0,i.bF)(T,{addons:!1,type:null!=A.formErrors.description?"is-danger":"",message:null!=A.formErrors.description?A.formErrors.description:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",f,[(0,i.eW)((0,i.v_)(t.$i18n.get("label_description"))+" ",1),(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","description"),message:t.$i18n.getHelperMessage("metadata-sections","description")},null,8,["title","message"])]),(0,i.bF)(X,{modelValue:A.form.description,"onUpdate:modelValue":a[2]||(a[2]=function(t){return A.form.description=t}),type:"textarea",name:"description",rows:"3",onFocus:a[3]||(a[3]=function(t){return j.clearErrors("description")})},null,8,["modelValue"])]})),_:1},8,["type","message"]),(0,i.bF)(T,{addons:!1,label:t.$i18n.getHelperTitle("metadata-sections","description_bellow_name"),type:null!=A.formErrors.description_bellow_name?"is-danger":"",message:null!=A.formErrors.description_bellow_name?A.formErrors.description_bellow_name:""},{default:(0,i.k6)((function(){return[a[16]||(a[16]=(0,i.eW)("   ",-1)),(0,i.bF)(P,{modelValue:A.form.description_bellow_name,"onUpdate:modelValue":[a[4]||(a[4]=function(t){return A.form.description_bellow_name=t}),a[5]||(a[5]=function(t){return j.clearErrors("description_bellow_name")})],size:"is-small","true-value":"yes","false-value":"no",name:"description_bellow_name"},{default:(0,i.k6)((function(){return[(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","description_bellow_name"),message:t.$i18n.getHelperMessage("metadata-sections","description_bellow_name")},null,8,["title","message"])]})),_:1},8,["modelValue"])]})),_:1},8,["label","type","message"])]),"default_section"!==A.form.id?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"metadata-form-section",onClick:a[6]||(a[6]=function(t){A.hideConditionalSectionSettings=!A.hideConditionalSectionSettings})},[(0,i.Lk)("span",y,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon",A.hideConditionalSectionSettings?"tainacan-icon-arrowright tainacan-icon-is-rtl-mirrored":"tainacan-icon-arrowdown"])},null,2)]),(0,i.Lk)("strong",null,(0,i.v_)(t.$i18n.get("label_advanced_metadata_options")),1),a[17]||(a[17]=(0,i.Lk)("hr",null,null,-1))])):(0,i.Q3)("",!0),"default_section"!==A.form.id?((0,i.uX)(),(0,i.Wv)(i.eB,{key:1,name:"filter-item"},{default:(0,i.k6)((function(){return[(0,i.bo)((0,i.Lk)("div",_,[(0,i.bF)(T,{addons:!1,label:t.$i18n.getHelperTitle("metadata-sections","is_conditional_section"),type:null!=A.formErrors.is_conditional_section?"is-danger":"",message:null!=A.formErrors.is_conditional_section?A.formErrors.is_conditional_section:""},{default:(0,i.k6)((function(){return[a[18]||(a[18]=(0,i.eW)("   ",-1)),(0,i.bF)(P,{modelValue:A.form.is_conditional_section,"onUpdate:modelValue":[a[7]||(a[7]=function(t){return A.form.is_conditional_section=t}),a[8]||(a[8]=function(t){return j.clearErrors("is_conditional_section")})],size:"is-small","true-value":"yes","false-value":"no",name:"is_conditional_section"},{default:(0,i.k6)((function(){return[(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","is_conditional_section"),message:t.$i18n.getHelperMessage("metadata-sections","is_conditional_section")},null,8,["title","message"])]})),_:1},8,["modelValue"])]})),_:1},8,["label","type","message"]),j.isConditionalSection&&!j.availableConditionalMetadata.length?((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("p",k,(0,i.v_)(t.$i18n.get("info_create_select_metadatum_for_conditional_section")),1)])):(0,i.Q3)("",!0),(0,i.bF)(i.eB,{name:"filter-item"},{default:(0,i.k6)((function(){return[j.isConditionalSection&&j.availableConditionalMetadata.length?((0,i.uX)(),(0,i.Wv)(T,{key:0,addons:!1,type:null!=A.formErrors.conditional_section_rules?"is-danger":"",message:null!=A.formErrors.conditional_section_rules?A.formErrors.conditional_section_rules:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",w,[(0,i.eW)((0,i.v_)(t.$i18n.getHelperTitle("metadata-sections","conditional_section_rules"))+" ",1),(0,i.bF)(F,{title:t.$i18n.getHelperTitle("metadata-sections","conditional_section_rules"),message:t.$i18n.getHelperMessage("metadata-sections","conditional_section_rules")},null,8,["title","message"])]),(0,i.bF)(z,{modelValue:A.selectedConditionalMetadatumId,"onUpdate:modelValue":[a[9]||(a[9]=function(t){return A.selectedConditionalMetadatumId=t}),a[10]||(a[10]=function(t){return j.reloadConditionalValueComponent()})],placeholder:t.$i18n.get("label_select_metadatum")},{default:(0,i.k6)((function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(j.availableConditionalMetadata,(function(t){return(0,i.uX)(),(0,i.CE)("option",{key:t.id,value:t.id},(0,i.v_)(t.name),9,C)})),128))]})),_:1},8,["modelValue","placeholder"])]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]})),_:1}),(0,i.bF)(i.eB,{name:"filter-item"},{default:(0,i.k6)((function(){return[j.isConditionalSection&&A.selectedConditionalMetadatumId&&j.selectedConditionalMetadatum&&j.selectedConditionalMetadatum.name?((0,i.uX)(),(0,i.Wv)(T,{key:0,addons:!1,type:null!=A.formErrors.conditional_section_rules?"is-danger":"",message:null!=A.formErrors.conditional_section_rules?A.formErrors.conditional_section_rules:""},{default:(0,i.k6)((function(){return[(0,i.Lk)("label",L,(0,i.v_)(j.selectedConditionalMetadatum.name),1),A.shouldUpdateConditionalValue?((0,i.uX)(),(0,i.Wv)((0,i.$y)(j.selectedConditionalMetadatum.metadata_type_object.component),{key:0,"forced-component-type":j.selectedConditionalMetadatum.metadata_type_object.component.includes("taxonomy")?"tainacan-taxonomy-tag-input":"","item-metadatum":{metadatum:j.selectedConditionalMetadatum},value:Array.isArray(A.selectedConditionalValue)?A.selectedConditionalValue[0]:A.selectedConditionalValue,"allow-new":!1,maxtags:1,"onUpdate:value":a[11]||(a[11]=function(t){return j.selectConditionalValue(t)})},null,40,["forced-component-type","item-metadatum","value"])):(0,i.Q3)("",!0)]})),_:1},8,["type","message"])):(0,i.Q3)("",!0)]})),_:1})],512),[[i.aG,!A.hideConditionalSectionSettings]])]})),_:1})):(0,i.Q3)("",!0),t.hasEndLeftForm&&"default_section"!==A.form.id?((0,i.uX)(),(0,i.CE)("form",{key:2,id:"form-metadataSection-end-left",class:"form-hook-region",innerHTML:t.getEndLeftForm},null,8,S)):(0,i.Q3)("",!0)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",x,[(0,i.Lk)("div",O,[(0,i.Lk)("button",{type:"button",class:"button is-outlined",onClick:a[12]||(a[12]=(0,i.D$)((function(t){return j.cancelEdition()}),["prevent"]))},(0,i.v_)(t.$i18n.get("cancel")),1)]),(0,i.Lk)("p",E,(0,i.v_)(A.formErrorMessage),1),(0,i.Lk)("div",I,[(0,i.bF)(N,{loading:A.isUpdating,class:"button is-success","native-type":"submit"},{default:(0,i.k6)((function(){return[(0,i.eW)((0,i.v_)(t.$i18n.get("save")),1)]})),_:1},8,["loading"])])])],32)}},80307(t,a,e){e.d(a,{X:()=>i.X});var i=e(45480)},83211(t,a,e){var i=e(85072),n=e.n(i),o=e(97825),r=e.n(o),d=e(77659),l=e.n(d),s=e(55056),c=e.n(s),m=e(10540),u=e.n(m),p=e(63494),v=e.n(p),b=e(63792),g={};g.styleTagTransform=v(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=u();n()(b.A,g),b.A&&b.A.locals&&b.A.locals},84161(t,a,e){e.d(a,{A:()=>i.A});var i=e(38424)},85954(t,a,e){e.d(a,{A:()=>o});var i=e(67348),n=e(36053);const o=(0,e(66262).A)(n.A,[["render",i.X]])},86354(t,a,e){e.d(a,{A:()=>d});var i=e(31601),n=e.n(i),o=e(76314),r=e.n(o)()(n());r.push([t.id,'form#metadataSectionEditForm[data-v-5e686911]{font-size:1.125em}form#metadataSectionEditForm .options-columns[data-v-5e686911]{-moz-column-count:2;-moz-column-gap:0;-moz-column-rule:1px solid var(--tainacan-gray1);-webkit-column-count:2;-webkit-column-gap:0;-webkit-column-rule:1px solid var(--tainacan-gray1);column-count:2;-moz-column-gap:4em;column-gap:4em;column-rule:1px solid var(--tainacan-gray1);padding-left:.25em;padding-right:.25em;padding-bottom:.5em}form#metadataSectionEditForm .options-columns>.field[data-v-5e686911],form#metadataSectionEditForm .options-columns>section[data-v-5e686911]{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}form#metadataSectionEditForm .options-columns .field>.field[data-v-5e686911]:not(:last-child){margin-bottom:0em}form#metadataSectionEditForm .options-columns[data-v-5e686911] .field{page-break-inside:avoid;-moz-column-break-inside:avoid;break-inside:avoid}form#metadataSectionEditForm .options-columns section[data-v-5e686911]{display:grid}form#metadataSectionEditForm .options-columns .field[data-v-5e686911]:first-child{-moz-column-span:all;column-span:all}form#metadataSectionEditForm .options-columns .tainacan-help-tooltip-trigger[data-v-5e686911]{font-size:1.25em}@media screen and (max-width: 600px){form#metadataSectionEditForm .options-columns[data-v-5e686911]{-moz-column-count:1;column-count:1}}form#metadataSectionEditForm .two-thirds-layout-options[data-v-5e686911]{display:flex;-moz-column-gap:1em !important;column-gap:1em !important;-moz-column-span:all;column-span:all}form#metadataSectionEditForm .two-thirds-layout-options>.field[data-v-5e686911]:first-child{flex-grow:1;flex-shrink:0;margin-bottom:1em}form#metadataSectionEditForm .two-thirds-layout-options>.field[data-v-5e686911]:nth-child(2){width:-moz-min-content;width:min-content;flex-shrink:1;flex-grow:0}@media screen and (max-width: 600px){form#metadataSectionEditForm .two-thirds-layout-options[data-v-5e686911]{flex-direction:column;margin-bottom:1em}}form#metadataSectionEditForm .tainacan-form .field[data-v-5e686911]:not(:last-child){margin-bottom:1em}form#metadataSectionEditForm .tainacan-form[data-v-5e686911] .control-label{white-space:normal}form#metadataSectionEditForm .metadata-form-section[data-v-5e686911]{margin:1.5em 0 .5em -1.5em;position:relative;cursor:pointer}form#metadataSectionEditForm .metadata-form-section .icon[data-v-5e686911]{background:var(--tainacan-background-color);z-index:1;position:relative}form#metadataSectionEditForm .metadata-form-section strong[data-v-5e686911]{background:var(--tainacan-background-color);color:var(--tainacan-gray4);font-size:.875em;z-index:1;position:relative;padding-inline-end:12px}form#metadataSectionEditForm .metadata-form-section hr[data-v-5e686911]{position:absolute;top:-0.75em;width:calc(100% - 42px);height:1px;background-color:var(--tainacan-gray2);margin-inline-start:42px;transition:background-color .2s ease,height .2s ease}form#metadataSectionEditForm .metadata-form-section:hover .icon[data-v-5e686911],form#metadataSectionEditForm .metadata-form-section:hover strong[data-v-5e686911]{color:var(--tainacan-secondary)}form#metadataSectionEditForm .metadata-form-section:hover hr[data-v-5e686911]{background-color:var(--tainacan-primary);height:2px}@media screen and (max-width: 768px){form#metadataSectionEditForm .options-columns[data-v-5e686911]{-moz-column-count:1;column-count:1}}[data-v-5e686911] .is-special-hidden-for-mobile,[data-v-5e686911] .is-special-hidden-for-mobile:focus,[data-v-5e686911] .is-special-hidden-for-mobile:focus-visible{opacity:0;width:0;height:0 !important;min-height:0;min-width:0;padding:0 !important;line-height:0px !important;border:none !important;border-color:rgba(0,0,0,0) !important;border-width:0px !important;font-size:0px !important;display:block !important}.form-submit[data-v-5e686911]{background-color:var(--tainacan-gray1);position:sticky;bottom:0;padding:16px var(--tainacan-one-column);display:flex;justify-content:space-between;z-index:2}.form-submit[data-v-5e686911]::after,.form-submit[data-v-5e686911]::before{height:calc(2*(var(--tainacan-modal-border-radius, 8px) + 2px));width:calc(2*(var(--tainacan-modal-border-radius, 8px) + 2px));background:rgba(0,0,0,0);display:block;content:"";position:absolute}.form-submit[data-v-5e686911]::before{left:0;top:calc(-2*(var(--tainacan-modal-border-radius, 8px) + 2px));border-bottom-left-radius:calc(var(--tainacan-modal-border-radius, 8px) + 2px);box-shadow:calc(-1*(var(--tainacan-modal-border-radius, 8px) + 2px)) 0px 0 0 var(--tainacan-gray1)}.form-submit[data-v-5e686911]::after{right:0;top:calc(-2*(var(--tainacan-modal-border-radius, 8px) + 2px));border-bottom-right-radius:calc(var(--tainacan-modal-border-radius, 8px) + 2px);box-shadow:calc(var(--tainacan-modal-border-radius, 8px) + 2px) 0px 0 0 var(--tainacan-gray1)}',""]);const d=r},86812(t,a,e){e.d(a,{A:()=>i.A});var i=e(26971)},88731(t,a,e){e.d(a,{X:()=>i.X});var i=e(40152)},89191(t,a,e){e(61038)},91859(t,a,e){e.d(a,{A:()=>i.A});var i=e(456)},94229(t,a,e){e.d(a,{X:()=>s});var i=e(6934),n={key:0},o={class:"metadata-list-page"},r={class:"columns is-multiline"},d={key:1,class:"section"},l={class:"content has-text-dark has-text-centered"};function s(t,a,e,s,c,m){var u=(0,i.g2)("tainacan-title"),p=(0,i.g2)("repository-metadata-list"),v=(0,i.g2)("collection-metadata-list"),b=(0,i.g2)("metadata-types-list"),g=(0,i.g2)("b-tab-item"),h=(0,i.g2)("metadata-mapping-list"),f=(0,i.g2)("b-tabs");return(0,i.uX)(),(0,i.CE)("div",{class:(0,i.C4)({"tainacan-repository-level-colors page-container":c.isRepositoryLevel}),style:{"padding-bottom":"0"}},[(0,i.bF)(u,{"is-sticky":!0}),c.isRepositoryLevel?((0,i.uX)(),(0,i.CE)("p",n,(0,i.v_)(t.$i18n.get("info_repository_metadata_inheritance")),1)):(0,i.Q3)("",!0),(0,i.Lk)("div",o,[c.isRepositoryLevel&&t.$userCaps.hasCapability("tnc_rep_edit_metadata")||!c.isRepositoryLevel&&t.collection&&t.collection.current_user_can_edit_metadata?((0,i.uX)(),(0,i.Wv)(f,{key:0,modelValue:c.activeTab,"onUpdate:modelValue":a[2]||(a[2]=function(t){return c.activeTab=t})},{default:(0,i.k6)((function(){return[(0,i.bF)(g,{label:c.isRepositoryLevel?m.repositoryTabLabel:m.collectionTabLabel},{default:(0,i.k6)((function(){return[(0,i.Lk)("div",r,[c.isRepositoryLevel?((0,i.uX)(),(0,i.Wv)(p,{key:0,"metadata-type-filter-options":c.metadataTypeFilterOptions,onOnUpdateHighlightedMetadatum:a[0]||(a[0]=function(t){return c.highlightedMetadatum=t})},null,8,["metadata-type-filter-options"])):((0,i.uX)(),(0,i.Wv)(v,{key:1,"metadata-type-filter-options":c.metadataTypeFilterOptions,onOnUpdateHighlightedMetadatum:a[1]||(a[1]=function(t){return c.highlightedMetadatum=t})},null,8,["metadata-type-filter-options"])),(0,i.bF)(b,{"highlighted-metadatum":c.highlightedMetadatum,"is-repository-level":c.isRepositoryLevel,onOnFinishedLoadingMetadataTypes:m.createMetadataTypeFilterOptions},null,8,["highlighted-metadatum","is-repository-level","onOnFinishedLoadingMetadataTypes"])])]})),_:1},8,["label"]),(0,i.bF)(g,{label:t.$i18n.get("mapping")},{default:(0,i.k6)((function(){return[1==c.activeTab?((0,i.uX)(),(0,i.Wv)(h,{key:0,"is-repository-level":c.isRepositoryLevel},null,8,["is-repository-level"])):(0,i.Q3)("",!0)]})),_:1},8,["label"])]})),_:1},8,["modelValue"])):((0,i.uX)(),(0,i.CE)("section",d,[(0,i.Lk)("div",l,[a[3]||(a[3]=(0,i.Lk)("p",null,[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-30px tainacan-icon-metadata"})])],-1)),(0,i.Lk)("p",null,(0,i.v_)(t.$i18n.get("info_can_not_edit_metadata")),1)])]))])],2)}},95592(t,a,e){e.d(a,{X:()=>i.X});var i=e(55235)},96688(t,a,e){e.d(a,{A:()=>i.A});var i=e(38567)},96914(t,a,e){e(29799)},98023(t,a,e){e.d(a,{A:()=>o});var i=e(88731),n=e(86812);e(89191);const o=(0,e(66262).A)(n.A,[["render",i.X]])},98059(t,a,e){e.d(a,{X:()=>i.X});var i=e(24954)}}]);