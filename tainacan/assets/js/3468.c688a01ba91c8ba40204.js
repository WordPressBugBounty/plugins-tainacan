(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[3468],{1580(t,e,n){"use strict";n.d(e,{A:()=>a});var i=n(60014),r=n(84363);n(19380);const a=(0,n(66262).A)(r.A,[["render",i.X]])},13081(t,e,n){"use strict";n.d(e,{X:()=>o});var i=n(6934),r={key:1,style:{"background-color":"var(--tainacan-gray1)"},class:"file-placeholder"},a={class:"icon is-large"};function o(t,e,n,o,s,l){var c=(0,i.gN)("tooltip");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("figure",{class:(0,i.C4)(["file-item",{"shows-modal-on-click":n.modalOnClick}]),onClick:e[0]||(e[0]=function(t){return n.modalOnClick?l.openPreviewModal():null})},[n.showName&&null!=n.file.title?(0,i.bo)(((0,i.uX)(),(0,i.CE)("figcaption",{key:0,style:(0,i.Tr)({"max-width":null!=n.size?n.size+"px":"94px"})},[(0,i.eW)((0,i.v_)(n.file.title),1)],4)),[[c,{content:n.file.title,popperClass:["tainacan-tooltip","tooltip"]}]]):(0,i.Q3)("",!0),(0,i.Lk)("div",{style:(0,i.Tr)({width:null!=n.size?n.size+"px":"94px",height:null!=n.size?n.size+"px":"94px"}),class:"image-wrapper"},[n.file.thumbnails["tainacan-medium"]&&n.file.thumbnails["tainacan-medium"][0]||n.file.thumbnails.medium&&n.file.thumbnails.medium[0]?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"image",style:(0,i.Tr)({"background-image":"url("+(n.file.thumbnails["tainacan-medium"]?n.file.thumbnails["tainacan-medium"][0]:n.file.thumbnails.medium[0])+")"})},null,4)):((0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("span",a,[(0,i.Lk)("i",{class:(0,i.C4)(["tainacan-icon-"+l.getIconForMimeType(n.file.mime_type),"has-text-dark tainacan-icon tainacan-icon-36px"])},null,2)])]))],4)],2)])}},19380(t,e,n){"use strict";n(44761)},37776(t,e,n){"use strict";n.d(e,{X:()=>i.X});var i=n(85759)},38320(t,e,n){var i={"./ca":7306,"./ca.js":7306,"./el":54691,"./el.js":54691,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-nz":79402,"./en-nz.js":79402,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./sk":5784,"./sk.js":5784,"./sq":86794,"./sq.js":86794,"./sv":41011,"./sv.js":41011,"./uk":16618,"./uk.js":16618};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id=38320},44761(t,e,n){"use strict";var i=n(85072),r=n.n(i),a=n(97825),o=n.n(a),s=n(77659),l=n.n(s),c=n(55056),u=n.n(c),m=n(10540),f=n.n(m),d=n(63494),h=n.n(d),p=n(94648),g={};g.styleTagTransform=h(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=f();r()(p.A,g),p.A&&p.A.locals&&p.A.locals},57706(t,e,n){"use strict";n.d(e,{A:()=>i.A});var i=n(77513)},60014(t,e,n){"use strict";n.d(e,{X:()=>i.X});var i=n(13081)},72836(t,e,n){"use strict";n.d(e,{A:()=>r});var i=n(93725);const r={name:"FileItem",props:{file:Object,size:94,showName:!1,isSelected:!1,modalOnClick:!0},methods:{getIconForMimeType:function(t){if(!t)return"attatchments";var e=t.split("/");if("application"==e[0]&&null!=e[1])return"pdf"===e[1]?"pdf":"attachments";switch(e[0]){case"video":return"video";case"audio":return"audio";case"text":return"text";default:return"attachments"}},openPreviewModal:function(){this.$buefy.modal.open({component:i.A,props:{file:this.file},ariaModal:!0,width:1024,scroll:"keep",trapFocus:!0,ariaRole:"dialog",customClass:"tainacan-modal",canCancel:["escape","outside"]})}}}},74042(t,e,n){"use strict";n.d(e,{$J:()=>m,X3:()=>f,lg:()=>u,zt:()=>d});var i=n(75552),r=n(55373),a=n.n(r),o=n(95093),s=n.n(o);function l(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var _n=0,i=function(){};return{s:i,n:function(){return _n>=t.length?{done:!0}:{done:!1,value:t[_n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){o=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var u={methods:{getSamplePermalink:function(t,e,n){var r={action:"tainacan-sample-permalink",post_id:t,new_title:e,new_slug:n};return"undefined"!=typeof tainacan_user&&tainacan_user.ajax_nonce&&(r._ajax_nonce=tainacan_user.ajax_nonce),i.M3.post("",a().stringify(r))}}},m={created:function(){var t=navigator.language;s().locale(t);var e=s().localeData();this.dateFormat=e.longDateFormat("L")?e.longDateFormat("L"):"pt_BR"==e._abbr?"DD/MM/YYYY":"YYYY-MM-DD",this.dateMask=this.dateFormat.replace(/[\w]/g,"0")},data:function(){return{dateFormat:"",dateMask:""}},methods:{parseDateToNavigatorLanguage:function(t){return t=new Date(t.replace(/-/g,"/")),s()(t,s().ISO_8601).format(this.dateFormat)}}},f={data:function(){return{formHooks:JSON.parse(JSON.stringify(tainacan_plugin.form_hooks)),formHookEventName:""}},computed:{hasBeginLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-left"]&&this.formHooks[this.entityName]["begin-left"].length>0},hasBeginRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["begin-right"]&&this.formHooks[this.entityName]["begin-right"].length>0},hasEndLeftForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-left"]&&this.formHooks[this.entityName]["end-left"].length>0},hasEndRightForm:function(){return this.formHooks&&this.formHooks[this.entityName]&&this.formHooks[this.entityName]["end-right"]&&this.formHooks[this.entityName]["end-right"].length>0},getBeginLeftForm:function(){var t=this;return this.formHooks[this.entityName]["begin-left"].map((function(e){return t.checkFormConditionals(e)})).join("")},getBeginRightForm:function(){var t=this;return this.formHooks[this.entityName]["begin-right"].map((function(e){return t.checkFormConditionals(e)})).join("")},getEndLeftForm:function(){var t=this;return this.formHooks[this.entityName]["end-left"].map((function(e){return t.checkFormConditionals(e)})).join("")},getEndRightForm:function(){var t=this;return this.formHooks[this.entityName]["end-right"].map((function(e){return t.checkFormConditionals(e)})).join("")}},created:function(){this.formHookEventName="tainacan-"+this.entityName+"-hook-reload",this.formHookEvent=new Event(this.formHookEventName)},updated:function(){this.formHooks[this.entityName]&&document.dispatchEvent(this.formHookEvent)},methods:{fillExtraFormData:function(t){for(var e=0,n=["begin-left","begin-right","end-left","end-right"];e<n.length;e++){var i=n[e];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var r=document.getElementById("form-"+this.entityName+"-"+i);if(r){var a,o=l(r.elements);try{for(o.s();!(a=o.n()).done;){var s=a.value;"checkbox"==s.type||"select"==s.type&&null!=s.multiple&&1==s.multiple?s.checked&&null!=s.name&&""!=s.name&&(Array.isArray(t[s.name])||(t[s.name]=[]),t[s.name].push(s.value)):"radio"==s.type?s.checked&&null!=s.name&&""!=s.name&&(t[s.name]=s.value):t[s.name]=s.value}}catch(t){o.e(t)}finally{o.f()}}}}},updateExtraFormData:function(t){for(var e=0,n=["begin-left","begin-right","end-left","end-right"];e<n.length;e++){var i=n[e];if(this.formHooks[this.entityName]&&this.formHooks[this.entityName][i]&&null!=this.formHooks[this.entityName][i]){var r=document.getElementById("form-"+this.entityName+"-"+i);if(r){var a,o=l(r.elements);try{var s=function(){for(var e=a.value,n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];if(e.name==r)if(Array.isArray(t[r])){var o=t[r].find((function(t){return t==e.value}));e.checked=null!=o}else null!=t[r]&&null!=t[r]&&""!=t[r]&&("radio"==e.type?e.checked=t[r]==e.value:e.value=t[r])}};for(o.s();!(a=o.n()).done;)s()}catch(t){o.e(t)}finally{o.f()}}}}},checkFormConditionals:function(t){if(!t.form)return"";if(!t.conditional||!Object.keys(t.conditional)||!Object.keys(t.conditional).length)return t.form;var e=t.conditional.attribute,n=t.conditional.value;if(e&&n)return this.form&&this.form[e]===n?t.form:"";for(var i=0,r=Object.keys(t.conditional);i<r.length;i++){var a=r[i];if(!this.form||!this.form[a]||this.form[a]!==t.conditional[a])return""}return t.form}}},d={props:{chartData:{},isFetchingData:!1},data:function(){return{isBuildingChart:!1,chartSeries:[],chartOptions:{}}}}},77513(t,e,n){"use strict";n.d(e,{A:()=>i});const i={name:"FilePreviewModal",props:{file:Object},emits:["close"]}},84363(t,e,n){"use strict";n.d(e,{A:()=>i.A});var i=n(72836)},85759(t,e,n){"use strict";n.d(e,{X:()=>h});var i=n(6934);function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var o={autofocus:"",role:"dialog",tabindex:"-1","aria-modal":"",class:"tainacan-modal-content"},s={class:"tainacan-modal-title"},l={key:0},c=["aria-label"],u=["innerHTML"],m=["src"],f={class:"field is-grouped form-submit"},d={class:"control"};function h(t,e,n,a,h,p){return(0,i.uX)(),(0,i.CE)("div",o,[(0,i.Lk)("header",s,[null!=n.file.title?((0,i.uX)(),(0,i.CE)("h2",l,(0,i.v_)(t.$i18n.get("label_attachment")+": "+n.file.title),1)):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"button is-medium is-white is-align-self-flex-start","aria-label":t.$i18n.get("close"),onClick:e[0]||(e[0]=function(e){return t.$emit("close")})},r(e[2]||(e[2]=[(0,i.Lk)("span",{"aria-hidden":"true",class:"icon"},[(0,i.Lk)("i",{class:"tainacan-icon tainacan-icon-close tainacan-icon-1-125em"})],-1)])),8,c)]),(0,i.Lk)("div",{class:"is-flex rendered-content",innerHTML:n.file.description?n.file.description:"<img alt='"+t.$i18n.get("label_thumbnail")+"' src='"+n.file.url+"'/>"},null,8,u),null!=n.file.url&&null!=n.file.url&&null!=n.file.mime_type&&"application/pdf"==n.file.mime_type?((0,i.uX)(),(0,i.CE)("iframe",{key:0,style:{width:"100%","min-height":"50vh"},src:n.file.url},null,8,m)):(0,i.Q3)("",!0),(0,i.Lk)("div",f,[(0,i.Lk)("div",d,[(0,i.Lk)("button",{id:"button-cancel-file-preview",class:"button is-outlined",type:"button",onClick:e[1]||(e[1]=function(e){return t.$emit("close")})},(0,i.v_)(t.$i18n.get("exit")),1)])])])}},93725(t,e,n){"use strict";n.d(e,{A:()=>a});var i=n(37776),r=n(57706);const a=(0,n(66262).A)(r.A,[["render",i.X]])},94648(t,e,n){"use strict";n.d(e,{A:()=>s});var i=n(31601),r=n.n(i),a=n(76314),o=n.n(a)()(r());o.push([t.id,".file-item{display:inline-block}.file-item.shows-modal-on-click:hover{cursor:pointer}.file-item.shows-modal-on-click:hover .image,.file-item.shows-modal-on-click:hover .file-placeholder{transform:scale(1.05)}.file-item:hover figcaption{background-color:var(--tainacan-gray1)}.file-item .image-wrapper{overflow:hidden;position:relative;display:inline-block}.file-item .image-wrapper .image{height:100%;width:100%;border-radius:var(--tainacan-item-border-radius, 3px);background-size:cover;background-position:center;background-repeat:no-repeat;transition:all .3s}.file-item .image-wrapper .file-placeholder{height:100%;width:100%;border-radius:var(--tainacan-item-border-radius, 3px);text-align:center;display:flex;justify-content:center;align-items:center;transition:all .3s}.file-item figcaption{background-color:var(--tainacan-white);padding:8px 15px;font-size:.75em;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:center;border-top-left-radius:var(--tainacan-item-border-radius, 3px);border-top-right-radius:var(--tainacan-item-border-radius, 3px)}.tainacan-modal-title{text-align:start}.rendered-content{justify-content:center !important;flex-direction:column;align-items:center}.rendered-content p.attachment>a{display:block}",""]);const s=o}}]);